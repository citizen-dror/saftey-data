"use strict";(self.webpackChunkhello_world=self.webpackChunkhello_world||[]).push([[138],{8792:(e,s,t)=>{t.d(s,{A:()=>c});t(5043);var r=t(4117),a=t(9853),l=t(8602),i=t(579);const n={width:"150px"},c=e=>{let{label:s,id:t,data:c,value:o,onChange:d}=e;const{t:h}=(0,r.Bd)(),p=c.map(((e,s)=>(0,i.jsx)("option",{value:e.val,children:h(e.text)},s)));return(0,i.jsx)("div",{children:(0,i.jsxs)(a.A.Group,{as:l.A,controlId:t,children:[s&&(0,i.jsxs)(a.A.Label,{className:"selectLabel",children:[h(s),":"]}),(0,i.jsx)(a.A.Control,{as:"select",className:"form-select form-select-sm",style:n,value:o,onChange:e=>{d(e.target.value)},children:p})]})})}},8138:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ce});var r=t(5043),a=t(9896),l=t(9419),i=t(2023),n=t(228),c=t.n(n),o=t(6233),d=t(302),h=t(2862),p=(t(6433),t(6072)),f=t(4812);const C=()=>{const{filterStore:e,mapStore:s,uiStore:t}=(0,h.Pj)(),{isUse2StepsMarkers:a,markersLoadStep:l,dataMarkersLean:i,dataAllInjuries:n}=e,{bboxType:c,dataMarkersInBounds:o,markerIconsType:d,markerColorType:C}=s,[x,u]=(0,r.useState)([]);return(0,r.useEffect)((()=>{const e=(0,f.fm)((()=>{let e;e=c!==p.m.NO_BBOX?(0,f.HO)(o):a&&1===l?(0,f.HO)(i):(0,f.HO)(n);const s=e.map((e=>{try{const s=null===e.latitude||isNaN(Number(e.latitude))?null:parseFloat(Number(e.latitude).toFixed(10)),r=null===e.longitude||isNaN(Number(e.longitude))?null:parseFloat(Number(e.longitude).toFixed(10));return null!==s&&null!==r?{key:`marker-${e._id}`,position:[s,r],data:e,language:t.language,colorBy:C,markerIconsType:d}:null}catch(s){return console.error(s),null}})).filter((e=>null!==e));u(s)}));return()=>{e()}}),[c,o,i,n,l,a,t.language,C,d]),x};var x=t(6036),u=t(6885);const L=e=>{let s="";switch(e){case"":case"\u05d4\u05d5\u05dc\u05da \u05e8\u05d2\u05dc":s="#4cc9f0";break;case"\u05e8\u05db\u05d1 \u05e0\u05d5\u05e1\u05e2\u05d9\u05dd \u05e4\u05e8\u05d8\u05d9":case"\u05de\u05db\u05d5\u05e0\u05d9\u05ea":s="#f72585";break;case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 \u05e2\u05d3 50 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 51 \u05e2\u05d3 125 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 126 \u05e2\u05d3 400 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 401+ \u05e1\u05de"\u05e7':case"\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2":s="#b5179e";break;case"\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd":s="#4895ef";break;case"\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd \u05d7\u05e9\u05de\u05dc\u05d9\u05d9\u05dd":case"\u05d7\u05e9\u05de\u05dc\u05d9 \u05d3\u05d5 \u05d2\u05dc\u05d2\u05dc\u05d9":case"\u05e7\u05d5\u05e8\u05e7\u05d9\u05e0\u05d8 \u05d7\u05e9\u05de\u05dc\u05d9":s="#3f37c9";break;default:s="#FE4E00"}return s},m=e=>{let s="";switch(e){case"\u05e4\u05d2\u05d9\u05e2\u05d4 \u05d1\u05d4\u05d5\u05dc\u05da \u05e8\u05d2\u05dc":s="#f94144";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d0\u05d7\u05d5\u05e8 \u05d0\u05dc \u05e6\u05d3":s="#277da1";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d0\u05d7\u05d5\u05e8 \u05d1\u05d7\u05d6\u05d9\u05ea":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d7\u05d6\u05d9\u05ea \u05d1\u05d0\u05d7\u05d5\u05e8":s="#577590";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d7\u05d6\u05d9\u05ea \u05d1\u05d7\u05d6\u05d9\u05ea":s="#43aa8b";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d7\u05d6\u05d9\u05ea \u05d1\u05e6\u05d3":s="#90be6d";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e6\u05d3 \u05d1\u05e6\u05d3":s="#f9c74f";break;case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05d1\u05e2\u05dc \u05d7\u05d9\u05d9\u05dd":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e2\u05e6\u05dd \u05d3\u05d5\u05de\u05dd":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e8\u05db\u05d1 \u05d7\u05d5\u05e0\u05d4":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e8\u05db\u05d1 \u05e9\u05e0\u05e2\u05e6\u05e8 \u05dc\u05dc\u05d0 \u05d7\u05e0\u05d9\u05d4":s="#f9844a";break;case"\u05d4\u05d7\u05dc\u05e7\u05d4":s="#f8961e";break;case"\u05d4\u05ea\u05d4\u05e4\u05db\u05d5\u05ea":s="#f3722c";break;default:s="#333333"}return s},j=e=>{let s="";switch(e){case"\u05e2\u05e6\u05de\u05d9\u05ea":case"\u05d4\u05d7\u05dc\u05e7\u05d4":case"\u05d4\u05ea\u05d4\u05e4\u05db\u05d5\u05ea":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e2\u05e6\u05dd \u05d3\u05d5\u05de\u05dd":case"\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e8\u05db\u05d1 \u05d7\u05d5\u05e0\u05d4":case"\u05d9\u05e8\u05d9\u05d3\u05d4 \u05de\u05d4\u05db\u05d1\u05d9\u05e9 \u05d0\u05d5 \u05e2\u05dc\u05d9\u05d9\u05d4 \u05dc\u05de\u05d3\u05e8\u05db\u05d4":case"\u05e4\u05d2\u05d9\u05e2\u05d4 \u05d1\u05e0\u05d5\u05e1\u05e2 \u05d1\u05ea\u05d5\u05da \u05db\u05dc\u05d9 \u05d4\u05e8\u05db\u05d1":case"\u05e0\u05e4\u05d9\u05dc\u05d4 \u05de\u05e8\u05db\u05d1 \u05e0\u05e2":s="#138D75";break;default:s="#f94144"}return s},g=e=>{let s="";if("\u05d4\u05e8\u05d5\u05d2"===e)s="#CA273B";else s="#F8A141";return s},w=e=>{let s="";if("\u05d9\u05d5\u05dd"===e)s="#ffcc00";else s="#333333";return s},v=e=>{let s="";switch(e){case"\u05e0\u05e7\u05d1\u05d4":s="#4895ef";break;case"\u05d6\u05db\u05e8":s="#1E6091";break;default:s="#FDE2E4"}return s},k=e=>{let s="";switch(e){case"\u05dc\u05d0-\u05e2\u05d9\u05e8\u05d5\u05e0\u05d9\u05ea \u05dc\u05d0 \u05d1\u05e6\u05d5\u05de\u05ea":case"\u05e2\u05d9\u05e8\u05d5\u05e0\u05d9\u05ea \u05dc\u05d0 \u05d1\u05e6\u05d5\u05de\u05ea":case"\u05dc\u05d0 \u05d1\u05e6\u05d5\u05de\u05ea":s="#4895ef";break;case"\u05dc\u05d0-\u05e2\u05d9\u05e8\u05d5\u05e0\u05d9\u05ea \u05d1\u05e6\u05d5\u05de\u05ea":case"\u05e2\u05d9\u05e8\u05d5\u05e0\u05d9\u05ea \u05d1\u05e6\u05d5\u05de\u05ea":case"\u05d1\u05e6\u05d5\u05de\u05ea":s="#CD6155";break;default:s="#FDE2E4"}return s},y=(e,s)=>{const t=[];return e.forEach((e=>{t.push(`<div><i style="background:${s(e)}"></i> ${e}</div>`)})),t};var _=t(579);const b=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{fill:"#ffffff",d:"M 7.871 20.859 C 5.374 20.859 3.812 17.908 5.061 15.547 C 6.311 13.186 9.432 13.186 10.681 15.547 C 10.967 16.085 11.117 16.694 11.117 17.319 C 11.113 19.273 9.662 20.856 7.871 20.859 Z M 7.871 15.35 C 6.483 15.35 5.617 16.989 6.311 18.302 C 7.005 19.614 8.739 19.614 9.432 18.302 C 9.589 18.004 9.674 17.668 9.674 17.325 C 9.679 16.235 8.871 15.35 7.871 15.35 Z"}),(0,_.jsx)("path",{fill:"#ffffff",d:"M 17.248 20.859 C 14.749 20.859 13.187 17.908 14.437 15.547 C 15.686 13.186 18.808 13.186 20.058 15.547 C 20.342 16.085 20.493 16.694 20.493 17.319 C 20.488 19.273 19.037 20.856 17.248 20.859 Z M 17.248 15.35 C 15.859 15.35 14.991 16.989 15.686 18.302 C 16.379 19.614 18.114 19.614 18.808 18.302 C 18.966 18.003 19.05 17.663 19.05 17.319 C 19.05 16.231 18.242 15.35 17.248 15.35 Z"}),(0,_.jsx)("path",{fill:"#ffffff",d:"M 12.56 18.498 C 12.16 18.498 11.838 18.146 11.838 17.711 L 11.838 14.894 L 9.531 12.383 C 9.247 12.075 9.247 11.573 9.531 11.265 L 11.564 9.093 C 11.918 8.625 12.602 8.751 12.797 9.319 C 12.907 9.643 12.811 10.007 12.56 10.218 L 11.053 11.792 L 13.058 13.972 C 13.205 14.126 13.285 14.341 13.281 14.564 L 13.281 17.711 C 13.281 18.146 12.957 18.498 12.56 18.498 Z"}),(0,_.jsx)("path",{fill:"#ffffff",d:"M 16.395 12.745 L 14.233 12.745 C 14.044 12.744 13.862 12.662 13.727 12.517 L 11.564 10.218 C 11.124 9.848 11.214 9.098 11.728 8.867 C 12.02 8.735 12.357 8.827 12.56 9.093 L 14.514 11.17 L 16.383 11.17 C 16.937 11.17 17.284 11.826 17.006 12.351 C 16.878 12.594 16.639 12.745 16.383 12.745 Z"}),(0,_.jsx)("circle",{fill:"#ffffff",cx:"14.32",cy:"4",r:"2",transform:"matrix(0.721159, 0, 0, 0.787069, 3.905845, 4.331152)"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},F=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{id:"svg_2",d:"M 8 19.5 C 5.8 19.5 4.4 17.3 5.5 15.6 C 6.6 13.9 9.4 13.9 10.5 15.6 C 10.8 16 10.9 16.4 10.9 16.9 C 10.9 18.3 9.6 19.5 8 19.5 Z M 8 16 C 7.3 16 6.8 16.8 7.2 17.3 C 7.5 17.9 8.5 17.9 8.8 17.3 C 8.9 17.2 9 17 9 16.9 C 9 16.4 8.5 16 8 16 Z",stroke:"none",fill:"#ffffff"}),(0,_.jsx)("path",{id:"svg_3",d:"M 18.2 19.6 C 16 19.6 14.6 17.4 15.7 15.7 C 16.8 14 19.6 14 20.7 15.7 C 20.9 16.1 21.1 16.5 21.1 17 C 21.1 18.4 19.8 19.6 18.2 19.6 Z M 18.2 16.1 C 17.4 16.1 17 16.9 17.4 17.4 C 17.7 18 18.7 18 19 17.4 C 19.1 17.3 19.2 17.1 19.2 17 C 19.2 16.5 18.7 16.1 18.2 16.1 Z",fill:"#ffffff"}),(0,_.jsx)("path",{id:"svg_4",d:"M 15.8 17.8 L 9.9 17.8 C 9.3 17.8 8.9 17 9.2 16.5 C 9.3 16.2 9.6 16 9.9 16 L 15.8 16 C 16.5 16 16.9 16.8 16.6 17.3 C 16.4 17.6 16.1 17.8 15.8 17.8 Z",fill:"#ffffff"}),(0,_.jsx)("path",{id:"svg_5",d:"M 5.9 17.6 L 4.9 17.6 C 3.9 17.6 3 16.9 3 16 L 3 8.7 C 3 7.3 4.3 6.2 5.9 6.2 L 17.5 6.2 C 20.1 6.2 22.3 8.1 22.3 10.3 L 22.3 13.6 C 22.3 14.2 21.5 14.6 20.8 14.3 C 20.5 14.1 20.3 13.9 20.3 13.6 L 20.3 10.3 C 20.3 9 19.1 7.9 17.5 7.9 L 5.9 7.9 C 5.4 7.9 4.9 8.2 4.9 8.7 L 4.9 16 L 5.9 16 C 6.6 16 7.1 16.7 6.7 17.2 C 6.5 17.5 6.2 17.6 5.9 17.6 Z",fill:"#ffffff"}),(0,_.jsx)("path",{id:"svg_6",stroke:"#ffffff",d:"M 20.5 11.8 L 8.9 11.8 C 8.2 11.8 7.7 11.5 8.1 11.2 C 8.2 11 8.6 10.9 8.9 10.9 L 20.5 10.9 C 21.2 10.9 21.7 11.3 21.3 11.6 C 21.1 11.8 20.8 11.8 20.5 11.8 Z",fill:"#ffffff"}),(0,_.jsx)("path",{id:"svg_7",d:"M 21.3 11.7 L 21.3 10.8 C 21.3 8.9 19.7 7.4 17.8 7.4 L 17.8 11.7 L 21.3 11.7 Z",fill:"#ffffff"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},M=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M13 0C6.0974 0 0.481453 5.83195 0.481453 13C0.481453 15.1519 0.999529 17.2855 1.98441 19.1779L12.3154 33.5811C12.4529 33.8397 12.715 34 13 34C13.285 34 13.547 33.8397 13.6846 33.5811L24.0194 19.1715C25.0005 17.2855 25.5185 15.1518 25.5185 12.9999C25.5185 5.83195 19.9026 0 13 0Z",fill:s}),(0,_.jsx)("circle",{stroke:"#FFF",cx:"5.116",cy:"17.427",r:"3",id:"svg_2",transform:"matrix(0.681942, 0, 0, 0.723209, 3.744888, 3.238379)"}),(0,_.jsx)("circle",{stroke:"#FFF",cx:"21.116",cy:"17.427",r:"3",id:"svg_3",transform:"matrix(0.681942, 0, 0, 0.723209, 3.744888, 3.238379)"}),(0,_.jsx)("line",{stroke:"#FFF",x1:"21.554",x2:"22.918",y1:"12.948",y2:"12.948",id:"svg_4"}),(0,_.jsx)("line",{stroke:"#FFF",x1:"5.188",x2:"18.827",y1:"10.78",y2:"10.78",id:"svg_5"}),(0,_.jsx)("line",{stroke:"#FFF",x1:"11.326",x2:"9.279",y1:"6.44",y2:"10.78",id:"svg_6"}),(0,_.jsx)("path",{stroke:"#FFF",d:"M 20.191 15.842 L 22.918 15.842 C 23.327 15.842 23.6 15.552 23.6 15.118 L 23.6 13.672 C 23.6 12.082 22.373 10.78 20.872 10.78 L 18.827 10.78 L 16.235 7.453 C 15.69 6.802 14.94 6.44 14.122 6.44 L 8.938 6.44 C 7.915 6.44 6.961 7.091 6.483 8.031 L 5.188 10.78 L 4.506 10.78 C 3.756 10.78 3.142 11.431 3.142 12.226 L 3.142 15.118 C 3.142 15.552 3.415 15.842 3.824 15.842 L 5.188 15.842",id:"svg_7"}),(0,_.jsx)("line",{stroke:"#FFF",x1:"9.279",x2:"16.099",y1:"15.842",y2:"15.842",id:"svg_8"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},A=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("circle",{fill:"#fff",cx:"12.764",cy:"12.26",r:"5.228"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},T=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{fill:"#FFF",d:"M 18.606 19.589 C 16.021 19.589 14.406 17.045 15.698 15.007 C 16.991 12.972 20.224 12.972 21.517 15.007 C 21.811 15.472 21.966 16 21.966 16.534 C 21.966 18.222 20.462 19.589 18.606 19.589 Z M 18.606 15.007 C 17.314 15.007 16.507 16.28 17.153 17.297 C 17.799 18.316 19.415 18.316 20.061 17.297 C 20.209 17.065 20.288 16.804 20.288 16.534 C 20.288 15.692 19.537 15.007 18.606 15.007 Z"}),(0,_.jsx)("path",{fill:"#FFF",d:"M 6.85 19.589 C 4.267 19.589 2.647 17.045 3.942 15.007 C 5.233 12.972 8.467 12.972 9.758 15.007 C 10.054 15.472 10.209 16 10.209 16.534 C 10.209 18.222 8.705 19.589 6.85 19.589 Z M 6.85 15.007 C 5.556 15.007 4.751 16.28 5.396 17.297 C 6.043 18.316 7.659 18.316 8.305 17.297 C 8.451 17.065 8.531 16.804 8.531 16.534 C 8.531 15.692 7.779 15.007 6.85 15.007 Z"}),(0,_.jsx)("path",{fill:"#FFF",stroke:"none",d:"M 12.728 17.297 L 7.691 17.297 C 7.043 17.297 6.638 16.662 6.965 16.152 C 7.113 15.916 7.392 15.772 7.691 15.772 L 12.728 15.772 C 13.375 15.772 13.778 16.408 13.456 16.916 C 13.304 17.154 13.028 17.297 12.728 17.297 Z"}),(0,_.jsx)("path",{fill:"#FFF",stroke:"none",d:"M 13.567 15.007 L 11.889 15.007 C 11.664 15.008 11.451 14.928 11.292 14.787 L 8.185 11.954 L 6.011 11.954 C 5.786 11.955 5.574 11.875 5.416 11.733 L 4.575 10.969 C 4.115 10.551 4.326 9.839 4.953 9.687 C 5.244 9.617 5.554 9.694 5.768 9.885 L 6.357 10.428 L 8.531 10.428 C 8.754 10.428 8.967 10.506 9.127 10.649 L 12.233 13.482 L 13.258 13.482 L 15.963 11.375 C 16.114 11.256 16.307 11.19 16.508 11.19 L 19.101 11.19 C 19.29 11.186 19.444 11.05 19.447 10.879 C 19.449 10.795 19.412 10.709 19.345 10.649 L 15.492 7.153 C 15.032 6.734 15.243 6.022 15.869 5.871 C 16.162 5.799 16.471 5.875 16.684 6.068 L 20.529 9.573 C 20.915 9.915 21.13 10.388 21.125 10.879 C 21.125 11.895 20.221 12.718 19.101 12.718 L 16.818 12.718 L 14.114 14.826 C 13.96 14.943 13.769 15.007 13.567 15.007 Z"}),(0,_.jsx)("path",{fill:"#FFF",stroke:"none",d:"M 11.889 11.954 L 6.011 11.954 C 5.364 11.954 4.961 11.317 5.283 10.809 C 5.434 10.573 5.71 10.428 6.011 10.428 L 11.545 10.428 L 12.973 9.122 C 13.132 8.98 13.344 8.9 13.567 8.902 L 15.249 8.902 C 15.894 8.902 16.299 9.537 15.976 10.046 C 15.824 10.282 15.547 10.428 15.249 10.428 L 13.912 10.428 L 12.485 11.733 C 12.326 11.875 12.112 11.955 11.889 11.954 Z"}),(0,_.jsx)("path",{fill:"#FFF",stroke:"none",d:"M 17.768 8.137 L 17.768 11.954 L 19.101 11.954 C 20.013 11.957 20.588 11.063 20.136 10.342 C 20.082 10.258 20.017 10.183 19.942 10.114 Z"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},Z=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("polyline",{stroke:"#FFF",strokeWidth:"1",strokeLinecap:"round",points:"15.363 6.284 16.84 6.284 18.811 18.838"}),(0,_.jsx)("circle",{stroke:"#FFF",strokeWidth:"2",cx:"28",cy:"25",r:"3",transform:"matrix(0.492416, 0, 0, 0.62765, 5.022794, 3.145868)"}),(0,_.jsx)("circle",{stroke:"#FFF",strokeWidth:"2",cx:"4",cy:"25",r:"3",transform:"matrix(0.492416, 0, 0, 0.62765, 5.022794, 3.145868)"}),(0,_.jsx)("path",{stroke:"#FFF",strokeWidth:"1",strokeLinecap:"round",d:"M 6.993 15.07 C 8.618 15.07 9.947 16.766 9.947 18.838"}),(0,_.jsx)("polyline",{stroke:"#FFF",strokeWidth:"1",strokeLinecap:"round",points:"17.825 13.815 15.363 18.838 6.993 18.838"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},B=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{fill:"#FFF",d:"M 7.415 9.199 C 7.709 8.437 8.075 7.814 8.589 7.329 C 9.102 6.845 9.763 6.43 10.495 6.153 C 11.228 5.876 12.11 5.737 13.062 5.737 C 13.796 5.737 14.53 5.876 15.191 6.083 C 15.85 6.292 16.437 6.638 16.95 6.984 C 17.465 7.329 17.83 7.884 18.124 8.437 C 18.418 8.99 18.564 9.684 18.564 10.444 C 18.564 11.414 18.343 12.176 17.903 12.869 C 17.465 13.562 16.877 14.183 16.216 14.806 C 15.63 15.361 15.191 15.775 14.898 16.052 C 14.53 16.329 14.31 16.675 14.163 16.952 C 14.017 17.229 13.87 17.575 13.87 17.991 C 13.796 18.406 13.796 18.684 13.796 19.444 L 12.11 19.444 C 12.11 18.684 12.11 18.338 12.256 17.854 C 12.329 17.299 12.549 16.883 12.771 16.398 C 12.991 15.982 13.356 15.568 13.724 15.152 C 14.163 14.737 14.603 14.322 15.191 13.838 C 15.704 13.422 16.144 12.938 16.437 12.384 C 16.804 11.829 16.95 11.207 16.95 10.584 C 16.95 10.099 16.877 9.615 16.657 9.199 C 16.437 8.784 16.144 8.437 15.85 8.091 C 15.556 7.745 15.117 7.538 14.603 7.4 C 14.163 7.26 13.649 7.123 13.137 7.123 C 12.403 7.123 11.743 7.26 11.228 7.466 C 10.644 7.676 10.202 8.022 9.835 8.437 C 9.47 8.853 9.176 9.337 9.029 9.891 C 8.882 10.444 8.736 10.93 8.811 11.553 L 7.122 11.553 C 7.05 10.584 7.122 9.96 7.415 9.199 L 7.415 9.199 Z M 11.816 21.314 L 13.87 21.314 L 13.87 23.253 L 11.816 23.253 L 11.816 21.314 Z",id:"Fill-48"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})},P=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{fill:"#FFF",d:"m6.66667,22a3,3 0 1 1 3,-3a3,3 0 0 1 -3,3zm0,-4a1,1 0 1 0 1,1a1,1 0 0 0 -1,-1z",id:"svg_2"}),(0,_.jsx)("path",{fill:"#FFF",d:"m18.66667,22a3,3 0 1 1 3,-3a3,3 0 0 1 -3,3zm0,-4a1,1 0 1 0 1,1a1,1 0 0 0 -1,-1z",id:"svg_3"}),(0,_.jsx)("path",{fill:"#FFF",d:"m13.66667,20l-5,0a1,1 0 0 1 0,-2l4,0l0,-10l-8,0l0,8a1,1 0 0 1 -2,0l0,-9a1,1 0 0 1 1,-1l10,0a1,1 0 0 1 1,1l0,12a1,1 0 0 1 -1,1z",id:"svg_4"}),(0,_.jsx)("path",{fill:"#FFF",d:"m21.66667,16a1,1 0 0 1 -1,-1l0,-0.67l-2.2,-2.93a1,1 0 0 0 -0.8,-0.4l-4,0a1,1 0 0 1 0,-2l4,0a3,3 0 0 1 2.4,1.2l2.4,3.2a1,1 0 0 1 0.2,0.6l0,1a1,1 0 0 1 -1,1z",id:"svg_5"}),(0,_.jsx)("path",{fill:"#FFF",d:"m20.66667,14l-2,0a2,2 0 0 1 -2,-2l0,-2l2,0l2,4z",id:"svg_6"}),(0,_.jsx)("path",{fill:"#FFF",d:"m19.66667,14l-3,0a1,1 0 0 1 0,-2l3,0a1,1 0 0 1 0,2z",id:"svg_7"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})};t(5489);t.p;t.p;t.p;const N=e=>{let{fill:s="red",width:t=24.6,height:r=30,isAccuratePos:a=!0}=e;return(0,_.jsxs)("svg",{width:t,height:r,viewBox:"0 0 26 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_.jsx)("path",{d:"M 12.781 0.357 C 6.028 0.357 0.532 5.963 0.532 12.854 C 0.532 14.922 1.04 16.973 2.003 18.793 L 12.112 32.637 C 12.247 32.886 12.502 33.04 12.781 33.04 C 13.06 33.04 13.316 32.886 13.452 32.637 L 23.564 18.786 C 24.524 16.973 25.031 14.922 25.031 12.854 C 25.031 5.963 19.536 0.357 12.781 0.357 Z",fill:s}),(0,_.jsx)("path",{fill:"#FFF",d:"M 8.758 11.611 L 11.571 9.763 C 11.887 9.554 12.27 9.446 12.661 9.459 C 13.64 9.48 14.495 10.06 14.793 10.902 C 14.955 11.366 15.104 11.678 15.239 11.841 C 16.067 12.839 17.368 13.427 18.749 13.426 L 18.749 15.014 C 16.913 15.016 15.173 14.274 14.008 12.993 L 13.396 16.132 L 15.204 17.504 L 17.155 22.352 L 15.506 22.895 L 13.715 18.448 L 10.74 16.189 C 10.242 15.826 10.002 15.248 10.113 14.678 L 10.56 12.388 L 9.966 12.779 L 8.099 15.102 L 6.679 14.169 L 8.743 11.601 L 8.758 11.611 Z M 11.312 19.522 L 8.492 22.562 L 7.147 21.543 L 9.759 18.729 L 10.414 16.998 L 11.986 18.189 L 11.312 19.522 Z"}),(0,_.jsx)("circle",{fill:"#FFF",cx:"24.241",cy:"8.905",r:"3.8",transform:"matrix(0.508679, 0, 0, 0.466243, 1.41729, 3.309399)"}),!a&&(0,_.jsx)("path",{transform:"matrix(0.2, 0, 0, 0.2, 9, 28)",fill:"#000000",d:"M13.98,0.84v12.66L1.94,9.59L0,15.6l12.05,3.92l-7.45,10.26l5.09,3.7L17.15,23.18l7.45,10.26l5.09-3.7L22.29,19.5L34,15.6l-1.94-5.98l-12.05,3.92V0.85H13.98L13.98,0.84z"})]})};var S=t(4117),z=t(3318);const I=e=>{let{data:s,language:t}=e;const r={color:"#004ba0"},{t:a}=(0,S.Bd)();return void 0!==s.injured_type_hebrew?(0,_.jsx)(z.z,{children:(0,_.jsxs)("div",{className:`text${t}`,children:[(0,_.jsxs)("div",{children:[(0,_.jsxs)("span",{style:r,children:[a("When"),":"]})," ",s.accident_timestamp.slice(0,16),", ",s.day_in_week_hebrew,", ",s.day_night_hebrew]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("span",{style:r,children:[a("Who"),":"]})," ",s.injured_type_hebrew,", ",s.injury_severity_hebrew,", ",s.vehicle_vehicle_type_hebrew?`${s.vehicle_vehicle_type_hebrew}, `:""," ",s.sex_hebrew,", ",s.age_group_hebrew,", ",s.population_type_hebrew]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("span",{style:r,children:[a("Where"),":"]}),s.accident_yishuv_name?`${s.accident_yishuv_name}, `:"",s.street1_hebrew?`${s.street1_hebrew}, `:"",s.street2_hebrew?`${s.street2_hebrew}, `:"",s.road1?`${a("Road")} ${s.road1}, `:"",s.road2?`${s.road2}, `:"",s.road_segment_name?`${s.road_segment_name}, `:"",s.road_type_hebrew,s.location_accuracy_hebrew?` (${s.location_accuracy_hebrew})`:""]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("span",{style:r,children:[a("What"),":"]})," ",s.accident_type_hebrew," (",s.vehicles,")"]}),(0,_.jsxs)("div",{children:[(0,_.jsxs)("span",{style:r,children:[a("WhatRoad"),":"]})," ",s.speed_limit_hebrew?`${s.speed_limit_hebrew}, `:"",s.multi_lane_hebrew?`${s.multi_lane_hebrew}, `:"",s.one_lane_hebrew?`${s.one_lane_hebrew}, `:"",s.road_width_hebrew?`${s.road_width_hebrew}, `:""]})]})}):null},$=e=>(0,n.divIcon)({html:e,className:"ship-div-icon",iconAnchor:[0,30],popupAnchor:[1,-32]}),H=e=>{let{data:s,position:t,language:r,colorBy:a,markerIconsType:l}=e;const i=((e,s)=>{let t="";switch(e){case"Severity":default:t=g(s.injury_severity_hebrew);break;case"Vehicle":t=L(s.vehicle_vehicle_type_hebrew);break;case"DayNight":t=w(s.day_night_hebrew);break;case"Gender":t=v(s.sex_hebrew);break;case"RoadType":t=k(s.road_type_hebrew);break;case"AccidentType":t=m(s.accident_type_hebrew);break;case"SelfOrNotAcc":t=j(s.accident_type_hebrew)}return t})(a,s),n="\u05e2\u05d9\u05d2\u05d5\u05df \u05de\u05d3\u05d5\u05d9\u05e7"===s.location_accuracy_hebrew,c="general"===l?((e,s)=>{const t=(0,_.jsx)(A,{fill:e,isAccuratePos:s}),r=(0,u.qV)(t);return $(r)})(i,n):((e,s,t)=>{let r;switch(e){case"":r=(0,_.jsx)(N,{fill:s,isAccuratePos:t});break;case"\u05e8\u05db\u05d1 \u05e0\u05d5\u05e1\u05e2\u05d9\u05dd \u05e4\u05e8\u05d8\u05d9":r=(0,_.jsx)(M,{fill:s,isAccuratePos:t});break;case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 \u05e2\u05d3 50 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 51 \u05e2\u05d3 125 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 126 \u05e2\u05d3 400 \u05e1\u05de"\u05e7':case'\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2 401+ \u05e1\u05de"\u05e7':r=(0,_.jsx)(T,{fill:s,isAccuratePos:t});break;case"\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd":case"\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd \u05d7\u05e9\u05de\u05dc\u05d9\u05d9\u05dd":r=(0,_.jsx)(b,{fill:s,isAccuratePos:t});break;case"\u05e7\u05d5\u05e8\u05e7\u05d9\u05e0\u05d8 \u05d7\u05e9\u05de\u05dc\u05d9":r=(0,_.jsx)(Z,{fill:s,isAccuratePos:t});break;case"\u05d0\u05d5\u05d8\u05d5\u05d1\u05d5\u05e1":case"\u05d0\u05d5\u05d8\u05d5\u05d1\u05d5\u05e1 \u05d6\u05e2\u05d9\u05e8":r=(0,_.jsx)(F,{fill:s,isAccuratePos:t});break;case"\u05de\u05e9\u05d0 3.6 \u05e2\u05d3 9.9 \u05d8\u05d5\u05df":case"\u05de\u05e9\u05d0 10.0 \u05e2\u05d3 12.0 \u05d8\u05d5\u05df":case"\u05de\u05e9\u05d0 12.1 \u05e2\u05d3 15.9 \u05d8\u05d5\u05df":case"\u05de\u05e9\u05d0 16.0 \u05e2\u05d3 33.9 \u05d8\u05d5\u05df":case"\u05de\u05e9\u05d0 34.0+ \u05d8\u05d5\u05df":r=(0,_.jsx)(P,{fill:s,isAccuratePos:t});break;default:r=(0,_.jsx)(B,{fill:s,isAccuratePos:t})}const a=(0,u.qV)(r);return $(a)})(s.vehicle_vehicle_type_hebrew,i,n);return(0,_.jsx)(x.p,{position:t,icon:c,children:(0,_.jsx)(I,{data:s,language:r})})},O=(0,o.PA)((()=>{const e=C();return console.log("markers1",e),(0,_.jsx)("div",{children:e.map((e=>(0,_.jsx)(H,{position:e.position,data:e.data,language:e.language,colorBy:e.colorBy,markerIconsType:e.markerIconsType},e.key)))})})),W=e=>{let{center:s}=e;const t=(0,a.ko)();return(0,r.useEffect)((()=>{t&&s&&t.setView([s.lat,s.lng])}),[t,s]),null};var E=t(3632),V=t(2949);t(3103);const D=[25,41],R=[12,41],U=[1,-34],q=[41,41],G=(new(c().Icon)({iconUrl:E,shadowUrl:V,iconSize:c().point(D[0],D[1]),iconAnchor:c().point(R[0],R[1]),popupAnchor:c().point(U[0],U[1]),shadowSize:c().point(q[0],q[1])}),(0,o.PA)((()=>{(0,a.ko)();const e=C();console.log("markers",e);const s=e.reduce(((e,s)=>{const t=e.find((e=>c().latLng(e[0].position).equals(c().latLng(s.position))));return t?t.push(s):e.push([s]),e}),[]);return(0,_.jsx)(_.Fragment,{children:s.map(((e,s)=>{if(1===e.length)return(0,_.jsx)(H,{position:e[0].position,data:e[0].data,language:e[0].language,colorBy:e[0].colorBy,markerIconsType:e[0].markerIconsType},e[0].key);return((e,s)=>{const t=5e-4,r=2*Math.PI/s;return Array.from({length:s},((s,a)=>{const l=a*r,i=t*Math.sin(l),n=t*Math.cos(l);return[e[0]+i,e[1]+n]}))})(e[0].position,e.length).map(((s,t)=>(0,_.jsx)(H,{position:s,data:e[t].data,language:e[t].language,colorBy:e[t].colorBy,markerIconsType:e[t].markerIconsType},`${e[0].key}-${t}`)))}))})})));var X=t(4978);const Y=e=>{const s=`<h5>${X.Ay.t(e)}</h5>`,t=(e=>{let s=[],t=[];switch(e){case"Severity":s=["\u05d4\u05e8\u05d5\u05d2","\u05e4\u05e6\u05d5\u05e2 \u05e7\u05e9\u05d4"],t=y(s,g);break;case"Vehicle":s=["\u05d7\u05e9\u05de\u05dc\u05d9 \u05d3\u05d5 \u05d2\u05dc\u05d2\u05dc\u05d9","\u05de\u05db\u05d5\u05e0\u05d9\u05ea","\u05d0\u05d5\u05e4\u05e0\u05d5\u05e2","\u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2","\u05d4\u05d5\u05dc\u05da \u05e8\u05d2\u05dc","\u05d0\u05d5\u05e4\u05e0\u05d9\u05d9\u05dd"],t=y(s,L);break;case"DayNight":s=["\u05dc\u05d9\u05dc\u05d4","\u05d9\u05d5\u05dd"],t=y(s,w);break;case"Gender":default:s=["\u05e0\u05e7\u05d1\u05d4","\u05d6\u05db\u05e8","\u05dc\u05d0 \u05d9\u05d3\u05d5\u05e2"],t=y(s,v);break;case"RoadType":s=["\u05dc\u05d0 \u05d1\u05e6\u05d5\u05de\u05ea","\u05d1\u05e6\u05d5\u05de\u05ea"],t=y(s,k);break;case"AccidentType":s=["\u05d4\u05ea\u05d4\u05e4\u05db\u05d5\u05ea","\u05d4\u05d7\u05dc\u05e7\u05d4","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d0\u05d7\u05d5\u05e8 \u05d0\u05dc \u05e6\u05d3","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d0\u05d7\u05d5\u05e8 \u05d1\u05d7\u05d6\u05d9\u05ea","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d7\u05d6\u05d9\u05ea \u05d1\u05e6\u05d3","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e6\u05d3 \u05d1\u05e6\u05d3","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05d7\u05d6\u05d9\u05ea \u05d1\u05d7\u05d6\u05d9\u05ea","\u05d4\u05ea\u05e0\u05d2\u05e9\u05d5\u05ea \u05e2\u05dd \u05e2\u05e6\u05dd \u05d3\u05d5\u05de\u05dd","\u05e4\u05d2\u05d9\u05e2\u05d4 \u05d1\u05d4\u05d5\u05dc\u05da \u05e8\u05d2\u05dc","\u05d0\u05d7\u05e8"],t=y(s,m);break;case"SelfOrNotAcc":s=["\u05dc\u05d0 \u05e2\u05e6\u05de\u05d9\u05ea","\u05e2\u05e6\u05de\u05d9\u05ea"],t=y(s,j)}return t})(e);return t.unshift(s),t.join("")},J=e=>{let{title:s}=e;const t=(0,a.ko)();return(0,r.useEffect)((()=>{const e=c().control({position:"bottomleft"});return e.onAdd=()=>{const e=c().DomUtil.create("div","info legend");return e.innerHTML=Y(s),e},e.addTo(t),()=>e.remove()}),[t,s]),null},K=(0,o.PA)((()=>{const{mapStore:e}=(0,h.Pj)(),{markerColorType:s}=e;return(0,_.jsx)(J,{title:s})}));var Q=t(8792);const ee=(0,o.PA)((()=>{const{t:e}=(0,S.Bd)(),{mapStore:s}=(0,h.Pj)(),{markerColorType:t,setMarkerColorType:r,markerColorTypesArr:a}=s;return(0,_.jsxs)("div",{className:"map-select-div",id:"map.iconColor",children:[(0,_.jsxs)("span",{className:"map-select-labelspan",children:[e("MarkersColorType"),":"]}),(0,_.jsx)("span",{children:(0,_.jsx)(Q.A,{id:"map.SelectMarkersColorType",value:t,data:a,onChange:e=>r(e)})})]})})),se=(0,o.PA)((()=>{const{t:e}=(0,S.Bd)(),{mapStore:s}=(0,h.Pj)(),{markerIconsType:t,setMarkerIconsType:r,markerIconTypesArr:a}=s;return(0,_.jsxs)("div",{className:"map-select-div",id:"map.iconType",children:[(0,_.jsxs)("span",{className:"map-select-labelspan",children:[e("MarkersIconType"),":"]}),(0,_.jsx)("span",{children:(0,_.jsx)(Q.A,{id:"map.SelectMarkersIConType",value:t,data:a,onChange:e=>r(e)})})]})})),te=(0,o.PA)((()=>{const{t:e}=(0,S.Bd)(),{mapStore:s}=(0,h.Pj)(),{mapMarkersType:t,setMapMarkersType:r,mapMarkersTypesArr:a}=s;return(0,_.jsxs)("div",{className:"map-select-div",id:"map.markersType",children:[(0,_.jsxs)("span",{className:"map-select-labelspan",children:[e("MapMarkersType"),":"]}),(0,_.jsx)("span",{children:(0,_.jsx)(Q.A,{id:"map.SelectMapMarkersType",value:t,data:a,onChange:e=>(e=>{var s;const t=null===(s=a.find((s=>s.val===e)))||void 0===s?void 0:s.val;t&&r(t)})(e)})})]})}));var re=t(6179);const ae=(0,o.PA)((e=>{let{fitBoundsOnUpdate:s=!1}=e;const{mapStore:t,filterStore:r}=(0,h.Pj)(),{bboxType:a,dataMarkersInBounds:l}=t,{dataMarkersLean:i,dataAllInjuries:n,isUse2StepsMarkers:c}=r;let o;o=a!==p.m.NO_BBOX?(0,f.HO)(l):c?(0,f.HO)(i):(0,f.HO)(n);const d=o.map((e=>[e.latitude,e.longitude,e._id]));return(0,_.jsx)(re.A,{fitBoundsOnLoad:s,fitBoundsOnUpdate:s,points:d,longitudeExtractor:e=>e[1],latitudeExtractor:e=>e[0],intensityExtractor:e=>parseFloat(e[2])})})),le=function(e){const s=e.getAllChildMarkers().length;return c().divIcon({html:`<span>${s}</span>`,className:"marker-cluster-custom",iconSize:c().point(40,40,!0)})},ie={buttonsPanel:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",paddingTop:"0.2rem",margin:"5px"}},ne=(0,o.PA)((()=>{const e=(0,r.useRef)(null),{mapStore:s}=h.M_,{updateMapBounds:t}=s,n=()=>{const e=(0,a.gY)("moveend",(()=>{const s=e.getBounds();t(s)}));return null},{mapCenter:c,mapMarkersType:o}=s,f=[c.lat,c.lng];return(0,_.jsxs)("div",{id:"map",children:[(0,_.jsxs)(l.W,{center:f,zoom:13,ref:e,scrollWheelZoom:!0,whenReady:()=>{setTimeout((()=>{var s;const r=null===(s=e.current)||void 0===s?void 0:s.getBounds();r&&t(r)}),500)},style:{height:"74vh",width:"100%"},children:[(0,_.jsx)(i.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o===p.W.Heat_Map&&(0,_.jsx)(ae,{}),o===p.W.Markers&&(0,_.jsx)(O,{}),o===p.W.Markers_AND_Clusters&&(0,_.jsx)(d.A,{showCoverageOnHover:!1,spiderfyDistanceMultiplier:2,maxClusterRadius:10,iconCreateFunction:le,children:(0,_.jsx)(G,{})}),(0,_.jsx)(W,{center:c}),(0,_.jsx)(K,{}),(0,_.jsx)(n,{})]}),(0,_.jsxs)("div",{style:ie.buttonsPanel,children:[(0,_.jsx)(te,{}),(0,_.jsx)(ee,{}),(0,_.jsx)(se,{})]})]})})),ce=ne}}]);
//# sourceMappingURL=138.40f41bc8.chunk.js.map