{"version":3,"sources":["components/atoms/SmallCard.tsx","components/atoms/SelectGroupBy.tsx","components/atoms/SelectGroupBy2.tsx","components/molecules/MyBarChart.tsx","components/molecules/MyPieChart.tsx","components/molecules/MyTreeMap.tsx","components/molecules/ConfigChart.tsx","components/organisms/GroupByGraphsPanel.tsx"],"names":["SmallCard","title","styleType","width","children","styleCard","borderRadius","padding","margin","aHeder","Header","style","SelectGroupBy","observer","id","labelText","t","useTranslation","filterStore","useStore","groupByDict","groupBy","updateGroupby","lable","Label","className","onSelectChange","useCallback","event","target","value","Group","controlId","Control","as","text","onChange","Object","entries","map","key","x","SelectGroupBy2","group2Dict","groupBy2","updateGroupBy2","MyBarChart","data","barsData","height","fill","legendType","colName","maxLabelLangth","reduce","maxval","currentValue","_id","length","isManyBarsForXAxis","isManyBarsForLables","bars","undefined","dataKey","name","position","aName","labelList","color","xAxis","textAnchor","interval","angle","tick","fontSize","bottomMargin","legend","layout","verticalAlign","align","direction","top","right","left","bottom","strokeDasharray","memo","RADIAN","Math","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","fcx","fcy","inR","outR","midA","p","radius","cos","y","sin","dominantBaseline","toFixed","MyPieChart","showPercentageChart","uiStore","mylabel","nameKey","isAnimationActive","labelLine","label","MyTreeMap","data2","count","ratio","stroke","ConfigChart","chartType","chartTypeList","updateChartType","updateShowPercentageChart","Form","Checkbox","group","checked","e","getSize","GroupByGraphsPanel","dataByYears","toJS","marginLeft","marginRight","marginTop","CardChartYears","CardChartByGroup1","CardChartGrpBy2","useState","window","innerWidth","graphSize","setGraphSize","React","useEffect","handleResize","size","addEventListener","removeEventListener","graph1Size","min","dataFilterdByYears","casualtiesNames","reactData2","styles","divStyle","display","justifyContent","iconStyle","paddingTop","paddingBottom","showModel","setShowModal","graph2Size","dataFilterd","reactData3","chart","Button","onClick","src","gearlogo","alt","ConfigFilterModal","showModal","setShow","barsGrp2","getBars","reactDataGrp2","dataGroupby2","flexWrap","fontWeight"],"mappings":"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","file":"static/js/9.f408fc75.chunk.js","sourcesContent":["import React from 'react';\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps {\r\n    title?: string,\r\n    styleType?: number\r\n    width?: number\r\n}\r\nconst SmallCard: React.FC<IProps> = ({\r\n  title, styleType = 0, width = 0, children,\r\n}) => {\r\n  const styleWidth: any[] = [\r\n    '15rem', '20rem', '25rem', '40rem',\r\n  ];\r\n  const styleCard: any = {\r\n    borderRadius: '5px',\r\n    padding: '5px',\r\n    margin: '7px',\r\n  };\r\n  const aHeder = title ? <Card.Header>{title}</Card.Header> : '';\r\n  if (width > 0) styleCard.width = width;\r\n  else styleCard.width = styleWidth[styleType];\r\n  return (\r\n    <Card style={styleCard}>\r\n      {aHeder}\r\n      {children}\r\n    </Card>\r\n  );\r\n};\r\nexport default SmallCard;\r\n","import React, { ChangeEvent, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from 'mobx-react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\ninterface IProps {\r\n    id: string,\r\n    labelText?: string,\r\n}\r\nconst SelectGroupBy: React.FC<IProps> = observer(({ id, labelText = 'GroupBy' }) => {\r\n  const { t } = useTranslation();\r\n  const { filterStore } = useStore();\r\n  const { groupByDict, groupBy, updateGroupby } = filterStore;\r\n  const lable = (labelText !== '') ? (\r\n    <Form.Label className=\"filterLable\">\r\n      {' '}\r\n      {t(labelText)}\r\n:\r\n    </Form.Label>\r\n  ) : null;\r\n  const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n    updateGroupby(event.target.value);\r\n  }, [updateGroupby]);\r\n\r\n  return (\r\n    <Form className=\"form-inline\">\r\n      <Form.Group controlId={`GrupForm.${id}.SelectGroupBy`}>\r\n        {lable}\r\n        <Form.Control\r\n          as=\"select\"\r\n          value={groupBy.text}\r\n          onChange={onSelectChange}\r\n        >\r\n          {Object.entries(groupByDict).map(([key, x]: any[]) => (<option value={x.text} key={key}>{t(x.text)}</option>))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n});\r\nexport default SelectGroupBy;\r\n","import React, { ChangeEvent, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from 'mobx-react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\n\r\ninterface IProps { id: string }\r\n\r\nconst SelectGroupBy2: React.FC<IProps> = observer(({ id }) => {\r\n  const { t } = useTranslation();\r\n  const { filterStore } = useStore();\r\n  const { group2Dict, groupBy2, updateGroupBy2 } = filterStore;\r\n  const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n    updateGroupBy2(event.target.value);\r\n  }, [updateGroupBy2]);\r\n  return (\r\n    <Form className=\"form-inline\">\r\n      <Form.Group controlId={`GrupForm.${id}.SelectGroupBy2`}>\r\n        {/* <Form.Label className=\"filterLable\"> {t('GroupBy')}:</Form.Label> */}\r\n        <Form.Control\r\n          as=\"select\"\r\n          value={groupBy2.text}\r\n          onChange={onSelectChange}\r\n        >\r\n          {Object.entries(group2Dict).map(([key, x]: any[]) => (<option value={x.text} key={key}>{t(x.text)}</option>))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n    </Form>\r\n  );\r\n});\r\nexport default SelectGroupBy2;\r\n","import React, { memo } from 'react';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, LabelList,\r\n} from 'recharts';\r\nimport { observer } from 'mobx-react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// const data = [\r\n//   { name: 'Page A', uv: 4000, pv: 2400, amt: 2400,},\r\n//   { name: 'Page B', uv: 3000, pv: 1398, amt: 2210,},\r\n//   { name: 'Page C', uv: 2000, pv: 9800, amt: 2290,},\r\n// ];\r\n\r\ninterface IProps {\r\n  data :readonly any[]\r\n  barsData ?: any\r\n  width? : number\r\n  height? : number,\r\n  fill? : string,\r\n  legendType? : string\r\n}\r\n\r\nconst MyBarChart:React.FC<IProps> = observer(({\r\n  data, barsData, width = 390, height = 350, fill = '#8884d8', legendType = 'null',\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const colName = t('casualties');\r\n  const maxLabelLangth = data.reduce((maxval, currentValue) => (\r\n    (currentValue._id !== null && currentValue._id.length > maxval) ? currentValue._id.length : maxval), 0);\r\n  const isManyBarsForXAxis = (data.length > 5 || maxLabelLangth > 9);\r\n  const isManyBarsForLables = (data.length > 30);\r\n  let bars = null;\r\n  if (barsData === undefined) {\r\n    bars = (\r\n      <Bar dataKey=\"count\" name={colName} fill={fill}>\r\n        <LabelList dataKey=\"count\" position=\"top\" />\r\n      </Bar>\r\n    );\r\n  } else {\r\n    bars = barsData.map((x:any) => {\r\n      const aName = t(x.key);\r\n      const labelList = (isManyBarsForLables) ? null : <LabelList dataKey={x.key} position=\"top\" />;\r\n      return (<Bar key={`bar-${x.key}`} dataKey={x.key} name={aName} fill={x.color}>{labelList}</Bar>);\r\n    });\r\n  }\r\n  const xAxis = isManyBarsForXAxis ? (\r\n    <XAxis\r\n      dataKey=\"_id\"\r\n      textAnchor=\"end\"\r\n      interval={0}\r\n      angle={-30}\r\n      tick={{ fontSize: 12 }}\r\n    />\r\n  ) : <XAxis dataKey=\"_id\" />;\r\n  const bottomMargin = isManyBarsForXAxis ? 75 : 15;\r\n  const legend = (legendType === 'null' || width < 500) ? null\r\n    : <Legend layout=\"horizontal\" verticalAlign=\"top\" align=\"center\" />;\r\n  return (\r\n    <div style={{ direction: 'ltr' }}>\r\n      <BarChart\r\n        width={width}\r\n        height={height}\r\n        data={data}\r\n        margin={{\r\n          top: 20, right: 2, left: 2, bottom: bottomMargin,\r\n        }}\r\n      >\r\n        <CartesianGrid strokeDasharray=\"3 3\" />\r\n        {xAxis}\r\n        <YAxis />\r\n        <Tooltip />\r\n        {legend}\r\n        {bars}\r\n\r\n        {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\r\n      </BarChart>\r\n    </div>\r\n  );\r\n});\r\nexport default memo(MyBarChart);\r\n","import React, { memo } from 'react';\r\nimport {\r\n  PieChart, Pie, Tooltip, PieLabelRenderProps,\r\n} from 'recharts';\r\nimport { observer } from 'mobx-react';\r\n// import { useTranslation } from 'react-i18next';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\n// const data = [\r\n//   { name: 'Page A', uv: 4000, pv: 2400, amt: 2400,},\r\n//   { name: 'Page B', uv: 3000, pv: 1398, amt: 2210,},\r\n//   { name: 'Page C', uv: 2000, pv: 9800, amt: 2290,},\r\n// ];\r\n\r\ninterface IProps {\r\n    data: readonly any[]\r\n    barsData?: any\r\n    width?: number\r\n    fill?: string,\r\n    legendType?: string\r\n}\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx, cy, midAngle, innerRadius, outerRadius, percent, name,\r\n  fcx = (cx === undefined) ? 0 : +cx,\r\n  fcy = (cy === undefined) ? 0 : +cy,\r\n  inR = (innerRadius === undefined) ? 1 : +innerRadius,\r\n  outR = (outerRadius === undefined) ? 1 : +outerRadius,\r\n  midA = (midAngle === undefined) ? 1 : +midAngle,\r\n  p = (percent === undefined) ? 1 : +percent,\r\n} : PieLabelRenderProps) => {\r\n  const radius = inR + (outR - inR) * 0.7;\r\n  const x = fcx + radius * Math.cos(-midA * RADIAN);\r\n  const y = fcy + radius * Math.sin(-midA * RADIAN);\r\n  return (\r\n    <text x={x} y={y} fill=\"white\" textAnchor={x > fcx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n      {`${(p * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\n\r\nconst MyPieChart: React.FC<IProps> = observer(({\r\n  data, width = 390, fill = '#8884d8',\r\n}) => {\r\n  const { uiStore } = useStore();\r\n  const { showPercentageChart } = uiStore;\r\n  //   const colName = t('casualties');\r\n  //   const bottomMargin = isManyBarsForXAxis ? 75 : 15;\r\n  //   const legend = (legendType === 'null' || width < 500) ? null\r\n  //     : <Legend layout=\"horizontal\" verticalAlign=\"top\" align=\"center\" />;\r\n  const mylabel = (showPercentageChart) ? renderCustomizedLabel : true;\r\n  return (\r\n    <div style={{ direction: 'ltr' }}>\r\n      <PieChart width={width} height={width}>\r\n        <Pie\r\n          dataKey=\"count\"\r\n          nameKey=\"_id\"\r\n          isAnimationActive={false}\r\n          data={data}\r\n          cx={200}\r\n          cy={200}\r\n          fill={fill}\r\n          labelLine={!showPercentageChart}\r\n          label={mylabel}\r\n          // label\r\n        />\r\n        <Tooltip />\r\n      </PieChart>\r\n    </div>\r\n  );\r\n});\r\nexport default memo(MyPieChart);\r\n","// @ts-nocheck\r\nimport React, { memo } from 'react';\r\nimport { Treemap } from 'recharts';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst data1 = [\r\n  {\r\n    name: 'axis',\r\n    children: [\r\n      { name: 'Axes', size: 1302 },\r\n      { name: 'Axis', size: 24593 },\r\n      { name: 'AxisGridLine', size: 652 },\r\n      { name: 'AxisLabel', size: 636 },\r\n      { name: 'CartesianAxes', size: 6703 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'controls',\r\n    children: [\r\n      { name: 'AnchorControl', size: 2138 },\r\n      { name: 'ClickControl', size: 3824 },\r\n      { name: 'Control', size: 1353 },\r\n      { name: 'ControlList', size: 4665 },\r\n      { name: 'DragControl', size: 2649 },\r\n      { name: 'ExpandControl', size: 2832 },\r\n      { name: 'HoverControl', size: 4896 },\r\n      { name: 'IControl', size: 763 },\r\n      { name: 'PanZoomControl', size: 5222 },\r\n      { name: 'SelectionControl', size: 7862 },\r\n      { name: 'TooltipControl', size: 8435 },\r\n    ],\r\n  },\r\n];\r\n\r\ninterface IProps {\r\n    data: readonly any[];\r\n    barsData?: any;\r\n    width?: number;\r\n    height?: number;\r\n    fill?: string;\r\n}\r\n\r\nconst MyTreeMap: React.FC<IProps> = observer(({\r\n  data, width = 390, height = 250, fill = '#8884d8',\r\n}) => {\r\n  const data2 = data.map((x) => ({ name: x._id, count: x.count }));\r\n  return (\r\n    <div style={{ direction: 'ltr' }}>\r\n      <Treemap\r\n        width={width}\r\n        height={height}\r\n        data={data2}\r\n        dataKey=\"count\"\r\n        // nameKey=\"_id\"\r\n        ratio={4 / 3}\r\n        stroke=\"#fff\"\r\n        fill={fill}\r\n      />\r\n    </div>\r\n  );\r\n});\r\nexport default memo(MyTreeMap);\r\n","import React, { ChangeEvent, useCallback } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from 'mobx-react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Checkbox from '../atoms/Checkbox';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\ninterface IProps { }\r\nconst ConfigChart: React.FC<IProps> = observer(() => {\r\n  const { t } = useTranslation();\r\n  const { uiStore } = useStore();\r\n  const {\r\n    chartType, chartTypeList, updateChartType, showPercentageChart, updateShowPercentageChart,\r\n  } = uiStore;\r\n  const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n    updateChartType(event.target.value);\r\n  }, [updateChartType]);\r\n  return (\r\n    <div>\r\n      <Form.Group controlId=\"ConfigFile.SelectChartType\">\r\n        {t('ChartType')}\r\n        <Form.Control\r\n          as=\"select\"\r\n          value={chartType}\r\n          onChange={onSelectChange}\r\n        >\r\n          {Object.entries(chartTypeList).map(([key, x]: any[]) => (<option value={x} key={key}>{t(x)}</option>))}\r\n        </Form.Control>\r\n      </Form.Group>\r\n      <Form.Group controlId=\"ConfigFile.ControlShowPercentageChart\">\r\n        <Checkbox\r\n          key={2}\r\n          label=\"PercentageChart\"\r\n          group=\"ChartConfig\"\r\n          id={2}\r\n          checked={showPercentageChart}\r\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\r\n            updateShowPercentageChart(e.target.checked);\r\n          }}\r\n        />\r\n      </Form.Group>\r\n    </div>\r\n  );\r\n});\r\nexport default ConfigChart;\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from 'mobx-react';\r\nimport { toJS } from 'mobx';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useStore } from '../../stores/storeConfig';\r\nimport SmallCard from '../atoms/SmallCard';\r\nimport SelectGroupBy from '../atoms/SelectGroupBy';\r\nimport SelectGroupBy2 from '../atoms/SelectGroupBy2';\r\n// import { RangeSlider } from '../atoms/RangeSlider'\r\nimport MyBarChart from '../molecules/MyBarChart';\r\nimport MyPieChart from '../molecules/MyPieChart';\r\nimport MyTreeMap from '../molecules/MyTreeMap';\r\nimport ConfigFilterModal from './ConfigFilterModal';\r\nimport ConfigChart from '../molecules/ConfigChart';\r\nimport gearlogo from '../../assets/gear2.png';\r\n\r\ninterface IProps { }\r\nconst getSize = (width: number) => {\r\n  let size: number = 500;\r\n  if (width <= 350) size = 300;\r\n  else if (width <= 760) size = width * 0.85;\r\n  else if (width <= 1500) size = width * 0.75;\r\n  else size = 1200;\r\n  return size;\r\n};\r\n\r\nexport const GroupByGraphsPanel: React.FC<IProps> = observer(() => {\r\n  const styles = {\r\n    divStyle: {\r\n      marginLeft: '0',\r\n      marginRight: '0',\r\n      marginTop: '20px',\r\n    },\r\n  };\r\n  const { filterStore } = useStore();\r\n  const { dataByYears } = filterStore;\r\n  const reactData1 = toJS(dataByYears);\r\n  if (reactData1.length > 0) {\r\n    return (\r\n      <div className=\"row\" style={styles.divStyle}>\r\n        <CardChartYears />\r\n        <CardChartByGroup1 />\r\n        <CardChartGrpBy2 />\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n});\r\n\r\nconst CardChartYears: React.FC<IProps> = observer(() => {\r\n  const { t } = useTranslation();\r\n  const [graphSize, setGraphSize] = useState(getSize(window.innerWidth));\r\n  React.useEffect(() => {\r\n    function handleResize() {\r\n      const size = getSize(window.innerWidth);\r\n      setGraphSize(size);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    return (() => { window.removeEventListener('resize', handleResize); });\r\n  });\r\n  const graph1Size = Math.min(380, graphSize);\r\n  const { filterStore } = useStore();\r\n  const { dataFilterdByYears, casualtiesNames } = filterStore;\r\n  const reactData2 = toJS(dataFilterdByYears);\r\n  return (\r\n    <SmallCard styleType={2} title={`${t(casualtiesNames)} ${t('by-years')}`}>\r\n      <MyBarChart data={reactData2} width={graph1Size} fill=\"#FE9772\" />\r\n    </SmallCard>\r\n  );\r\n});\r\n\r\nconst CardChartByGroup1: React.FC<IProps> = observer(() => {\r\n  const styles = {\r\n    divStyle: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n    },\r\n    iconStyle: {\r\n      height: '21px',\r\n      width: '21px',\r\n      paddingTop: '0px',\r\n      paddingBottom: '1px',\r\n    },\r\n  };\r\n  const { t } = useTranslation();\r\n  const [showModel, setShowModal] = useState(false);\r\n  const [graphSize, setGraphSize] = useState(getSize(window.innerWidth));\r\n  const graph2Size = Math.min(600, graphSize);\r\n  React.useEffect(() => {\r\n    function handleResize() {\r\n      const size = getSize(window.innerWidth);\r\n      setGraphSize(size);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    return (() => { window.removeEventListener('resize', handleResize); });\r\n  });\r\n  const { filterStore, uiStore } = useStore();\r\n  const { dataFilterd } = filterStore;\r\n  const reactData3 = toJS(dataFilterd);\r\n  const { chartType } = uiStore;\r\n  let chart = null;\r\n  if (chartType === 'BarChart') chart = <MyBarChart data={reactData3} width={graph2Size} height={graph2Size * 0.65} />;\r\n  else if (chartType === 'PieChart') chart = <MyPieChart data={reactData3} width={graph2Size * 0.65} />;\r\n  else chart = <MyTreeMap data={reactData3} />;\r\n  return (\r\n    <SmallCard styleType={3}>\r\n      <div style={styles.divStyle}>\r\n        <SelectGroupBy id=\"Graphs.Main\" />\r\n        <Button onClick={() => { setShowModal(!showModel); }}>\r\n          <img src={gearlogo} alt=\"settings\" style={styles.iconStyle} />\r\n        </Button>\r\n      </div>\r\n      <ConfigFilterModal title=\"Chart Options\" showModal={showModel} setShow={setShowModal}>\r\n        <ConfigChart />\r\n      </ConfigFilterModal>\r\n      {chart}\r\n    </SmallCard>\r\n  );\r\n});\r\n\r\nconst CardChartGrpBy2: React.FC<IProps> = observer(() => {\r\n  const styleLable = {\r\n    fontWeight: 700,\r\n    marginTop: '5px',\r\n    marginLeft: '20px',\r\n    marginRight: '20px',\r\n  };\r\n  const divConstolsRow = {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  } as React.CSSProperties;\r\n  const { t } = useTranslation();\r\n  const [graphSize, setGraphSize] = useState(getSize(window.innerWidth));\r\n  React.useEffect(() => {\r\n    function handleResize() {\r\n      const size = getSize(window.innerWidth);\r\n      setGraphSize(size);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    return (() => { window.removeEventListener('resize', handleResize); });\r\n  });\r\n  const { filterStore } = useStore();\r\n  const { groupBy2 } = filterStore;\r\n  const barsGrp2 = groupBy2.getBars();\r\n  const reactDataGrp2 = toJS(filterStore.dataGroupby2);\r\n  return (\r\n    <SmallCard width={graphSize + 150}>\r\n      <div style={divConstolsRow}>\r\n        <span style={styleLable}>\r\n          {' '}\r\n          {t('GroupBy')}\r\n          :\r\n        </span>\r\n        <SelectGroupBy id=\"Graphs.Grp2\" labelText=\"\" />\r\n        <SelectGroupBy2 id=\"Graphs\" />\r\n        {/* <RangeSlider id=\"Graphs\" label=\"resize\" value={80} onChange={onSizeSliderChange}/> */}\r\n      </div>\r\n      <MyBarChart data={reactDataGrp2} barsData={barsGrp2} width={graphSize} height={graphSize * 0.62} legendType=\"top\" />\r\n    </SmallCard>\r\n  );\r\n});\r\nexport default GroupByGraphsPanel;\r\n"],"sourceRoot":""}