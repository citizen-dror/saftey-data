{"version":3,"sources":["assets/marker-icon-2x-red.png","assets/marker-shadow.png","i18n.js","stores/FilterChecker.ts","services/Accident.Service.ts","services/City.Service.ts","stores/storeConfig.ts","stores/FilterStore.ts","components/molecules/AccidentsMarkers.tsx","components/organisms/MapAccidents.tsx","components/atoms/Checkbox.tsx","components/molecules/GroupCheckBox.tsx","components/organisms/FilterRequest.tsx","components/organisms/FilterPanel.tsx","components/atoms/CasualtiesSumLabel.tsx","components/organisms/AccidentsTable.tsx","components/molecules/GroupByTable.tsx","components/molecules/SmallCard.tsx","components/organisms/AggregatesPanel.tsx","components/templates/HomeTemplate.tsx","components/pages/HomePage.tsx","components/templates/CityTemplate.tsx","components/pages/CityPage.tsx","components/pages/HeatMap.tsx","components/molecules/LanguageSelector.tsx","components/templates/Headr.tsx","components/templates/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","EnumVehiclePass","FilterChecker","label","valid","filters","this","checked","observable","AccidentService","collback","$","done","response","filter","settings","CityService","cityName","ajax","lang","store","arr","appInitialized","reactionChangeLang","reaction","language","locale","changeLanguage","submitfilterdGroupByYears","filtermatch","getFilter","getFilterGroupByYears","postGroupby","updateDataFilterdByYears","filterMatch","console","log","startYear","endYear","getMultiplefilter","dayNight","getfilterCity","roadTypes","getfilterInjured","genderTypes","ageTypes","populationTypes","getfilterForCityOnly","trimCity","city","toString","trim","filterKey","allChecked","arrfilter","iterator","values","filterCheck","map","x","join","injTypes","injType","push","FC","action","name","L","LatLng","aType","val","isLoading","getCityByNameHe","updateLocation","postFilter","updateMarkers","submitGroupByYears","updateDataByYears","dataByYears","dataFilterdByYears","arrPoints","markers","cityResult","res","length","lat","lon","mapCenter","StoreContext","React","createContext","useStore","useContext","Error","redIcon","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","iconSize","iconAnchor","popupAnchor","shadowSize","AccidentsMarkers","observer","pStyle","color","t","useTranslation","reactMarkers","toJS","markersArr","latitude","longitude","lPoint","Marker","key","_id","position","icon","Popup","className","style","accident_timestamp","day_in_week_hebrew","day_night_hebrew","injured_type_hebrew","vehicle_vehicle_type_hebrew","sex_hebrew","age_group_hebrew","population_type_hebrew","accident_yishuv_name","street1_hebrew","road_type_hebrew","accident_type_hebrew","MapAccidents","reactMapCenter","Map","center","zoom","height","width","maxWidth","TileLayer","attribution","url","Checkbox","group","id","onChange","Form","Check","inline","type","GroupCheckbox","formName","groupName","dataArr","Group","controlId","Label","fChecker","index","e","target","FilterRequest","activeCardKey","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","Button","variant","disabled","onClick","submitFilter","Card","Header","Toggle","as","eventKey","Collapse","Body","Row","Col","Control","defaultValue","parseInt","value","updateDayNight","selected","updateCity","options","citisNamesHeb","placeholder","updateRoadType","updateInjuerdType","updateGenderType","updateAgeType","updatePopulationType","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","CasualtiesSumLabel","nameSpan","AccidentsTable","props","divStyle","display","justifyContent","ExportCSVButton","CSVExport","columns","dataField","text","hidden","sort","keyField","data","exportCSV","baseProps","pagination","paginationFactory","headerClasses","csvProps","GroupByTable","reactData","SmallCard","title","children","aHeder","padding","AggregatesPanel","marginLeft","marginRight","HomeTemplate","HomePage","CityTemplate","query","URLSearchParams","useLocation","search","get","found","includes","find","element","useCityNamefromQuery","CityPage","HeatMap","state","layerHidden","fitBoundsOnUpdate","addressPoints","getPoints","getAll","addPointsToMap","addPoint","newPoint","latlng","lng","originalEvent","timeStamp","setState","prevState","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","Component","LanguageSelector","document","getElementById","href","body","classList","remove","add","ButtonGroup","toggle","size","ToggleButton","defaultChecked","updateLanguage","Footer","flexFlow","to","About","App","path","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9a94183b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","import i18n from 'i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    debug: true,\r\n    // I'm hardcoding the translations here for the sake of simplicity,\r\n    // but in a real-world application you would get these from a backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable } from \"mobx\"\r\n\r\nexport interface IFilterChecker {\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n}\r\n\r\nexport default class FilterChecker implements IFilterChecker {\r\n    @observable\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n    constructor(label: string, valid: boolean, filters: string[]) {\r\n        this.label = label;\r\n        this.checked = valid;\r\n        this.filters = filters;\r\n    }\r\n}\r\nexport enum EnumVehiclePass {\r\n    All,\r\n    Ped,\r\n    Cycle,\r\n    Motorcycle,\r\n    Car,\r\n    Others\r\n}\r\n\r\nexport const initDayNight = (arr: any) => {\r\n    arr.push(new FilterChecker('day', true, [\"יום\"]));\r\n    arr.push(new FilterChecker('night', true, [\"לילה\"]));\r\n}\r\n\r\nexport const initInjTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('all', true, []));\r\n    arr.push(new FilterChecker('pedestrian', false, [\"הולך רגל\"]));\r\n    arr.push(new FilterChecker('cyclist', false, [\"נהג - אופניים\", \"נוסע - אופניים (לא נהג)\"]));\r\n    arr.push(new FilterChecker('motorcycle', false, [\"נהג - אופנוע\", \"נוסע - אופנוע (לא נהג)\"]));\r\n    arr.push(new FilterChecker('wheels4+', false, [\"נהג - רכב בעל 4 גלגלים ויותר\", \"נוסע - רכב בעל 4 גלגלים ויותר\"]));\r\n    arr.push(new FilterChecker('other', false, [\"נהג - רכב לא ידוע\", \"נוסע - רכב לא ידוע\"]));\r\n}\r\nexport const initGenderTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('female', true, [\"נקבה\"]));\r\n    arr.push(new FilterChecker('male', true, [\"זכר\"]));\r\n    //arr.push(new FilterChecker2(true, [\"לא ידוע\"]));\r\n}\r\nexport const initAgeTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('00-04', true, [\"00-04\"]));\r\n    arr.push(new FilterChecker('05-09', true, [\"05-09\"]));\r\n    arr.push(new FilterChecker('10-14', true, [\"10-14\"]));\r\n    arr.push(new FilterChecker('15-19', true, [\"15-19\"]));\r\n    arr.push(new FilterChecker('20-29', true, [\"20-24\", \"25-29\"]));\r\n    arr.push(new FilterChecker('30-39', true, [\"30-34\", \"35-39\"]));\r\n    arr.push(new FilterChecker('40-49', true, [\"40-44\", \"45-49\"]));\r\n    arr.push(new FilterChecker('50-59', true, [\"50-54\", \"55-59\"]));\r\n    arr.push(new FilterChecker('60-69', true, [\"60-64\", \"65-69\"]));\r\n    arr.push(new FilterChecker('70-79', true, [\"70-74\", \"75-79\"]));\r\n    arr.push(new FilterChecker('80+', true, [\"80-84\", \"85+\"]));\r\n    arr.push(new FilterChecker('unknown', true, [\"לא ידוע\"]));\r\n}\r\nexport const initPopulationTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('jews', true, [\"יהודים\"]));\r\n    arr.push(new FilterChecker('arabs', true, [\"ערבים\"]));\r\n    arr.push(new FilterChecker('immigrants', true, [\"זרים\"]));\r\n    arr.push(new FilterChecker('unknown', true, [\"לא ידוע\"]));\r\n}\r\n\r\nexport const initRoadTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('urban-junction', true, [\"עירונית בצומת\"]));\r\n    arr.push(new FilterChecker('urban-road', true, [\"עירונית לא בצומת\"]));\r\n    arr.push(new FilterChecker('non-urban-junction', true, [\"לא-עירונית בצומת\"]));\r\n    arr.push(new FilterChecker('non-urban-road', true, [\"לא-עירונית לא בצומת\"]));\r\n}\r\n","import * as $ from 'jquery';\r\n\r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n  getAll(collback: (arrPoints: any[]) => void) {\r\n    //\"http://localhost:5000/api/v1/accident\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/accident\",\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response: any) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  //send request using jsonp and post body - return arry of points\r\n  postFilter(filter: string, collback: (arrPoints: any[]) => void) {\r\n    //\"http://localhost:5000/api/v1/accident\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/accident\",\r\n      \"method\": \"POST\",\r\n      \"headers\": {\r\n        \"content-type\": \"application/json\"\r\n      },\r\n      \"processData\": false,\r\n      \"data\": filter\r\n    }\r\n\r\n    $.ajax(settings).done(function (response: any[]) {\r\n      collback(response);\r\n    });\r\n  }\r\n\r\n    //send request using jsonp and post body - return arry of points\r\n    postGroupby(filter: string, collback: (arrPoints: any[]) => void) {\r\n      //\"http://localhost:5000/api/v1/accident/agg\"\r\n      var settings = {\r\n        \"url\": \"/api/v1/accident/agg\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        \"processData\": false,\r\n        \"data\": filter\r\n      }\r\n      $.ajax(settings).done(function (response: any[]) {\r\n        collback(response);\r\n      });\r\n    }\r\n}\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","import { observable, action ,reaction} from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport IFilterChecker from './FilterChecker'\r\nimport * as FC from './FilterChecker'\r\nimport AccidentService from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import autorun  from \"mobx\"\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    FC.initDayNight(this.dayNight)\r\n    FC.initInjTypes(this.injTypes);\r\n    FC.initGenderTypes(this.genderTypes);\r\n    FC.initAgeTypes(this.ageTypes)\r\n    FC.initPopulationTypes(this.populationTypes)\r\n    FC.initRoadTypes(this.roadTypes);\r\n    \r\n    this.appInitialized = false;\r\n\r\n  }\r\n  \r\n  \r\n  @observable\r\n  city: string = \"\";\r\n  @action\r\n  updateCity = (name: string) => {\r\n    this.city = name;\r\n  }\r\n  @observable\r\n  cityResult: string = \"\";\r\n \r\n// this belong to root store\r\n  @observable\r\n  language : string = \"he\" \r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang; \r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.08, 34.83)\r\n\r\n  //when\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n  @observable\r\n  dayNight: Array<IFilterChecker> = [];\r\n  @action\r\n  updateDayNight = (aType: number, val: boolean) => {\r\n    this.dayNight[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  roadTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.roadTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  genderTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.genderTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  ageTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateAgeType = (aType: number, val: boolean) => {\r\n    this.ageTypes[aType].checked = val;\r\n  }\r\n  @observable\r\n  populationTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updatePopulationType = (aType: number, val: boolean) => {\r\n    this.populationTypes[aType].checked = val;\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    if (aType === 0) {\r\n      this.injTypes[0].checked = val;\r\n      this.injTypes[1].checked = !val;\r\n      this.injTypes[2].checked = !val;\r\n      this.injTypes[3].checked = !val;\r\n      this.injTypes[4].checked = !val;\r\n      this.injTypes[5].checked = !val;\r\n    }\r\n    else {\r\n      this.injTypes[0].checked = false;\r\n      this.injTypes[aType].checked = val;\r\n    }\r\n  }\r\n\r\n  @observable\r\n  markers: any[] = []\r\n  @observable\r\n  dataByYears: any [] =[]\r\n  @observable\r\n  dataFilterdByYears: any [] =[]\r\n  @observable \r\n  isLoading : boolean =false;\r\n\r\n  @action\r\n  submitFilter = () => {\r\n    this.isLoading = true;\r\n    let filter = this.getFilter();\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\"){\r\n      var srvCity  = new CityService();\r\n      srvCity.getCityByNameHe(this.city,this.updateLocation);\r\n    }\r\n    var service = new AccidentService();\r\n    service.postFilter(filter, this.updateMarkers);\r\n    this.submitGroupByYears();\r\n    this.submitfilterdGroupByYears();\r\n  }\r\n\r\n  @action\r\n  submitGroupByYears = () =>{\r\n    let filtermatch = this.getfilterForCityOnly();\r\n    let filter = this.getFilterGroupByYears(filtermatch);\r\n    var service = new AccidentService();\r\n    service.postGroupby(filter, this.updateDataByYears)\r\n  }\r\n  submitfilterdGroupByYears = () =>{\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupByYears(filtermatch);\r\n    var service = new AccidentService();\r\n    service.postGroupby(filter, this.updateDataFilterdByYears)\r\n  }\r\n\r\n  getFilterGroupByYears=(filterMatch:string) =>{\r\n    let filter = \"[\" \r\n     + '{\"$match\": '+ filterMatch +'}' \r\n     + ',{\"$group\": { \"_id\": \"$accident_year\", \"count\": { \"$sum\": 1 }}}'\r\n     +',{\"$sort\": {\"_id\": 1}}'\r\n     +']'\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateDataByYears =(arr: any[]) =>{\r\n    this.dataByYears= arr;\r\n  }\r\n  @action\r\n  updateDataFilterdByYears =(arr: any[]) =>{\r\n    this.dataFilterdByYears= arr;\r\n  }\r\n\r\n  getFilter = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : \"${this.startYear}\",\"$lte\": \"${this.endYear}\"}}`;\r\n    filter += this.getMultiplefilter(\"day_night_hebrew\",this.dayNight);\r\n    filter += this.getfilterCity();\r\n    filter += this.getMultiplefilter(\"road_type_hebrew\",this.roadTypes);\r\n    filter += this.getfilterInjured();\r\n    filter += this.getMultiplefilter(\"sex_hebrew\",this.genderTypes);\r\n    filter += this.getMultiplefilter(\"age_group_hebrew\",this.ageTypes);\r\n    filter += this.getMultiplefilter(\"population_type_hebrew\",this.populationTypes);\r\n    filter += `]}`\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  getfilterForCityOnly = () =>{\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":{\"$gte\":\"2015\"}}`;\r\n    filter += this.getfilterCity();\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n  getfilterCity = () => {\r\n    let filter: string = '';\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\") filter += `, {\"accident_yishuv_name\": \"${trimCity}\"}`;\r\n    return filter;\r\n  }\r\n  getMultiplefilter = (filterKey: string, arr: Array<IFilterChecker>) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = arr.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"${filterKey}\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  getfilterInjured = () => {\r\n    let filter: string = '';\r\n    if (this.injTypes[0].checked)\r\n      filter = '';\r\n    else {\r\n      let arrfilter: string[] = [];\r\n      const iterator = this.injTypes.values();\r\n      for (const injType of iterator) {\r\n        if (injType.checked) {\r\n          arrfilter = [...arrfilter, ...injType.filters]\r\n        }\r\n      }\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"injured_type_hebrew\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateMarkers = (arrPoints: any[]) => {\r\n    if (arrPoints !== null) {\r\n      this.markers = arrPoints;\r\n    }\r\n    this.isLoading = false;\r\n    this.cityResult = this.city;\r\n  }\r\n  @action \r\n  updateLocation = (res:any[]) => {\r\n    if (res !== null && res.length >0 ) {\r\n      let city = res[0]; \r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat,city.lon) ;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport L from 'leaflet'\r\nimport { Marker, Popup } from 'react-leaflet'\r\n\r\nimport 'leaflet-css'\r\nimport redMarker from '../../assets/marker-icon-2x-red.png'\r\nimport shadoMarker from '../../assets/marker-shadow.png'\r\nimport { toJS } from 'mobx'\r\n\r\nconst redIcon = new L.Icon({\r\n    iconUrl: redMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst AccidentsMarkers = observer(() => {\r\n    const pStyle= {\r\n        color:\"#004ba0\"\r\n       };\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const reactMarkers = toJS(store.markers);\r\n    //console.log(reactMarkers);\r\n    const markersArr = reactMarkers.map((x) => {\r\n        if (x.latitude !== null && x.longitude !== null) {\r\n            let lPoint: L.LatLng = new L.LatLng(x.latitude, x.longitude);\r\n            return (<Marker key={`marker-${x._id}`} position={lPoint} icon={redIcon}>\r\n                {<Popup>\r\n                    <div className={'text'+store.language}> \r\n                        <div><span style={pStyle}>{t('When')}:</span> {x.accident_timestamp}, {x.day_in_week_hebrew}, {x.day_night_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Who')}:</span> {x.injured_type_hebrew}, {x.vehicle_vehicle_type_hebrew? x.vehicle_vehicle_type_hebrew +\", \": \"\"} {x.sex_hebrew}, {x.age_group_hebrew}, {x.population_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Where')}:</span> {x.accident_yishuv_name}, {x.street1_hebrew}, {x.road_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('What')}:</span> {x.accident_type_hebrew}</div>\r\n                    </div>\r\n                </Popup>}\r\n            </Marker>)\r\n        }\r\n        else { return null }\r\n    })\r\n    if (reactMarkers.length > 0) {\r\n        return (\r\n            <div>\r\n                {markersArr}\r\n            </div>\r\n        )\r\n    }\r\n    else { return null }\r\n})\r\nexport default AccidentsMarkers","import React , {FunctionComponent} from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n\r\n//import L from 'leaflet'\r\nimport { Map, TileLayer} from 'react-leaflet'\r\nimport AccidentsMarkers from '../molecules/AccidentsMarkers'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport 'leaflet-css'\r\n\r\ninterface IProps {\r\n  name:string\r\n}\r\nconst MapAccidents:FunctionComponent<IProps> = observer(({ name }) => {\r\n  const store = useStore();\r\n  const reactMapCenter = toJS(store.mapCenter);\r\n  const WRAPPER_STYLES = { height: '500px', width: '100vw', maxWidth: '100%' };\r\n  return (\r\n    <div>\r\n      <Map\r\n        center={reactMapCenter}\r\n        zoom={13}\r\n        style={WRAPPER_STYLES}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <AccidentsMarkers />\r\n      </Map>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n\r\n/* const  getPoints =(e) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n\r\n  const addPointsToMap=(arrPoints) =>{\r\n    this.setState(() => {\r\n      return {markers: arrPoints};\r\n    })\r\n  } */\r\n\r\nexport default MapAccidents\r\n","\r\nimport React,{ ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\ninterface IProps {\r\n    label: string,\r\n    group: string,\r\n    id:number,\r\n    checked: boolean,\r\n    onChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n  }\r\nexport const Checkbox: React.FC<IProps> = ({group,label,id,checked,onChange}) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Check inline label={t(label)} type={'checkbox'} id={`cbox`+group+id} checked={checked} onChange={onChange} />\r\n    )\r\n}","\r\nimport React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { Checkbox } from '../atoms/Checkbox';\r\nimport { IFilterChecker } from '../../stores/FilterChecker'\r\n\r\ninterface IProps {\r\n  formName: string,\r\n  groupName: string,\r\n  dataArr: Array<IFilterChecker>,\r\n  onChange: (aType: number, val: boolean) => void\r\n}\r\n\r\nexport const GroupCheckbox: React.FC<IProps> = observer(({ formName, groupName, dataArr, onChange }) => {\r\n  const { t } = useTranslation();\r\n  //const store = useStore();\r\n  return (\r\n    <Form.Group controlId={formName + \".Control\" + groupName} >\r\n      <Form.Label className=\"filterLable\">{t(groupName)}:</Form.Label>\r\n      {dataArr.map((fChecker, index) => (\r\n        <Checkbox key={index} label={fChecker.label} group={groupName} id={index} checked={fChecker.checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { onChange(index, e.target.checked); }} />\r\n      ))}\r\n    </Form.Group>\r\n  )\r\n})","import React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\nimport { GroupCheckbox } from '../molecules/GroupCheckBox'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps {\r\n  activeCardKey: number\r\n}\r\n\r\nexport const FilterRequest: React.FC<IProps> = observer(({ activeCardKey = 0 }) => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const {startYear, EndYear, City} = store;\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey={activeCardKey.toString()}>\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n      </Accordion>\r\n      <Button variant=\"primary\"\r\n        disabled={store.isLoading}\r\n        onClick={() => { store.submitFilter(); }} >{store.isLoading ? t('Loading…') : t('Submit')} </Button>\r\n      {/* <Button variant=\"primary\"\r\n        onClick={() => {  store.submitGroupByYears(); }} >group by</Button> */}\r\n    </Form>\r\n  );\r\n})\r\nconst CardFilterWhen = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n          {t('When')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <div>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n                <Form.Label className=\"filterLable\"> {t('FromYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n                <Form.Label className=\"filterLable\"> {t('ToYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <GroupCheckbox formName=\"exampleForm\" groupName='DayNight' dataArr={store.dayNight} onChange={store.updateDayNight} />\r\n          </div>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n          {t('Where')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n          <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}:</Form.Label>\r\n            <Typeahead\r\n              id=\"typeaheadCity\"\r\n              //defaultSelected={[store.city]}\r\n              onChange={(selected: string[]) => {\r\n                if (selected.length > 0)\r\n                  store.updateCity(selected[0]);\r\n                else\r\n                  store.updateCity(\"\");\r\n              }}\r\n              options={citisNamesHeb}\r\n              //multiple\r\n              selected={[store.city]}\r\n              placeholder={t('ChooseCity')}\r\n            />\r\n          </Form.Group>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='RoadType' dataArr={store.roadTypes} onChange={store.updateRoadType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n          {t('Who')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Vehicle' dataArr={store.injTypes} onChange={store.updateInjuerdType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Gender' dataArr={store.genderTypes} onChange={store.updateGenderType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Age' dataArr={store.ageTypes} onChange={store.updateAgeType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Population' dataArr={store.populationTypes} onChange={store.updatePopulationType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\ninterface IProps {\r\n    activeCardKey?:number \r\n  }\r\n\r\nexport const FilterPanel:React.FC<IProps>=  ({activeCardKey=0}) => {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest activeCardKey={activeCardKey}/>\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface IProps {\r\n    length:number,\r\n    name?: string\r\n  }\r\nexport const CasualtiesSumLabel: React.FC<IProps> = ({length,name}) => {\r\n    const { t } = useTranslation();\r\n    const nameSpan = name ? name +\"- \" : \"\" \r\n    if (length > 0) {\r\n        return (\r\n        <h4>{nameSpan}{t('Found')} {length} {t('Casualties')} </h4>\r\n        )\r\n    }\r\n    else return (\r\n        <h4>{t('NoResultsFound')}</h4>\r\n    )\r\n}\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\nimport {CasualtiesSumLabel} from '../atoms/CasualtiesSumLabel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.markers)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: t('Year'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_yishuv_name',\r\n        text: t('City'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'street1_hebrew',\r\n        text: t('Street'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew',\r\n        text: t('Type'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'vehicle_vehicle_type_hebrew',\r\n        text: t('Vehicle'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_type_hebrew',\r\n        text: t('AccidentType'),\r\n        sort: true\r\n    }, {   \r\n        dataField: 'age_group_hebrew',\r\n        text: t('Age'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: t('Gender'),\r\n        sort: true\r\n    }];\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return (  \r\n        <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/> \r\n    );\r\n})\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps {\r\n    type? :number \r\n  }\r\nexport const GroupByTable:React.FC<IProps> = observer(({type =0}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    //const rtitle = title ? <div>{title}</div> : null \r\n    let reactData = null;\r\n    if (type ===0)\r\n        reactData = toJS(store.dataByYears)\r\n    else \r\n        reactData = toJS(store.dataFilterdByYears)\r\n\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: t('Year'),\r\n    }, {\r\n        dataField: 'count',\r\n        text: t('Casualties'),\r\n    }];\r\n    if (reactData.length >0 ){\r\n        return (<div className=\"groupByTable\">\r\n            <BootstrapTable keyField='_id' data={reactData} columns={columns} headerClasses=\"table-header\" />\r\n            </div>\r\n            )\r\n    }\r\n    else return null;\r\n})","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps {\r\n    title?: string\r\n}\r\nexport const SmallCard: React.FC<IProps> = ({ title, children }) => {\r\n    const style = {\r\n        width: '15rem'\r\n    };\r\n    const styleb = {\r\n        padding: \"0.2rem\"\r\n    }\r\n    let aHeder = title ? <Card.Header>{title}</Card.Header> : \"\";\r\n    return (\r\n        <Card style={style}>\r\n            <Card.Body style={styleb}>\r\n                {aHeder}\r\n                {children}\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { GroupByTable } from '../molecules/GroupByTable'\r\nimport { SmallCard } from '../molecules/SmallCard'\r\n\r\ninterface IProps { }\r\n\r\nexport const AggregatesPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n      };\r\n    let reactData = toJS(store.dataByYears)\r\n    if (reactData.length >0 ){\r\n    return (\r\n        <div className=\"row\" style={style}>\r\n            <SmallCard title={t('AllCasualtiesInRegion')}>\r\n                <GroupByTable type={0} />\r\n            </SmallCard>\r\n            <SmallCard title={t('CasualtiesByFilter')}>\r\n                <GroupByTable type={1} />\r\n            </SmallCard>\r\n        </div>\r\n    )}\r\n    else return null;\r\n})\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { AggregatesPanel } from '../organisms/AggregatesPanel'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomeTemplate: React.FC<IProps> = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-2 col-md-2\"><FilterPanel /></div>\r\n          <div className=\"col-md-10\">\r\n            <AggregatesPanel />\r\n            <Card><MapAccidents name=\"\" /></Card>\r\n            <div className=\"row\">\r\n              <div className=\"col-auto\"><AccidentsTable /></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { HomeTemplate } from '../templates/HomeTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <HomeTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useLocation} from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Card from 'react-bootstrap/Card';\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { GroupByTable } from '../molecules/GroupByTable'\r\nimport { SmallCard } from '../molecules/SmallCard'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\ninterface IProps { }\r\n\r\nexport const CityTemplate: React.FC<IProps> = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  const {cityResult} = store;\r\n  if(cityResult === \"\"){\r\n    let cityName  = useCityNamefromQuery();\r\n    store.updateCity(cityName);\r\n    store.submitFilter();\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <h4>{cityResult}</h4>\r\n        </div>\r\n        <div className=\"row \">\r\n          <div className=\"p-3 col-md-3\"><FilterPanel activeCardKey={1}/></div>\r\n          <div className=\"col-md-7\"><Card><MapAccidents name={cityResult} /></Card></div>\r\n          <div className=\"col-md-2\">\r\n            <SmallCard title={t('AllCasualtiesInRegion')}>\r\n                <GroupByTable type={0} />\r\n            </SmallCard>\r\n            <SmallCard title={t('CasualtiesByFilter')}>\r\n                <GroupByTable type={1} />\r\n            </SmallCard>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-auto\"><AccidentsTable /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n//get city name by query by url\r\nfunction useCityNamefromQuery(){\r\n  let query = useQuery();\r\n  let res = \"תל אביב -יפו\";  \r\n  let name = query.get(\"name\")\r\n  let found = false;\r\n  if (name !== null)\r\n     found = citisNamesHeb.includes(name);\r\n  if(found)\r\n  {\r\n    res = citisNamesHeb.find(element => element === name!)!;\r\n  }\r\n  return res;\r\n}\r\n// A custom hook that builds on useLocation to parse\r\n// the query string for you.\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { CityTemplate } from '../templates/CityTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const CityPage: React.FC<IProps> = () => {\r\n  return (\r\n    <CityTemplate />\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport {LeafletMouseEvent} from 'leaflet'\r\nimport 'leaflet-css'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\nimport AccidentService from '../../services/Accident.Service'\r\n \r\n\r\n\r\n\r\ninterface IPoint{\r\n  lat: number,\r\n  lon: number,\r\n  _id: string\r\n}\r\ninterface IState {\r\n  layerHidden?: boolean;\r\n  fitBoundsOnUpdate?: boolean;\r\n  addressPoints?: Array<IPoint>;\r\n}\r\n\r\nconst INITIAL_ZOOM = 10;\r\n\r\nexport default class HeatMap extends React.Component<{},IState> {\r\n    public state = {\r\n      layerHidden: false,\r\n      fitBoundsOnUpdate : true,\r\n      addressPoints: []\r\n    };\r\n  \r\n  componentWillMount() {\r\n/*     const { addressPoints } = this.state\r\n    geojsonPoints.data.map ((x:any)=>{return addressPoints.push( [x.latitude,x.longitude,x.accident_timestamp]) })\r\n    // {{latitude: number, longitude: number,accident_timestamp: string}}\r\n    this.setState({ addressPoints }) */\r\n    console.log(\"heatmap\")\r\n  }\r\n  getPoints =(e:object) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n  addPoint = (e:LeafletMouseEvent) => {\r\n    let newPoint:any = [e.latlng.lat,e.latlng.lng,e.originalEvent.timeStamp.toString()]\r\n    if (this.state.addressPoints.length >0)\r\n    {\r\n      this.setState(prevState => ({\r\n        addressPoints: [...prevState.addressPoints, newPoint]\r\n      }))\r\n    }\r\n    // else{\r\n    //   this.setState(state => ({\r\n    //     addressPoints: [newPoint]\r\n    //   }))\r\n    // }\r\n  }\r\n  addPointsToMap=(arrPoints: any[]) =>{\r\n    let newArr:any[] = arrPoints.map (x => [x.latitude, x.longitude, x._id])\r\n    this.setState({ addressPoints: [...newArr]});\r\n  }\r\n  render() {\r\n    const WRAPPER_STYLES = { height: '400px', width: '100vw' }\r\n\r\n    return (\r\n      <div>\r\n        <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}\r\n         onClick={this.addPoint}\r\n        >\r\n        {!this.state.layerHidden &&\r\n          <HeatmapLayer\r\n            fitBoundsOnLoad\r\n            fitBoundsOnUpdate\r\n            points={this.state.addressPoints}\r\n            longitudeExtractor={(m:any) => m[1]}\r\n            latitudeExtractor={(m:any) => m[0]}\r\n            intensityExtractor={(m:any) => parseFloat(m[2])} />\r\n            }\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n        </Map>\r\n        <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n        <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button>\r\n      </div>\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport const geojsonPoints:any = {\r\n  data: [\r\n      {\r\n          \"longitude\": 34.9780568296871,\r\n          \"latitude\": 32.4543458814189,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2016-05-15 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2015-01-02 06:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.968629300414,\r\n          \"latitude\": 32.4520110942299,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-09-12 09:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-07-27 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2011-03-26 19:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-11-28 11:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 19:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9625415910224,\r\n          \"latitude\": 32.4496820631224,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 06:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-28 10:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-06-22 12:00:00\"\r\n      }\r\n  ],\r\n};\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport {LanguageSelector} from '../molecules/LanguageSelector';\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\nexport default class Header extends React.Component <IProps> {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n      <h1 className=\"HederTitle\">\r\n        {this.props.title}\r\n      </h1>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector/>\r\n      </div>\r\n    </header> \r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/city\">{t('Cities')}</Link>\r\n          <Link to=\"/heatmap\">{t('HeatMap')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\nimport './i18n';\r\nimport './App.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { HomePage } from './components/pages/HomePage'\r\nimport {CityPage} from './components/pages/CityPage'\r\nimport HeatMap from './components/pages/HeatMap';\r\nimport Header from './components/templates/Headr';\r\nimport Footer from './components/templates/Footer';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex' height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <About />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n                <HeatMap />\r\n            </Route>\r\n            <Route path=\"/city\">\r\n                <CityPage />\r\n            </Route>\r\n            <Route path=\"/\">\r\n                <HomePage />\r\n            </Route>\r\n          </Switch>\r\n          </div>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"heb\">\r\n      <div>פרוייקט נתונים על תאונות דרכים</div>\r\n      <div>מקור הנתונים - פרוייקט Anyway של הסדנא לידע ציבורי.</div>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}