{"version":3,"sources":["assets/marker-icon-2x-red.png","assets/marker-shadow.png","i18n.js","stores/FilterChecker.ts","services/Accident.Service.ts","services/City.Service.ts","stores/storeConfig.ts","stores/FilterStore.ts","components/molecules/AccidentsMarkers.tsx","components/organisms/MapAccidents.tsx","components/atoms/Checkbox.tsx","components/molecules/GroupCheckBox.tsx","components/organisms/FilterRequest.tsx","components/organisms/FilterPanel.tsx","components/atoms/CasualtiesSumLabel.tsx","components/organisms/AccidentsTable.tsx","components/atoms/SmallCard.tsx","components/atoms/SelectGroupBy.tsx","components/molecules/MyBarChart.tsx","components/organisms/GroupByGraphsPanel.tsx","components/molecules/GroupByTable.tsx","components/organisms/GroupByTablesPanel.tsx","components/templates/HomeTemplate.tsx","components/pages/HomePage.tsx","components/templates/TabsTemplate.tsx","components/pages/CityPage.tsx","components/pages/HeatMap.tsx","components/molecules/LanguageSelector.tsx","components/templates/Headr.tsx","components/templates/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","EnumVehiclePass","FilterChecker","label","valid","filters","this","checked","observable","getAll","collback","$","done","response","fetchFilter","filter","a","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","json","fetchGroupBy","CityService","cityName","settings","ajax","lang","store","arr","appInitialized","reactionChangeLang","reaction","language","locale","changeLanguage","groupByDict","getFilterGroupBy","filterMatch","groupName","getFilter","startYear","endYear","getMultiplefilter","dayNight","getfilterCity","roadTypes","getfilterInjured","genderTypes","ageTypes","populationTypes","console","log","getfilterForCityOnly","trimCity","city","toString","trim","filterKey","allChecked","arrfilter","iterator","values","filterCheck","map","x","join","injTypes","injType","push","FC","action","name","L","LatLng","aType","val","groupBy","groupByText","submitfilterdGroup","isLoading","getCityByNameHe","updateLocation","then","data","undefined","markers","cityResult","submitGroupByYears","submitfilterdGroupByYears","filtermatch","dataByYears","dataFilterdByYears","dataFilterd","res","length","lat","lon","mapCenter","StoreContext","React","createContext","useStore","useContext","Error","redIcon","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","iconSize","iconAnchor","popupAnchor","shadowSize","AccidentsMarkers","observer","pStyle","color","t","useTranslation","reactMarkers","toJS","markersArr","latitude","longitude","lPoint","Marker","key","_id","position","icon","Popup","className","style","accident_timestamp","day_in_week_hebrew","day_night_hebrew","injured_type_hebrew","vehicle_vehicle_type_hebrew","sex_hebrew","age_group_hebrew","population_type_hebrew","accident_yishuv_name","street1_hebrew","road_type_hebrew","accident_type_hebrew","MapAccidents","reactMapCenter","Map","center","zoom","height","width","maxWidth","TileLayer","attribution","url","Checkbox","group","id","onChange","Form","Check","inline","type","GroupCheckbox","formName","dataArr","Group","controlId","Label","fChecker","index","e","target","FilterRequest","activeCardKey","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","Button","variant","disabled","onClick","submitFilter","Card","Header","Toggle","as","eventKey","Collapse","Body","Row","Col","Control","defaultValue","parseInt","value","updateDayNight","selected","updateCity","options","citisNamesHeb","placeholder","updateRoadType","updateInjuerdType","updateGenderType","updateAgeType","updatePopulationType","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","CasualtiesSumLabel","nameSpan","AccidentsTable","props","divStyle","display","justifyContent","ExportCSVButton","CSVExport","columns","dataField","text","hidden","sort","keyField","exportCSV","baseProps","pagination","paginationFactory","headerClasses","csvProps","SmallCard","title","styleType","children","aHeder","padding","SelectGroupBy","updateGroupby","MyBarChart","colName","margin","top","right","left","bottom","strokeDasharray","dataKey","fill","GroupByGraphsPanel","reactData1","reactData2","reactData3","marginLeft","marginRight","marginTop","GroupByTable","dataName","GroupByTablesPanel","HomeTemplate","Tabs","Tab","HomePage","TabsTemplate","query","URLSearchParams","useLocation","search","get","found","includes","find","element","useCityNamefromQuery","CityPage","HeatMap","state","layerHidden","fitBoundsOnUpdate","addressPoints","getPoints","addPointsToMap","addPoint","newPoint","latlng","lng","originalEvent","timeStamp","setState","prevState","arrPoints","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","Component","LanguageSelector","document","getElementById","href","classList","remove","add","ButtonGroup","toggle","size","ToggleButton","defaultChecked","updateLanguage","Footer","flexFlow","to","About","App","path","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.173c11c6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","import i18n from 'i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    debug: true,\r\n    // I'm hardcoding the translations here for the sake of simplicity,\r\n    // but in a real-world application you would get these from a backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable } from \"mobx\"\r\n\r\nexport interface IFilterChecker {\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n}\r\n\r\nexport default class FilterChecker implements IFilterChecker {\r\n    @observable\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n    constructor(label: string, valid: boolean, filters: string[]) {\r\n        this.label = label;\r\n        this.checked = valid;\r\n        this.filters = filters;\r\n    }\r\n}\r\nexport enum EnumVehiclePass {\r\n    All,\r\n    Ped,\r\n    Cycle,\r\n    Motorcycle,\r\n    Car,\r\n    Others\r\n}\r\n\r\nexport const initDayNight = (arr: any) => {\r\n    arr.push(new FilterChecker('day', true, [\"יום\"]));\r\n    arr.push(new FilterChecker('night', true, [\"לילה\"]));\r\n}\r\n\r\nexport const initInjTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('all', true, []));\r\n    arr.push(new FilterChecker('pedestrian', false, [\"הולך רגל\"]));\r\n    arr.push(new FilterChecker('cyclist', false, [\"נהג - אופניים\", \"נוסע - אופניים (לא נהג)\"]));\r\n    arr.push(new FilterChecker('motorcycle', false, [\"נהג - אופנוע\", \"נוסע - אופנוע (לא נהג)\"]));\r\n    arr.push(new FilterChecker('wheels4+', false, [\"נהג - רכב בעל 4 גלגלים ויותר\", \"נוסע - רכב בעל 4 גלגלים ויותר\"]));\r\n    arr.push(new FilterChecker('other', false, [\"נהג - רכב לא ידוע\", \"נוסע - רכב לא ידוע\"]));\r\n}\r\nexport const initGenderTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('female', true, [\"נקבה\"]));\r\n    arr.push(new FilterChecker('male', true, [\"זכר\"]));\r\n    //arr.push(new FilterChecker2(true, [\"לא ידוע\"]));\r\n}\r\nexport const initAgeTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('00-04', true, [\"00-04\"]));\r\n    arr.push(new FilterChecker('05-09', true, [\"05-09\"]));\r\n    arr.push(new FilterChecker('10-14', true, [\"10-14\"]));\r\n    arr.push(new FilterChecker('15-19', true, [\"15-19\"]));\r\n    arr.push(new FilterChecker('20-29', true, [\"20-24\", \"25-29\"]));\r\n    arr.push(new FilterChecker('30-39', true, [\"30-34\", \"35-39\"]));\r\n    arr.push(new FilterChecker('40-49', true, [\"40-44\", \"45-49\"]));\r\n    arr.push(new FilterChecker('50-59', true, [\"50-54\", \"55-59\"]));\r\n    arr.push(new FilterChecker('60-69', true, [\"60-64\", \"65-69\"]));\r\n    arr.push(new FilterChecker('70-79', true, [\"70-74\", \"75-79\"]));\r\n    arr.push(new FilterChecker('80+', true, [\"80-84\", \"85+\"]));\r\n    arr.push(new FilterChecker('unknown', true, [\"לא ידוע\"]));\r\n}\r\nexport const initPopulationTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('jews', true, [\"יהודים\"]));\r\n    arr.push(new FilterChecker('arabs', true, [\"ערבים\"]));\r\n    arr.push(new FilterChecker('immigrants', true, [\"זרים\"]));\r\n    arr.push(new FilterChecker('unknown', true, [\"לא ידוע\"]));\r\n}\r\n\r\nexport const initRoadTypes = (arr: any) => {\r\n    arr.push(new FilterChecker('urban-junction', true, [\"עירונית בצומת\"]));\r\n    arr.push(new FilterChecker('urban-road', true, [\"עירונית לא בצומת\"]));\r\n    arr.push(new FilterChecker('non-urban-junction', true, [\"לא-עירונית בצומת\"]));\r\n    arr.push(new FilterChecker('non-urban-road', true, [\"לא-עירונית לא בצומת\"]));\r\n}\r\n","import * as $ from 'jquery';\r\n\r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n\r\n}\r\nexport const getAll= (collback: (arrPoints: any[]) => void) => {\r\n  //\"http://localhost:5000/api/v1/accident\"\r\n  var settings = {\r\n    \"url\": \"/api/v1/accident\",\r\n    \"method\": \"GET\",\r\n    \"headers\": {}\r\n  }\r\n  $.ajax(settings).done(function (response: any) {\r\n    //console.log(response)\r\n    collback(response);\r\n  });\r\n}\r\n\r\n    //send request using jsonp and post body - return arry of points\r\n  export const  postGroupby= (filter: string, collback: (arrPoints: any[]) => void) => {\r\n      //\"http://localhost:5000/api/v1/accident/agg\"\r\n      var settings = {\r\n        \"url\": \"/api/v1/accident/agg\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        \"processData\": false,\r\n        \"data\": filter\r\n      }\r\n      $.ajax(settings).done(function (response: any[]) {\r\n        collback(response);\r\n      });\r\n    }\r\n//send request using jsonp and post body - return arry of points\r\nexport const postFilter = (filter: string, collback: (arrPoints: any[]) => void) =>{\r\n  //\"http://localhost:5000/api/v1/accident\"\r\n  var settings = {\r\n    \"url\": \"/api/v1/accident\",\r\n    \"method\": \"POST\",\r\n    \"headers\": {\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"processData\": false,\r\n    \"data\": filter\r\n  }\r\n\r\n  $.ajax(settings).done(function (response: any[]) {\r\n    collback(response);\r\n  });\r\n}\r\nexport const fetchFilter = async (filter: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident\"\r\n  const response = await fetch(url, {\r\n    method: 'POST', \r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter \r\n  });\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\nexport const fetchGroupBy = async (filter: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident/agg\"\r\n  const response = await fetch(url, {\r\n    method: 'POST', \r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter \r\n  });\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","import { observable, action, reaction } from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport IFilterChecker from './FilterChecker'\r\nimport * as FC from './FilterChecker'\r\nimport { fetchFilter, fetchGroupBy } from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import autorun  from \"mobx\"\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    FC.initDayNight(this.dayNight)\r\n    FC.initInjTypes(this.injTypes);\r\n    FC.initGenderTypes(this.genderTypes);\r\n    FC.initAgeTypes(this.ageTypes)\r\n    FC.initPopulationTypes(this.populationTypes)\r\n    FC.initRoadTypes(this.roadTypes);\r\n    this.groupByDict[\"injured_type_hebrew\"] = 'Type';\r\n    this.groupByDict[\"vehicle_vehicle_type_hebrew\"] = 'Vehicle';\r\n    this.groupByDict[\"sex_hebrew\"] = 'Gender';\r\n    this.groupByDict[\"day_in_week_hebrew\"] = 'WeekDay';\r\n    this.groupByDict[\"road_type_hebrew\"] = 'RoadType';\r\n    this.groupByDict[\"accident_type_hebrew\"] = 'AccidentType';\r\n    this.appInitialized = false;\r\n  }\r\n\r\n\r\n  @observable\r\n  city: string = \"\";\r\n  @action\r\n  updateCity = (name: string) => {\r\n    this.city = name;\r\n  }\r\n  @observable\r\n  cityResult: string = \"\";\r\n\r\n  // this belong to root store\r\n  @observable\r\n  language: string = \"he\"\r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang;\r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.08, 34.83)\r\n  //when\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n  @observable\r\n  dayNight: Array<IFilterChecker> = [];\r\n  @action\r\n  updateDayNight = (aType: number, val: boolean) => {\r\n    this.dayNight[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  roadTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.roadTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  genderTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.genderTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  ageTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateAgeType = (aType: number, val: boolean) => {\r\n    this.ageTypes[aType].checked = val;\r\n  }\r\n  @observable\r\n  populationTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updatePopulationType = (aType: number, val: boolean) => {\r\n    this.populationTypes[aType].checked = val;\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    if (aType === 0) {\r\n      this.injTypes[0].checked = val;\r\n      this.injTypes[1].checked = !val;\r\n      this.injTypes[2].checked = !val;\r\n      this.injTypes[3].checked = !val;\r\n      this.injTypes[4].checked = !val;\r\n      this.injTypes[5].checked = !val;\r\n    }\r\n    else {\r\n      this.injTypes[0].checked = false;\r\n      this.injTypes[aType].checked = val;\r\n    }\r\n  }\r\n\r\n  @observable\r\n  markers: any[] = []\r\n  @observable\r\n  dataByYears: any[] = []\r\n  @observable\r\n  dataFilterdByYears: any[] = []\r\n  @observable \r\n  groupBy:string = \"injured_type_hebrew\"\r\n  @observable \r\n  groupByText :string = \"Type\"\r\n  groupByDict: any ={}\r\n  @action\r\n  updateGroupby = (val: string) => {\r\n    this.groupBy = val;\r\n    this.groupByText = this.groupByDict[val];\r\n    this.submitfilterdGroup(this.groupBy);\r\n  }\r\n\r\n  @observable \r\n  dataFilterd :any [] = []\r\n\r\n  @observable\r\n  isLoading: boolean = false;\r\n\r\n  @action\r\n  submitFilter = () => {\r\n    this.isLoading = true;\r\n    let filter = this.getFilter();\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\") {\r\n      var srvCity = new CityService();\r\n      srvCity.getCityByNameHe(this.city, this.updateLocation);\r\n    }\r\n    fetchFilter(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.markers = data;\r\n        }\r\n        this.isLoading = false;\r\n        this.cityResult = this.city;\r\n      })\r\n    this.submitGroupByYears();\r\n    this.submitfilterdGroupByYears();\r\n    this.submitfilterdGroup(this.groupBy);\r\n  }\r\n\r\n  @action\r\n  submitGroupByYears = () => {\r\n    let filtermatch = this.getfilterForCityOnly();\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroupByYears = () => {\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterdByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroup = (groupName :string ) => {\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupBy(filtermatch, groupName);\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterd= data;\r\n      })\r\n  }\r\n\r\n  getFilterGroupBy = (filterMatch: string, groupName: string) => {\r\n    let filter = \"[\"\r\n      + '{\"$match\": ' + filterMatch + '}'\r\n      + ',{\"$group\": { \"_id\": \"$' + groupName + '\", \"count\": { \"$sum\": 1 }}}'\r\n      + ',{\"$sort\": {\"_id\": 1}}'\r\n      + ']'\r\n    return filter;\r\n  }\r\n\r\n  getFilter = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : \"${this.startYear}\",\"$lte\": \"${this.endYear}\"}}`;\r\n    filter += this.getMultiplefilter(\"day_night_hebrew\", this.dayNight);\r\n    filter += this.getfilterCity();\r\n    filter += this.getMultiplefilter(\"road_type_hebrew\", this.roadTypes);\r\n    filter += this.getfilterInjured();\r\n    filter += this.getMultiplefilter(\"sex_hebrew\", this.genderTypes);\r\n    filter += this.getMultiplefilter(\"age_group_hebrew\", this.ageTypes);\r\n    filter += this.getMultiplefilter(\"population_type_hebrew\", this.populationTypes);\r\n    filter += `]}`\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  getfilterForCityOnly = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":{\"$gte\":\"2015\"}}`;\r\n    filter += this.getfilterCity();\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n  getfilterCity = () => {\r\n    let filter: string = '';\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\") filter += `, {\"accident_yishuv_name\": \"${trimCity}\"}`;\r\n    return filter;\r\n  }\r\n  getMultiplefilter = (filterKey: string, arr: Array<IFilterChecker>) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = arr.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"${filterKey}\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getfilterInjured = () => {\r\n    let filter: string = '';\r\n    if (this.injTypes[0].checked)\r\n      filter = '';\r\n    else {\r\n      let arrfilter: string[] = [];\r\n      const iterator = this.injTypes.values();\r\n      for (const injType of iterator) {\r\n        if (injType.checked) {\r\n          arrfilter = [...arrfilter, ...injType.filters]\r\n        }\r\n      }\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"injured_type_hebrew\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateLocation = (res: any[]) => {\r\n    if (res !== null && res.length > 0) {\r\n      let city = res[0];\r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat, city.lon);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport L from 'leaflet'\r\nimport { Marker, Popup } from 'react-leaflet'\r\n\r\nimport 'leaflet-css'\r\nimport redMarker from '../../assets/marker-icon-2x-red.png'\r\nimport shadoMarker from '../../assets/marker-shadow.png'\r\nimport { toJS } from 'mobx'\r\n\r\nconst redIcon = new L.Icon({\r\n    iconUrl: redMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst AccidentsMarkers = observer(() => {\r\n    const pStyle= {\r\n        color:\"#004ba0\"\r\n       };\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const reactMarkers = toJS(store.markers);\r\n    //console.log(reactMarkers);\r\n    const markersArr = reactMarkers.map((x) => {\r\n        if (x.latitude !== null && x.longitude !== null) {\r\n            let lPoint: L.LatLng = new L.LatLng(x.latitude, x.longitude);\r\n            return (<Marker key={`marker-${x._id}`} position={lPoint} icon={redIcon}>\r\n                {<Popup>\r\n                    <div className={'text'+store.language}> \r\n                        <div><span style={pStyle}>{t('When')}:</span> {x.accident_timestamp}, {x.day_in_week_hebrew}, {x.day_night_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Who')}:</span> {x.injured_type_hebrew}, {x.vehicle_vehicle_type_hebrew? x.vehicle_vehicle_type_hebrew +\", \": \"\"} {x.sex_hebrew}, {x.age_group_hebrew}, {x.population_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Where')}:</span> {x.accident_yishuv_name}, {x.street1_hebrew}, {x.road_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('What')}:</span> {x.accident_type_hebrew}</div>\r\n                    </div>\r\n                </Popup>}\r\n            </Marker>)\r\n        }\r\n        else { return null }\r\n    })\r\n    if (reactMarkers.length > 0) {\r\n        return (\r\n            <div>\r\n                {markersArr}\r\n            </div>\r\n        )\r\n    }\r\n    else { return null }\r\n})\r\nexport default AccidentsMarkers","import React , {FunctionComponent} from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n\r\n//import L from 'leaflet'\r\nimport { Map, TileLayer} from 'react-leaflet'\r\nimport AccidentsMarkers from '../molecules/AccidentsMarkers'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport 'leaflet-css'\r\n\r\ninterface IProps {\r\n  name:string\r\n}\r\nconst MapAccidents:FunctionComponent<IProps> = observer(({ name }) => {\r\n  const store = useStore();\r\n  const reactMapCenter = toJS(store.mapCenter);\r\n  const WRAPPER_STYLES = { height: '500px', width: '100vw', maxWidth: '100%' };\r\n  return (\r\n    <div>\r\n      <Map\r\n        center={reactMapCenter}\r\n        zoom={13}\r\n        style={WRAPPER_STYLES}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <AccidentsMarkers />\r\n      </Map>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n\r\n/* const  getPoints =(e) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n\r\n  const addPointsToMap=(arrPoints) =>{\r\n    this.setState(() => {\r\n      return {markers: arrPoints};\r\n    })\r\n  } */\r\n\r\nexport default MapAccidents\r\n","\r\nimport React,{ ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\ninterface IProps {\r\n    label: string,\r\n    group: string,\r\n    id:number,\r\n    checked: boolean,\r\n    onChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n  }\r\nexport const Checkbox: React.FC<IProps> = ({group,label,id,checked,onChange}) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Check inline label={t(label)} type={'checkbox'} id={`cbox`+group+id} checked={checked} onChange={onChange} />\r\n    )\r\n}","\r\nimport React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { Checkbox } from '../atoms/Checkbox';\r\nimport { IFilterChecker } from '../../stores/FilterChecker'\r\n\r\ninterface IProps {\r\n  formName: string,\r\n  groupName: string,\r\n  dataArr: Array<IFilterChecker>,\r\n  onChange: (aType: number, val: boolean) => void\r\n}\r\n\r\nexport const GroupCheckbox: React.FC<IProps> = observer(({ formName, groupName, dataArr, onChange }) => {\r\n  const { t } = useTranslation();\r\n  //const store = useStore();\r\n  return (\r\n    <Form.Group controlId={formName + \".Control\" + groupName} >\r\n      <Form.Label className=\"filterLable\">{t(groupName)}:</Form.Label>\r\n      {dataArr.map((fChecker, index) => (\r\n        <Checkbox key={index} label={fChecker.label} group={groupName} id={index} checked={fChecker.checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { onChange(index, e.target.checked); }} />\r\n      ))}\r\n    </Form.Group>\r\n  )\r\n})","import React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\nimport { GroupCheckbox } from '../molecules/GroupCheckBox'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps {\r\n  activeCardKey: number\r\n}\r\n\r\nexport const FilterRequest: React.FC<IProps> = observer(({ activeCardKey = 0 }) => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const {startYear, EndYear, City} = store;\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey={activeCardKey.toString()}>\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n      </Accordion>\r\n      <Button variant=\"primary\"\r\n        disabled={store.isLoading}\r\n        onClick={() => { store.submitFilter(); }} >{store.isLoading ? t('Loading…') : t('Submit')} </Button>\r\n      {/* <Button variant=\"primary\"\r\n        onClick={() => {  store.submitGroupByYears(); }} >group by</Button> */}\r\n    </Form>\r\n  );\r\n})\r\nconst CardFilterWhen = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n          {t('When')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <div>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n                <Form.Label className=\"filterLable\"> {t('FromYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n                <Form.Label className=\"filterLable\"> {t('ToYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <GroupCheckbox formName=\"exampleForm\" groupName='DayNight' dataArr={store.dayNight} onChange={store.updateDayNight} />\r\n          </div>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n          {t('Where')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n          <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}:</Form.Label>\r\n            <Typeahead\r\n              id=\"typeaheadCity\"\r\n              //defaultSelected={[store.city]}\r\n              onChange={(selected: string[]) => {\r\n                if (selected.length > 0)\r\n                  store.updateCity(selected[0]);\r\n                else\r\n                  store.updateCity(\"\");\r\n              }}\r\n              options={citisNamesHeb}\r\n              //multiple\r\n              selected={[store.city]}\r\n              placeholder={t('ChooseCity')}\r\n            />\r\n          </Form.Group>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='RoadType' dataArr={store.roadTypes} onChange={store.updateRoadType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n          {t('Who')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Vehicle' dataArr={store.injTypes} onChange={store.updateInjuerdType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Gender' dataArr={store.genderTypes} onChange={store.updateGenderType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Age' dataArr={store.ageTypes} onChange={store.updateAgeType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Population' dataArr={store.populationTypes} onChange={store.updatePopulationType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\ninterface IProps {\r\n    activeCardKey?:number \r\n  }\r\n\r\nexport const FilterPanel:React.FC<IProps>=  ({activeCardKey=0}) => {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest activeCardKey={activeCardKey}/>\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface IProps {\r\n    length:number,\r\n    name?: string\r\n  }\r\nexport const CasualtiesSumLabel: React.FC<IProps> = ({length,name}) => {\r\n    const { t } = useTranslation();\r\n    const nameSpan = name ? name +\"- \" : \"\" \r\n    if (length > 0) {\r\n        return (\r\n        <h4>{nameSpan}{t('Found')} {length} {t('Casualties')} </h4>\r\n        )\r\n    }\r\n    else return (\r\n        <h4>{t('NoResultsFound')}</h4>\r\n    )\r\n}\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\nimport {CasualtiesSumLabel} from '../atoms/CasualtiesSumLabel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.markers)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: t('Year'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_yishuv_name',\r\n        text: t('City'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'street1_hebrew',\r\n        text: t('Street'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew',\r\n        text: t('Type'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'vehicle_vehicle_type_hebrew',\r\n        text: t('Vehicle'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_type_hebrew',\r\n        text: t('AccidentType'),\r\n        sort: true\r\n    }, {   \r\n        dataField: 'age_group_hebrew',\r\n        text: t('Age'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: t('Gender'),\r\n        sort: true\r\n    }];\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return (  \r\n        <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/> \r\n    );\r\n})\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps {\r\n    title?: string,\r\n    styleType?: number\r\n}\r\nexport const SmallCard: React.FC<IProps> = ({ title, styleType=0,children }) => {\r\n    const style:any = [\r\n        { width: '15rem'}\r\n        ,{ width: '19rem'}\r\n        ,{ width: '25rem'}\r\n        ,{ width: '40rem'}\r\n    ];\r\n    const styleb = {\r\n        padding: \"0.2rem\"\r\n    }\r\n    let aHeder = title ? <Card.Header>{title}</Card.Header> : \"\";\r\n    return (\r\n        <Card style={style[styleType]}>\r\n            <Card.Body style={styleb}>\r\n                {aHeder}\r\n                {children}\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps { }\r\n\r\nexport const SelectGroupBy: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    return (\r\n        <Form>\r\n            <Form.Group controlId=\"GrupForm.ControlSelectGroupBy\">\r\n                <Form.Label className=\"filterLable\"> {t('GroupBy')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.groupBy} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateGroupby(e.target.value); }}>\r\n                    <option value=\"injured_type_hebrew\">{t('Type')}</option>\r\n                    <option value=\"vehicle_vehicle_type_hebrew\">{t('Vehicle')}</option>\r\n                    <option value=\"sex_hebrew\">{t('Gender')}</option>\r\n                    <option value=\"day_in_week_hebrew\">{t('WeekDay')}</option>\r\n                    <option value=\"road_type_hebrew\">{t('RoadType')}</option>\r\n                    <option value=\"accident_type_hebrew\">{t('AccidentType')}</option>\r\n                </Form.Control>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n\r\n})\r\n","import React from 'react';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n} from 'recharts';\r\nimport { observer } from \"mobx-react\"\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// const data = [\r\n//   { name: 'Page A', uv: 4000, pv: 2400, amt: 2400,},\r\n//   { name: 'Page B', uv: 3000, pv: 1398, amt: 2210,},\r\n//   { name: 'Page C', uv: 2000, pv: 9800, amt: 2290,},\r\n// ];\r\n\r\ninterface IProps {\r\n  data :ReadonlyArray<object>\r\n  width? : number\r\n  height? : number\r\n}\r\n\r\nconst MyBarChart:React.FC<IProps>=  observer(({data, width=400, height=250}) => {\r\n  const { t } = useTranslation();\r\n  let colName = t('Casualties')\r\n  return (\r\n    <BarChart\r\n      width={width}\r\n      height={height}\r\n      data={data}\r\n      margin={{\r\n        top: 5, right: 5, left: 5, bottom: 5,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"_id\" />\r\n      <YAxis />\r\n      <Tooltip />\r\n      <Legend />\r\n      <Bar dataKey=\"count\" name={colName} fill=\"#8884d8\" />\r\n      {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\r\n    </BarChart>\r\n  );\r\n})\r\n\r\nexport default MyBarChart\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\nimport MyBarChart from '../molecules/MyBarChart'\r\n\r\ninterface IProps { }\r\n\r\nexport const GroupByGraphsPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard styleType={2} title={t('CasualtiesByFilter')}>\r\n                    <MyBarChart data={reactData2} />\r\n                </SmallCard>\r\n                <SmallCard styleType={3}>\r\n                    <SelectGroupBy />\r\n                    <MyBarChart data={reactData3} width={600} height={300}></MyBarChart>\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\n\r\ninterface IProps {\r\n    dataName?:string\r\n  }\r\nexport const GroupByTable:React.FC<IProps> = observer(({dataName='Year', children}) => {\r\n    const { t } = useTranslation();\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: t(dataName),\r\n    }, {\r\n        dataField: 'count',\r\n        text: t('Casualties'),\r\n    }];\r\n    if (children!= null ){\r\n        return (<div className=\"groupByTable\">\r\n            <BootstrapTable keyField='_id' data={children} columns={columns} headerClasses=\"table-header\" />\r\n            </div>\r\n            )\r\n    }\r\n    else return null;\r\n})","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { GroupByTable } from '../molecules/GroupByTable'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\n\r\ninterface IProps { }\r\n\r\nexport const GroupByTablesPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard title={t('AllCasualtiesInRegion')}>\r\n                    <GroupByTable>{reactData1}</GroupByTable>\r\n                </SmallCard>\r\n                <SmallCard title={t('CasualtiesByFilter')}>\r\n                    <GroupByTable>{reactData2}</GroupByTable>\r\n                </SmallCard>\r\n                <SmallCard styleType={1}>\r\n                    <SelectGroupBy />\r\n                    <GroupByTable dataName={store.groupByText}>{reactData3}</GroupByTable>\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { GroupByGraphsPanel } from '../organisms/GroupByGraphsPanel'\r\nimport { GroupByTablesPanel } from '../organisms/GroupByTablesPanel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomeTemplate: React.FC<IProps> = observer(() => {\r\n  const style = {\r\n    marginTop: \"20px\"\r\n  }\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  store.updateCity(\"\");\r\n  store.submitFilter();\r\n  return (\r\n    <div className=\"App\">\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row \">\r\n        <div className=\"p-2 col-md-2\"><FilterPanel /></div>\r\n        <div className=\"col-md-10\">\r\n            <h4>{t(\"Israel\")}</h4>\r\n            <Tabs defaultActiveKey=\"home\" id=\"uncontrolled-tab1\">\r\n              <Tab style={style} eventKey=\"home\" title={t(\"Charts\")}>\r\n                 <GroupByGraphsPanel/>\r\n              </Tab>\r\n              <Tab style={style} eventKey=\"grouptables\" title={t(\"Groups\")}>\r\n                  <GroupByTablesPanel/>\r\n              </Tab>\r\n              <Tab style={style} eventKey=\"map\" title={t(\"Map\")}>\r\n                <MapAccidents name=\"\" />\r\n              </Tab>\r\n              <Tab style={style} eventKey=\"table\" title={t(\"Table\")}>\r\n                <div className=\"col-auto\"><AccidentsTable /></div>\r\n              </Tab>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { HomeTemplate } from '../templates/HomeTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <HomeTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { GroupByGraphsPanel } from '../organisms/GroupByGraphsPanel'\r\nimport { GroupByTablesPanel } from '../organisms/GroupByTablesPanel'\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\n\r\ninterface IProps { }\r\n\r\nexport const TabsTemplate: React.FC<IProps> = observer(() => {\r\n  const style = {\r\n    marginTop: \"20px\"\r\n  }\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { cityResult } = store;\r\n  if (cityResult === \"\") {\r\n    let cityName = useCityNamefromQuery();\r\n    store.updateCity(cityName);\r\n    store.submitFilter();\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-2 col-md-2\"><FilterPanel /></div>\r\n          <div className=\"col-md-10\">\r\n              <h4>{cityResult}</h4>\r\n              <Tabs defaultActiveKey=\"map\" id=\"uncontrolled-tab1\">\r\n                <Tab style={style} eventKey=\"home\" title={t(\"Charts\")}>\r\n                   <GroupByGraphsPanel/>\r\n                </Tab>\r\n                <Tab style={style} eventKey=\"grouptables\" title={t(\"Groups\")}>\r\n                    <GroupByTablesPanel/>\r\n                </Tab>\r\n                <Tab style={style} eventKey=\"map\" title={t(\"Map\")}>\r\n                  <MapAccidents name=\"\" />\r\n                </Tab>\r\n                <Tab style={style} eventKey=\"table\" title={t(\"Table\")}>\r\n                  <div className=\"col-auto\"><AccidentsTable /></div>\r\n                </Tab>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n//get city name by query by url\r\nfunction useCityNamefromQuery() {\r\n  let query = useQuery();\r\n  let res = \"תל אביב -יפו\";\r\n  let name = query.get(\"name\")\r\n  let found = false;\r\n  if (name !== null)\r\n    found = citisNamesHeb.includes(name);\r\n  if (found) {\r\n    res = citisNamesHeb.find(element => element === name!)!;\r\n  }\r\n  return res;\r\n}\r\n// A custom hook that builds on useLocation to parse\r\n// the query string for you.\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { TabsTemplate } from '../templates/TabsTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const CityPage: React.FC<IProps> = () => {\r\n  return (\r\n    <TabsTemplate />\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport {LeafletMouseEvent} from 'leaflet'\r\nimport 'leaflet-css'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\nimport {getAll} from '../../services/Accident.Service'\r\n \r\n\r\n\r\n\r\ninterface IPoint{\r\n  lat: number,\r\n  lon: number,\r\n  _id: string\r\n}\r\ninterface IState {\r\n  layerHidden?: boolean;\r\n  fitBoundsOnUpdate?: boolean;\r\n  addressPoints?: Array<IPoint>;\r\n}\r\n\r\nconst INITIAL_ZOOM = 10;\r\n\r\nexport default class HeatMap extends React.Component<{},IState> {\r\n    public state = {\r\n      layerHidden: false,\r\n      fitBoundsOnUpdate : true,\r\n      addressPoints: []\r\n    };\r\n  \r\n  componentWillMount() {\r\n/*     const { addressPoints } = this.state\r\n    geojsonPoints.data.map ((x:any)=>{return addressPoints.push( [x.latitude,x.longitude,x.accident_timestamp]) })\r\n    // {{latitude: number, longitude: number,accident_timestamp: string}}\r\n    this.setState({ addressPoints }) */\r\n    console.log(\"heatmap\")\r\n  }\r\n  getPoints =(e:object) =>{\r\n   \r\n    getAll(this.addPointsToMap);\r\n  }\r\n  addPoint = (e:LeafletMouseEvent) => {\r\n    let newPoint:any = [e.latlng.lat,e.latlng.lng,e.originalEvent.timeStamp.toString()]\r\n    if (this.state.addressPoints.length >0)\r\n    {\r\n      this.setState(prevState => ({\r\n        addressPoints: [...prevState.addressPoints, newPoint]\r\n      }))\r\n    }\r\n    // else{\r\n    //   this.setState(state => ({\r\n    //     addressPoints: [newPoint]\r\n    //   }))\r\n    // }\r\n  }\r\n  addPointsToMap=(arrPoints: any[]) =>{\r\n    let newArr:any[] = arrPoints.map (x => [x.latitude, x.longitude, x._id])\r\n    this.setState({ addressPoints: [...newArr]});\r\n  }\r\n  render() {\r\n    const WRAPPER_STYLES = { height: '400px', width: '100vw' }\r\n\r\n    return (\r\n      <div>\r\n        <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}\r\n         onClick={this.addPoint}\r\n        >\r\n        {!this.state.layerHidden &&\r\n          <HeatmapLayer\r\n            fitBoundsOnLoad\r\n            fitBoundsOnUpdate\r\n            points={this.state.addressPoints}\r\n            longitudeExtractor={(m:any) => m[1]}\r\n            latitudeExtractor={(m:any) => m[0]}\r\n            intensityExtractor={(m:any) => parseFloat(m[2])} />\r\n            }\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n        </Map>\r\n        <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n        <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button>\r\n      </div>\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport const geojsonPoints:any = {\r\n  data: [\r\n      {\r\n          \"longitude\": 34.9780568296871,\r\n          \"latitude\": 32.4543458814189,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2016-05-15 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2015-01-02 06:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.968629300414,\r\n          \"latitude\": 32.4520110942299,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-09-12 09:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-07-27 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2011-03-26 19:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-11-28 11:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 19:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9625415910224,\r\n          \"latitude\": 32.4496820631224,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 06:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-28 10:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-06-22 12:00:00\"\r\n      }\r\n  ],\r\n};\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport {LanguageSelector} from '../molecules/LanguageSelector';\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\nexport default class Header extends React.Component <IProps> {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n      <h1 className=\"HederTitle\">\r\n        {this.props.title}\r\n      </h1>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector/>\r\n      </div>\r\n    </header> \r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/city\">{t('Cities')}</Link>\r\n          <Link to=\"/heatmap\">{t('HeatMap')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\nimport './i18n';\r\nimport './App.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { HomePage } from './components/pages/HomePage'\r\nimport {CityPage} from './components/pages/CityPage'\r\nimport HeatMap from './components/pages/HeatMap';\r\nimport Header from './components/templates/Headr';\r\nimport Footer from './components/templates/Footer';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex' height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <About />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n                <HeatMap />\r\n            </Route>\r\n            <Route path=\"/city\">\r\n                <CityPage />\r\n            </Route>\r\n            <Route path=\"/\">\r\n                <HomePage />\r\n            </Route>\r\n          </Switch>\r\n          </div>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"heb\">\r\n      <div>פרוייקט נתונים על תאונות דרכים</div>\r\n      <div>מקור הנתונים - פרוייקט Anyway של הסדנא לידע ציבורי.</div>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}