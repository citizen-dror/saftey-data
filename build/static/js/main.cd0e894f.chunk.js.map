{"version":3,"sources":["assets/marker-shadow.png","assets/marker-icon-2x-red.png","assets/marker-icon-2x-orange2.png","i18n.js","stores/FilterChecker.ts","stores/GroupBy.ts","services/Accident.Service.ts","services/City.Service.ts","stores/storeConfig.ts","stores/FilterStore.ts","components/molecules/CitySelector.tsx","components/molecules/StreetSelector.tsx","components/molecules/RoadSegmentSelector.tsx","components/atoms/Checkbox.tsx","components/molecules/GroupCheckBox.tsx","components/organisms/FilterRequest.tsx","components/organisms/FilterPanel.tsx","components/molecules/AccidentsMarkers.tsx","components/organisms/MapAccidents.tsx","components/atoms/CasualtiesSumLabel.tsx","components/organisms/AccidentsTable.tsx","components/atoms/SmallCard.tsx","components/atoms/SelectGroupBy.tsx","components/atoms/SelectGroupBy2.tsx","components/atoms/RangeSlider.tsx","components/molecules/MyBarChart.tsx","components/organisms/GroupByGraphsPanel.tsx","components/molecules/GroupByTable.tsx","components/organisms/GroupByTablesPanel.tsx","components/templates/TabsTemplate.tsx","components/templates/HomeTemplate.tsx","components/pages/HomePage.tsx","components/templates/CityTemplate.tsx","components/pages/CityPage.tsx","components/pages/AboutPage.tsx","components/pages/HeatMap.tsx","components/molecules/LanguageSelector.tsx","components/templates/Headr.tsx","components/templates/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","lng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","EnumVehiclePass","FilterChecker","label","valid","filters","this","checked","observable","GroupBy","text","value","limit","GroupBy2","name","vals","revTrnas","key","fixStrcutTable","data","map","x","arr","count","y","grp2","join","xId","_id","undefined","replace","sObject","JSON","parse","getBars","Object","entries","color","getColumns","res","unshift","GroupBy2Val","getAll","collback","$","done","response","fetchFilter","filter","a","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","json","fetchGroupBy","CityService","cityName","settings","ajax","lang","store","dictGroupBy","dict","appInitialized","reactionChangeLang","reaction","language","locale","changeLanguage","getFilterGroupBy","filterMatch","groupName","groupName2","grpids","getFilter","startYear","endYear","getMultiplefilter","injurySeverity","getfilterCity","dayNight","getFilterStreets","getFilterFromArray","roadSegment","getfilterInjured","genderTypes","ageTypes","populationTypes","accidentType","vehicleType","roadTypes","speedLimit","roadWidth","separator","oneLane","getfilterForCityOnly","cities","length","streets","trim","filterName","filterKey","allChecked","arrfilter","iterator","values","filterCheck","xSafe","injTypes","injType","push","FC","groupByDict","group2Dict","groupBy","groupBy2","action","aType","val","L","LatLng","names","split","submitfilterdGroup","submitfilterdGroup2","filtermatch","then","dataByYears","dataFilterdByYears","aGroupBy","console","log","dataFilterd","fixData","dataGroupby2","isLoading","city","getCityByNameHe","updateLocation","markers","cityResult","submitGroupByYears","submitfilterdGroupByYears","lat","lon","mapCenter","StoreContext","React","createContext","useStore","useContext","Error","CitySelector","observer","isMultiple","t","useTranslation","Form","Group","controlId","Label","className","id","onChange","selected","updateCities","options","citisNamesHeb","multiple","placeholder","StreetSelector","Control","type","toString","e","updateStreets","target","RoadSegmentSelector","updateRoadSegment","Checkbox","group","Check","inline","GroupCheckbox","formName","dataArr","fChecker","index","FilterRequest","activeCardKey","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","CardFilterWhat","CardFilterWhatVehicle","CardFilterWhatRoad","updateInjurySeverity","Button","variant","disabled","onClick","submitFilter","Card","Header","Toggle","as","eventKey","Collapse","Body","Row","Col","defaultValue","parseInt","updateDayNight","isMultipleCities","updateRoadType","updateInjuerdType","updateGenderType","updateAgeType","updatePopulationType","updateAccidentType","updateVehicleType","updateSpeedLimit","updateRoadWidth","updateSeparator","updateOneLane","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","iconSize","iconAnchor","popupAnchor","shadowSize","redIcon","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","point","orangeIcon","orangeMarker","AccidentsMarkers","pStyle","reactMarkers","toJS","markersArr","latitude","longitude","lPoint","Marker","position","icon","injury_severity_hebrew","Popup","style","accident_timestamp","day_in_week_hebrew","day_night_hebrew","injured_type_hebrew","vehicle_vehicle_type_hebrew","sex_hebrew","age_group_hebrew","population_type_hebrew","accident_yishuv_name","street1_hebrew","street2_hebrew","road_segment_name","road_type_hebrew","accident_type_hebrew","speed_limit_hebrew","multi_lane_hebrew","one_lane_hebrew","road_width_hebrew","MapAccidents","mapRef","useRef","reactMapCenter","didMountRef","useEffect","current","leafletElement","invalidateSize","Map","ref","center","zoom","height","width","maxWidth","TileLayer","attribution","url","isReadyToRenderMap","CasualtiesSumLabel","nameSpan","AccidentsTable","props","divStyle","display","justifyContent","ExportCSVButton","CSVExport","columns","dataField","hidden","sort","keyField","exportCSV","baseProps","pagination","paginationFactory","headerClasses","csvProps","SmallCard","title","styleType","children","aHeder","aStyle","padding","SelectGroupBy","updateGroupby","onSelectChange","useCallback","event","SelectGroupBy2","updateGroupBy2","RangeSlider","paddingLeft","paddingRight","MyBarChart","bars","colName","dataKey","fill","aName","direction","margin","top","right","left","bottom","strokeDasharray","GroupByGraphsPanel","graphSize","setGraphSize","reactData1","reactData2","reactData3","barsGrp2","reactDataGrp2","marginLeft","marginRight","marginTop","size","GroupByTable","dataName","GroupByTablesPanel","columnsGrp2","TabsTemplate","defaultKey","activeKey","Tabs","onSelect","Tab","HomeTemplate","HomePage","CityTemplate","query","URLSearchParams","useLocation","search","get","found","includes","find","element","useCityNamefromQuery","CityPage","AboutPage","styleDiv","marginBottom","href","rel","HeatMap","state","layerHidden","fitBoundsOnUpdate","addressPoints","getPoints","addPointsToMap","addPoint","newPoint","latlng","originalEvent","timeStamp","setState","prevState","arrPoints","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","Component","LanguageSelector","document","getElementById","classList","remove","add","ButtonGroup","toggle","ToggleButton","defaultChecked","updateLanguage","Footer","flexFlow","to","App","path","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.cd0e894f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjUzOUY5MDI1NjY5MTFFQThDMEI5QTBENDhGM0VDQzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjUzOUY5MDM1NjY5MTFFQThDMEI5QTBENDhGM0VDQzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyN0YyQ0Q3RjU2NjkxMUVBOEMwQjlBMEQ0OEYzRUNDMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyN0YyQ0Q4MDU2NjkxMUVBOEMwQjlBMEQ0OEYzRUNDMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr6mBe8AAA7zSURBVHja3FsJdFTVGf7vmzWZrGQPCYR9kSSQhRBArYKlYq2o0KKn1Rb3eo5Wa9HKUmpd8ainoq2cutba2nIqR4qCS/HIKYLYIKuICCEJkISQTCaZSWZ9t/e/d95kZjLvzZssiH2HB2/evPvu/91//+5AKKXw/3AYh/yNve0F4GotAldLEXW1FoPzdBGlAROx5Z8kKQVNkJx3EpJzm8CWexqIFDh/gFCZwNkvamj91sXeI+9ea+/2lOiaWCLtI0rnb5RKFmyAguptIBn9gxGDDNi0es4WyvtfvM97ZOviTpevWLkts9dJBE8CRgNBgUP3/QEZ/OxCeUY52LMd2aWXbJTKb3sMUouOnRsg/t5keuCVX7XufGM5EyhZuW01SZBsMYCUnArEnBQ9Daqu72PAB7KzE3o9AXD7AhyYAATe3Ior10kz7ngYLOmdwwfk6KYbz/577aPeAC0MTgwZNhMYbGkABhUrDQQtRu17WQbZ5QCHy8e1FTS7szkX37mGTF7yAjO5wNABCXjN8o7fvHBy38c/U8wmI9kIpowssdpEQl8B6usF6vVE+VCYQkj4zIRpjy0AMfRN42iDDqcAhPPkj5/6rnHe75eCydY9eCAeR5b//Tveamk4cRF+TLEYITkjDYjRLOT0e4F6euMLDpHWFf4MsSSF3oca9HQ5oLPHxz/m5mYeMC986fuQkt84cCCOhsmef920udXeM46/NM0MhrQRfSbR6+yTLlpwrc+xQEIkILnbDm1dHu4/ZgNpyV+y/irImbY7cSDdJ0taXv/RbuYPORh5slItzBRSxCTunqjlHcqDmZxVxBBcqHYGBk2NyeAqvP7VWsiccCDWKCnmu3yuFO+WW992+2QOIjsnLQyEaxhBCHWJOZhwSSmQnZWCGgGvX7Z5Nt/2Npq6PiAswQW23fv66WZ7GX7MSrMwXzYBZc6sTHAuDpyL+tzM1CyQmZbEc1JzR+8Y5q8bQPYb4wKhdevWNBzevwhtMz+DgWBqRhDcoSmc05MGAnxuYrFCdqrwnZPH6y+RP31irbaPOBomHn9l6SGZUmMuG2hNTxPgFBAxcpsOk48dtRIYj0EAD293N7Q4PBj+A2Nv/EspZI47HFMjgV2PPo4gMEtb05hP8NDqjhSA6hCc8GTDzMLA0kTYaTKJ70jsqKXiMkIGJos5ycLCv4FFMmrw73rkydim1bJnzrGDe6/GS65GFs8pq41Ab+YnItULoSXmV1Iwz/j5yTM7mgl+x54JAdIFhgpZ2JGZIkzs+BeHroBTOy/tZ1q+fy7a2dDYMgsRj8hOF+MxS1MNwWlfliZmM79BPV5w9XoxykCPV+aFosQAYjXANc1Om9XEfM8qnvf6+uciqmJiZgv/suNsFzhZnTaqKPtz8+JNlWzVqFi2toNVx+qbZ/kDFDJZvqA+ZlJer34zYn9wjNfZAw1nnHCmywtdvX4OQuROyoHhPfyuoc0FPQ6nKIlJlCPRKN8ifeBQJurzcRlR1uMNbTOgdW9tqB+Rj22+hpcfVqZyg0EJw3FtV/EFzPLtDjcXFI8x+algnnwlkLxKVg6Usney1T97CGhrHfiPb4Fjx04xQB6wuv2Ql2EVc1JhQhHZv59fUlHXMbNNSzLy+eT6LVdL+RWfcNPyvD7vSH2rc2J+ugWSks3ihXq0EZy1rbMHnG4MlRQmzV4IUs39bImS1Ndg/8tw9IP1XCGYH4pzbGHLrm9ej9sLpzs9MCbP9rXlJ9smSNBxZBqCwK+TmO3qD5ECBL4QQeAxZenTIM1ZowmCjyxbBhOX/ZWDQBNxdHtixGrtw2IRObG+1TUeMUi0afsCXEl0Qm4q/UIsVc8NzPwwrgeYMBPnXgVQPFd/fsgcB+OvWM7HtjG/oUrfQoh2nA/5kAgcOJ42bFso0e7G0UqHFz+jRd5zOL3g81MYX5wOUvV9iSe7idfApLJp/BKDQOR08bWDMmOUp10NYyW5+3QR89VQb51I+u3xCpMyT13MHNY8MPaj7Bb+r8vtTzj7o8wou+xqKZRkZ2sRy5RgNkoJC+FyY79NWXSqGHh1mD1VUAHMRLhUupQh0KLMOD/DMFI60dhWxNEZSCI+ziYVIMKFGdBhSYdx+aL/8PkTo7kUmU80dRRKAZmmcHpGiq7uws9YVQNVqBxgPfWgSnZOXmBR6JdjeLW6LIrMDINNGluQ1sRf4pN1VnBK0DAIrgr/cjQMhuCDr4618HchnaTe5PcvvVFmHDe2IPWkZEjPO4ElhFsTCI1aIREmLSxq4Fja/NnAgXQeC2kCF0fb4SO/wHE4v5Sa3ShJqSMbBBNIo4qbmIVVxB1lBeWmjwaukBMfBh2XaOQQEvNa4cGktKJGiaQWNSAIrCa1m47+xU8Gq3dw7N5Pd7HWbUfiKLoa4eB7L/N3ZNpMGlVjbGBYXeNYyVbIgORV7kRgdqcvrPcgMcrP/lqyWM2QxXoXHO98/0EkLRLC4fvwbm7SVpOB9eVWlYWjqmbW3u0VBXRueZ0EhTWfsHjs4C/2+cMAU/WX0j6fKRiRxBPT4VNO8G78IVuRo3oIcPC/cyPsPSQ4NxF+o8sjErueD370ef1KUuyBogs/kpDOv6BsKjdUwe5RfSujgGE1z7i8ZF7N7zvSAnXPLwVa9yzuk8RiLQG+3AAHnr0cPt9zkN8qzrKKjpFHRDnGfNFhWJiawkSWlk3aBkaLm5eQhpL5W+S6A9eieeVkJOuvE4LvtbCq+YLiVDjR1gsONsHud14FYOekghRIKZ7Ievck8Lcchv319lBQSTYb+AIYTMYESpM+f2lzePm7DKPnvRNqrMjoeVsBnqGsdiJYhRLsrwno6NdpqMHCMWPyU8De5Yamdjef5Egz6wKb90QmMfZsXoaFnUl9PQ2l+pAQZVfCD17Rfcpk7Pf6gEBK4amK8vFb9+z7+vLTdg+MzDaoNeexyVw0CSJsGMk0PLGEwUIQoyHGeuzoMFwTpQMNNVJyjGBCVXgkMQYbKjwqZ0zZzGRvimBRTKU3PY8RAInjkCYIiRHFaOzYzrvKsFVlyc2WzFY+MwkKsmz8moT2SMKfJzpah7DGXe6LVsbyW9b1p4PGXLZlTE7SCUwydt6xEY1ah6rfxxWmchQwhTpUTjnOu2KcQY23dwuGvmJMxmEY9Z0P+wMhkpxXvfgFvGy2e6LUGyunEI18QyIpHhodVtVylJom+hb1VIfwP3P5dc+rcr+k9KcvsbjscbMaprfXF7YS8VYvEc2pfQ8qoZ+G8pqrx6tsMXSRKUtfUyexrZlnq2qq/oGXiPx8OzAa4lF14bxXwZzq1GTjDWW3/AFV18k0gmx4n3PGSPaJnqBDIf3GkFDIdXr8aFbUMP325+LvjxRU76qamM2Df0swzMUst8gATj0uEnH2lSQnmYVgDppZPuY9yBx3VNeOlXnGzU/hoGYEovTR0VpJaFVVWhvQ4TYg9knanaIkMVXe9aTurTcyecmbFWMzD6KJhXwlOiBpkM2qVTjV2OGNzoNh2sDSB2Wpmlb8EQu52/TvIbJQbKn9xWoeijvdkb6iFY21wICGqYG6+aFvtDsF52WqfXCVWiBQ54DGX7mxelLOf9HE0D4jtEDjtAxUs43Qfi7KxOrP9AZ9Y+wW1nLsSBwI+krt8pW80uzyQgA3ayj0p1U1bFtX5FJLmkT0R11B4s5Uu2KVlqzarFzJ/Pcqp+T/By8bMYbrjUh67pM40ZBro4ffqq6YshHyK+oGDgS1MnvFCvzX7vJxew2P7aqJmUb1QVp9WrR2ghr3eHwKjyAba1esjidnfJ60aM72qrKS9zmFz+w17kammr/o8a2w99YHI1X1zBl/h+ypBwcPhNvnSu4raK8Bpa8HEj9SadWCagmQHVjnIUGO29DGWQ+s0SOjPuY6v+Kz6orJb4e0Ahp5gapzeppsaNjRcFbMMbO25s+QOeGroQOCreQsHsMpaoVXxiS88RqKQ7wLK1ysqSQCPsOsXz+kd7T+vYScaQeqZ05/M7RiND6BF79egbAyXVw2tAltVM256EVIG3Vi6IFwraxAew2g/fa6o7VC9DiBOhVLcAfMAz2+APYbbkPN8kcSkS2x3Z3McV/NnD3rNeErPVFOnUj1SCPIcCVvNLULbVRf/N0/IiEyfECwX6l54CH8NSh2kd1OD8Sv89XYmEjt2LvdgO/EH5hJ1fc9nqhcie+3pY1qqLrwkj9hjFc6tki5iAaLH/VdhDZEv1E97wfPQnL2meEHglqZef8jbOV60Z75HjmNVa/rqAjDtIGEG3unQ6q658mByDQgIGDLba6+9IrncAWFXWv9mIuqbhQpHLKi2crLljwNlnT7uQOCA6vufYL5SjfaNefBiBqhpxWxgI9FZsRqlNqlijufGbA8A85f1sz26vmLnhFaccdgJ6lGK9hX4ipZvGLBj9eCObX73APBwZV3P8XsugPt2675e5Io8wo+0uZwc22kWAwtZPqtzw1KlkFVFZb0rqoF169FrYhsHy6oSvkSpD4hyAfg2GkLlj0GJlvPNwcERZpx+zpm361+Ti57wkBo/PSOYNfp5hxucZa1iZQuWz9YOQYNBFdy+sKbHhVMYG+QPqKxC0qFfmXPKOzMyAuXPQxGi+ebB8I542XrR2cnNaFW+LZE0Kzw1xHhp6KRZrvQxqQC23Ey7YaXh0KGIQGCKzryopt/F+KMg5s3+EtTgrtZ/JSCvsG0YRfayJx7+2/BYPafP0BQxGk3vFI+Ku1r1Eqz3d0/ggVNTXHwGSVpX5Ip170xVPMPGRDcHbbV/nxNiGpVftxJwn7RwO4h4Yd1mrX2rt8M5f96Gzoggmr9W8XYjEMhx4/K8oo2qiZk7YMJizYM5dxDCkRQrfesVkg9KvctOF6jNnj6mfXL1fij4/MXiKBa36qYkFWH5sOp1mBGbwyWIpWTcnbDuMs3DfW0Qw8EV3z28pVoQkIrMvh8YlsA75lr7185HHMOCxAouWxr5ZT8HUpLrPhL5dSR22H0pR98e4Ag1Vr7IKdaO1w+fop7D6warvmGDQgUz/24qqyErz6PVEi7Fs3Z/u0DgmXYrBUrw65XDedcxuF8ORRU7q6pmLRJuR7Oqciw/8f8toPlQaZy33BO8z8BBgAqB5CEUv51hQAAAABJRU5ErkJggg==\"","import i18n from 'i18next';\r\n//import LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    lng : 'he',\r\n    debug: true,\r\n    // hardcoding translations for the sake of simplicity,\r\n    // id more complex - get it from backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable } from \"mobx\"\r\n\r\nexport interface IFilterChecker {\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n}\r\n\r\nexport default class FilterChecker implements IFilterChecker {\r\n    @observable\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n    constructor(label: string, valid: boolean, filters: string[]) {\r\n        this.label = label;\r\n        this.checked = valid;\r\n        this.filters = filters;\r\n    }\r\n}\r\nexport enum EnumVehiclePass {\r\n    All,\r\n    Ped,\r\n    Cycle,\r\n    Motorcycle,\r\n    Car,\r\n    Others\r\n}\r\n\r\nexport const initInjurySeverity = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('dead', true, [\"\"]));\r\n    arr.push(new FilterChecker('severly-injured', false, [\" \"]));\r\n}\r\n\r\nexport const initDayNight = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('day', true, [\"\"]));\r\n    arr.push(new FilterChecker('night', true, [\"\"]));\r\n}\r\n\r\nexport const initInjTypes = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('all', true, []));\r\n    arr.push(new FilterChecker('pedestrian', false, [\" \"]));\r\n    arr.push(new FilterChecker('cyclist', false, [\" - \", \" -  ( )\"]));\r\n    arr.push(new FilterChecker('motorcycle', false, [\" - \", \" -  ( )\"]));\r\n    arr.push(new FilterChecker('wheels4+', false, [\" -   4  \", \" -   4  \"]));\r\n    arr.push(new FilterChecker('other', false, [\" -   \", \" -   \"]));\r\n}\r\n\r\nexport const initVehicleTypes = (arr: IFilterChecker[]) => {\r\n    //arr.push(new FilterChecker('all', true, []));\r\n    arr.push(new FilterChecker('pedestrian', true, [\"null\"]));\r\n    arr.push(new FilterChecker('mobilityscooter', true, [\" \"]));\r\n    arr.push(new FilterChecker('bicycle', true, [\"\"]));\r\n    arr.push(new FilterChecker('e-scooter', true, [\" \"]));\r\n    arr.push(new FilterChecker('e-bike', true, [\" \"]));\r\n    arr.push(new FilterChecker('motorcycle', true, [' 401+ \"',' 126  400 \"',' 51  125 \"',]));\r\n    arr.push(new FilterChecker('car', true, [\"  \"]));\r\n    arr.push(new FilterChecker('taxi', true, [\"\"]));\r\n    arr.push(new FilterChecker('bus', true, [\" \",\"\"]));\r\n    arr.push(new FilterChecker('tranzit', true, [\"  3.5  -  ()\"]));\r\n    arr.push(new FilterChecker('tender', true, [\"  3.5  -   ()\"]));\r\n    arr.push(new FilterChecker('truck', true, [' 3.6  9.9 ',' 10.0  12.0 ', ' 12.1  15.9 ', ' 16.0  33.9 ',' 34.0+ ',]));\r\n    arr.push(new FilterChecker('tractor', true, [\"\"]));\r\n    arr.push(new FilterChecker('train', true, [\"\"]));\r\n    arr.push(new FilterChecker('other', true, [\"  \"]));\r\n}\r\n\r\nexport const initGenderTypes = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('female', true, [\"\"]));\r\n    arr.push(new FilterChecker('male', true, [\"\"]));\r\n    //arr.push(new FilterChecker2(true, [\" \"]));\r\n}\r\nexport const initAgeTypes = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('00-04', true, [\"00-04\"]));\r\n    arr.push(new FilterChecker('05-09', true, [\"05-09\"]));\r\n    arr.push(new FilterChecker('10-14', true, [\"10-14\"]));\r\n    arr.push(new FilterChecker('15-19', true, [\"15-19\"]));\r\n    arr.push(new FilterChecker('20-29', true, [\"20-24\", \"25-29\"]));\r\n    arr.push(new FilterChecker('30-39', true, [\"30-34\", \"35-39\"]));\r\n    arr.push(new FilterChecker('40-49', true, [\"40-44\", \"45-49\"]));\r\n    arr.push(new FilterChecker('50-59', true, [\"50-54\", \"55-59\"]));\r\n    arr.push(new FilterChecker('60-69', true, [\"60-64\", \"65-69\"]));\r\n    arr.push(new FilterChecker('70-79', true, [\"70-74\", \"75-79\"]));\r\n    arr.push(new FilterChecker('80+', true, [\"80-84\", \"85+\"]));\r\n    arr.push(new FilterChecker('unknown', true, [\" \"]));\r\n}\r\nexport const initPopulationTypes = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('jews', true, [\"\"]));\r\n    arr.push(new FilterChecker('arabs', true, [\"\"]));\r\n    arr.push(new FilterChecker('immigrants', true, [\"\"]));\r\n    arr.push(new FilterChecker('others', true, [\"\"]));\r\n}\r\n\r\nexport const initRoadTypes = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('urban-junction', true, [\" \"]));\r\n    arr.push(new FilterChecker('urban-road', true, [\"  \"]));\r\n    arr.push(new FilterChecker('non-urban-junction', true, [\"- \"]));\r\n    arr.push(new FilterChecker('non-urban-road', true, [\"-  \"]));\r\n}\r\nexport const initSpeedLimit = (arr: IFilterChecker[]) =>{\r\n    arr.push(new FilterChecker('speed50', true, [' 50 \"']));\r\n    arr.push(new FilterChecker('speed60', true, ['60 \"']));\r\n    arr.push(new FilterChecker('speed70', true, ['70 \"']));\r\n    arr.push(new FilterChecker('speed80', true, ['80 \"']));\r\n    arr.push(new FilterChecker('speed90', true, ['90 \"']));\r\n    arr.push(new FilterChecker('speed100', true, ['100 \"']));\r\n    arr.push(new FilterChecker('speed110', true, ['110 \"']));\r\n    arr.push(new FilterChecker('speed120', true, ['120 \"']));\r\n    arr.push(new FilterChecker('speed-unknown', true, [' ']));\r\n}\r\nexport const initRoadWidth = (arr: IFilterChecker[]) =>{\r\n    arr.push(new FilterChecker('road-width-5', true, [' 5 ']));\r\n    arr.push(new FilterChecker('road-width-7', true, ['5  7 ']));\r\n    arr.push(new FilterChecker('road-width-10', true, ['7  10.5 ']));\r\n    arr.push(new FilterChecker('road-width-14', true, ['10.5  14 ']));\r\n    arr.push(new FilterChecker('road-width-14+', true, [' - 14 ']));\r\n    arr.push(new FilterChecker('unknown', true, [' ']));\r\n}\r\nexport const initSeparator = (arr: IFilterChecker[]) =>{\r\n    arr.push(new FilterChecker('separator-fence', true, ['   ']));\r\n    arr.push(new FilterChecker('separator-built', true, ['    ']));\r\n    arr.push(new FilterChecker('separator-not-built', true, ['  ']));\r\n    arr.push(new FilterChecker('separator-paint', true, ['  ']));\r\n    arr.push(new FilterChecker('separator-ohter', true, ['']));\r\n    arr.push(new FilterChecker('separator-not-relevant', true, ['null']));\r\n}\r\n\r\nexport const initOneLane = (arr: IFilterChecker[]) =>{\r\n    arr.push(new FilterChecker('onelane-twoway-line', true, ['  +   ']));\r\n    arr.push(new FilterChecker('onelane-twoway-noline', true, ['     ']));\r\n    arr.push(new FilterChecker('onelane-oneway', true, [' ']));\r\n    arr.push(new FilterChecker('onelane-unknown', true, ['   ']));\r\n    arr.push(new FilterChecker('onelane-not-relevant', true, ['null']));\r\n}\r\n\r\n\r\nexport const initAccidentType = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('hit-ped', true, [\"  \"]));\r\n    arr.push(new FilterChecker('hit-front-side', true, [\"  \"]));\r\n    arr.push(new FilterChecker('hit-front-front', true, [\"  \"]));\r\n    arr.push(new FilterChecker('hit-front-rear', true, [\"  \"]));\r\n    arr.push(new FilterChecker('hit-side-side', true, [\"  \"]));\r\n    arr.push(new FilterChecker('hit-obstacle', true, [\"   \"]));\r\n    arr.push(new FilterChecker('hit-turning-over', true, [\"\"]));\r\n    arr.push(new FilterChecker('hit-slip', true, [\"\"]));\r\n}\r\n\r\n\r\n","import { observable } from \"mobx\"\r\n\r\nexport interface IGroupBy {\r\n  text: string;\r\n  value: string;\r\n  limit: number;\r\n}\r\n\r\nexport default class GroupBy implements IGroupBy {\r\n  @observable\r\n  text: string;\r\n  value: string;\r\n  limit: number;\r\n  constructor(text: string, value: string, limit: number = 0) {\r\n    this.text = text;\r\n    this.value = value;\r\n    this.limit = limit;\r\n  }\r\n}\r\n\r\nexport const initGroupByDict = (dictGroupBy: any) => {\r\n  dictGroupBy[\"Severity\"] = new GroupBy('Severity', \"injury_severity_hebrew\")\r\n  dictGroupBy[\"TypeInjured\"] = new GroupBy('TypeInjured', \"injured_type_hebrew\");\r\n  dictGroupBy[\"Vehicle\"] = new GroupBy('Vehicle', \"vehicle_vehicle_type_hebrew\");\r\n  dictGroupBy[\"Gender\"] = new GroupBy('Gender', \"sex_hebrew\");\r\n  dictGroupBy[\"Age\"] = new GroupBy('Age', \"age_group_hebrew\");\r\n  dictGroupBy[\"DayNight\"] = new GroupBy('DayNight', \"day_night_hebrew\");\r\n  dictGroupBy[\"WeekDay\"] = new GroupBy('WeekDay', \"day_in_week_hebrew\");\r\n  dictGroupBy[\"RoadType\"] = new GroupBy('RoadType', \"road_type_hebrew\");\r\n  dictGroupBy[\"City\"] = new GroupBy('City', \"accident_yishuv_name\", 10);\r\n  dictGroupBy[\"Street\"] = new GroupBy('Street', \"street1_hebrew\", 10);\r\n  dictGroupBy[\"AccidentType\"] = new GroupBy('AccidentType', \"accident_type_hebrew\");\r\n  dictGroupBy[\"SpeedLimit\"] = new GroupBy('SpeedLimit', \"speed_limit_hebrew\");\r\n  dictGroupBy[\"RoadWidth\"] = new GroupBy('RoadWidth', \"road_width_hebrew\");\r\n  dictGroupBy[\"Separator\"] = new GroupBy('Separator', \"multi_lane_hebrew\");\r\n  dictGroupBy[\"OneLane\"] = new GroupBy('OneLane', \"one_lane_hebrew\");\r\n}\r\n\r\nexport interface IGroupBy2 {\r\n  text: string;\r\n  name: string;\r\n  vals: any;\r\n}\r\nexport class GroupBy2  implements IGroupBy2 {\r\n  @observable\r\n  text:string;\r\n  name: string;\r\n  vals: any;\r\n  constructor( text:string, name: string) {\r\n    this.text =  text;\r\n    this.name = name;\r\n    this.vals = {};\r\n  }\r\n  revTrnas = (key: string) => {\r\n    let res = this.vals[key].name;\r\n    return res;\r\n  }\r\n  fixStrcutTable = (data: any[]) => {\r\n    let res = data.map((x) => {\r\n      let arr = x.count.map((y: any) => {\r\n        let engVal = this.revTrnas(y.grp2)\r\n        return ('\"' + engVal + '\":' + y.count)\r\n      }).join(',')\r\n      let xId = x._id;\r\n      if (xId !== null && xId !== undefined)\r\n        xId = xId.replace('\"', '\\\\\"')\r\n      let sObject = `{\"_id\":\"${xId}\",${arr}}`\r\n      sObject = JSON.parse(sObject)\r\n      return (sObject)\r\n    });\r\n    //console.log(res)\r\n    return res;\r\n  }\r\n  getBars = () => {\r\n    //[{key:\"male\",color:\"#8884d8\"},{key:\"female\",color:\"#82ca9d\"}]\r\n    let res = Object.entries(this.vals).map(([key, x]: any[]) => { return ({ key: x.name, color: x.color }) })\r\n    return res;\r\n  }\r\n  getColumns= () => {\r\n    let res = Object.entries(this.vals).map(([key, x]: any[]) => { return (x.name) })\r\n    res.unshift('_id')\r\n    return res;\r\n  }\r\n}\r\n\r\n\r\nexport class GroupBy2Val {\r\n  name: string;\r\n  color: string;\r\n  constructor(name: string, color: string) {\r\n    this.name = name;\r\n    this.color = color;\r\n  }\r\n}\r\n\r\nexport const initGroup2Dict = (dict: any) => {\r\n  dict[\"Severity\"] = new GroupBy2(\"Severity\",\"injury_severity_hebrew\")\r\n  dict[\"Severity\"].vals[\"\"] = new GroupBy2Val(\"dead\", \"#8884D8\")\r\n  dict[\"Severity\"].vals[\" \"] = new GroupBy2Val(\"severly-injured\", \"#82CA9D\")\r\n\r\n  dict[\"Gender\"] = new GroupBy2(\"Gender\",\"sex_hebrew\");\r\n  dict[\"Gender\"].vals[\"\"] = new GroupBy2Val(\"male\", \"#8884D8\")\r\n  dict[\"Gender\"].vals[\"\"] = new GroupBy2Val(\"female\", \"#82CA9D\")\r\n\r\n  dict[\"RoadType\"] = new GroupBy2('RoadType', \"road_type_hebrew\");\r\n  dict[\"RoadType\"].vals[\" \"] = new GroupBy2Val(\"urban-junction\", \"#559E54\")\r\n  dict[\"RoadType\"].vals[\"  \"] = new GroupBy2Val(\"urban-road\", \"#305A30\")\r\n  dict[\"RoadType\"].vals[\"- \"] = new GroupBy2Val(\"non-urban-junction\", \"#1258DC\")\r\n  dict[\"RoadType\"].vals[\"-  \"] = new GroupBy2Val(\"non-urban-road\", \"#0A337F\")\r\n\r\n \r\n  dict[\"TypeInjured\"] = new GroupBy2(\"TypeInjured\",\"injured_type_hebrew\");\r\n  dict[\"TypeInjured\"].vals[\" \"] = new GroupBy2Val(\"pedestrian\", \"#82CA9D\")\r\n  dict[\"TypeInjured\"].vals[\" - \"] = new GroupBy2Val(\"cyclist-d\", \"#559E54\")\r\n  dict[\"TypeInjured\"].vals[\" -  ( )\"] = new GroupBy2Val(\"cyclist-p\", \"#559E54\")\r\n  dict[\"TypeInjured\"].vals[\" -   \"] = new GroupBy2Val(\"inj-unknown-d\", \"#305A30\")\r\n  dict[\"TypeInjured\"].vals[\" -   \"] = new GroupBy2Val(\"inj-unknown-p\", \"#305A30\")\r\n  dict[\"TypeInjured\"].vals[\" - \"] = new GroupBy2Val(\"motorcycle-d\", \"#1258DC\")\r\n  dict[\"TypeInjured\"].vals[\" -  ( )\"] = new GroupBy2Val(\"motorcycle-p\", \"#1258DC\")\r\n  dict[\"TypeInjured\"].vals[\" -   4  \"] = new GroupBy2Val(\"wheels4+-d\", \"#0A337F\")\r\n  dict[\"TypeInjured\"].vals[\" -   4  \"] = new GroupBy2Val(\"wheels4+-p\", \"#0A337F\")\r\n}\r\n\r\n\r\n","import * as $ from 'jquery';\r\n\r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n\r\n}\r\nexport const getAll= (collback: (arrPoints: any[]) => void) => {\r\n  //\"http://localhost:5000/api/v1/accident\"\r\n  var settings = {\r\n    \"url\": \"/api/v1/accident\",\r\n    \"method\": \"GET\",\r\n    \"headers\": {}\r\n  }\r\n  $.ajax(settings).done(function (response: any) {\r\n    //console.log(response)\r\n    collback(response);\r\n  });\r\n}\r\n\r\n    //send request using jsonp and post body - return arry of points\r\n  export const  postGroupby= (filter: string, collback: (arrPoints: any[]) => void) => {\r\n      //\"http://localhost:5000/api/v1/accident/agg\"\r\n      var settings = {\r\n        \"url\": \"/api/v1/accident/agg\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        \"processData\": false,\r\n        \"data\": filter\r\n      }\r\n      $.ajax(settings).done(function (response: any[]) {\r\n        collback(response);\r\n      });\r\n    }\r\n//send request using jsonp and post body - return arry of points\r\nexport const postFilter = (filter: string, collback: (arrPoints: any[]) => void) =>{\r\n  //\"http://localhost:5000/api/v1/accident\"\r\n  var settings = {\r\n    \"url\": \"/api/v1/accident\",\r\n    \"method\": \"POST\",\r\n    \"headers\": {\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"processData\": false,\r\n    \"data\": filter\r\n  }\r\n\r\n  $.ajax(settings).done(function (response: any[]) {\r\n    collback(response);\r\n  });\r\n}\r\nexport const fetchFilter = async (filter: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident\"\r\n  const response = await fetch(url, {\r\n    method: 'POST', \r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter \r\n  });\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\nexport const fetchGroupBy = async (filter: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident/agg\"\r\n  const response = await fetch(url, {\r\n    method: 'POST', \r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter \r\n  });\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","import { observable, action, reaction } from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport IFilterChecker from './FilterChecker'\r\nimport * as FC from './FilterChecker'\r\nimport * as GroupBy from './GroupBy'\r\nimport { fetchFilter, fetchGroupBy } from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import autorun  from \"mobx\"\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    FC.initInjurySeverity(this.injurySeverity)\r\n    FC.initDayNight(this.dayNight)\r\n    FC.initInjTypes(this.injTypes);\r\n    FC.initGenderTypes(this.genderTypes);\r\n    FC.initAgeTypes(this.ageTypes)\r\n    FC.initPopulationTypes(this.populationTypes)\r\n    FC.initAccidentType(this.accidentType)\r\n    FC.initVehicleTypes(this.vehicleType)\r\n    FC.initRoadTypes(this.roadTypes);\r\n    FC.initSpeedLimit(this.speedLimit)\r\n    FC.initRoadWidth(this.roadWidth);\r\n    FC.initSeparator(this.separator);\r\n    FC.initOneLane(this.oneLane);\r\n    GroupBy.initGroupByDict(this.groupByDict);\r\n    GroupBy.initGroup2Dict (this.group2Dict)\r\n    this.groupBy = this.groupByDict[\"TypeInjured\"];\r\n    this.groupBy2 = this.group2Dict[\"Gender\"];\r\n    this.appInitialized = false;\r\n  }\r\n  @observable\r\n  injurySeverity: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjurySeverity = (aType: number, val: boolean) => {\r\n    this.injurySeverity[aType].checked = val;\r\n  }\r\n//////////////////////////////////////////////\r\n  \r\n\r\n  // this belong to root store\r\n  @observable\r\n  language: string = \"he\"\r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang;\r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.08, 34.83)\r\n  @observable\r\n  isReadyToRenderMap: boolean = false;\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //where\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  isMultipleCities: boolean = false;\r\n  @observable\r\n  cities: string[] = [];\r\n  @action\r\n  updateCities = (names: string[]) => {\r\n    this.cities = names;\r\n    if (this.cities.length === 0) {\r\n      this.streets = [];\r\n    }\r\n  }\r\n  @observable\r\n  cityResult: string = \"\";\r\n\r\n  @observable\r\n  streets: string[] = [];\r\n  @action\r\n  updateStreets = (names: string) => {\r\n    this.streets = names.split(',');\r\n  }\r\n  @observable\r\n  roadSegment: string[] = [];\r\n  @action\r\n  updateRoadSegment = (names: string) => {\r\n    this.roadSegment = names.split(',');\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //when\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n  @observable\r\n  dayNight: Array<IFilterChecker> = [];\r\n  @action\r\n  updateDayNight = (aType: number, val: boolean) => {\r\n    this.dayNight[aType].checked = val;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // who\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  @observable\r\n  genderTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.genderTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  ageTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateAgeType = (aType: number, val: boolean) => {\r\n    this.ageTypes[aType].checked = val;\r\n  }\r\n  @observable\r\n  populationTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updatePopulationType = (aType: number, val: boolean) => {\r\n    this.populationTypes[aType].checked = val;\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    if (aType === 0) {\r\n      this.injTypes[0].checked = val;\r\n      this.injTypes[1].checked = !val;\r\n      this.injTypes[2].checked = !val;\r\n      this.injTypes[3].checked = !val;\r\n      this.injTypes[4].checked = !val;\r\n      this.injTypes[5].checked = !val;\r\n    }\r\n    else {\r\n      this.injTypes[0].checked = false;\r\n      this.injTypes[aType].checked = val;\r\n    }\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  @observable\r\n  accidentType: Array<IFilterChecker> = [];\r\n  @action\r\n  updateAccidentType = (aType: number, val: boolean) => {\r\n    this.accidentType[aType].checked = val;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What Vehicle\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  vehicleType: Array<IFilterChecker> = [];\r\n  @action\r\n  updateVehicleType = (aType: number, val: boolean) => {\r\n    this.vehicleType[aType].checked = val;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What Road\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  roadTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.roadTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  speedLimit: Array<IFilterChecker> = [];\r\n  @action\r\n  updateSpeedLimit = (aType: number, val: boolean) => {\r\n    this.speedLimit[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  roadWidth: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadWidth = (aType: number, val: boolean) => {\r\n    this.roadWidth[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  separator: Array<IFilterChecker> = [];\r\n  @action\r\n  updateSeparator = (aType: number, val: boolean) => {\r\n    this.separator[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  oneLane: Array<IFilterChecker> = [];\r\n  @action\r\n  updateOneLane = (aType: number, val: boolean) => {\r\n    this.oneLane[aType].checked = val;\r\n  }\r\n\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // data\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  markers: any[] = []\r\n  @observable\r\n  dataByYears: any[] = []\r\n  @observable\r\n  dataFilterdByYears: any[] = []\r\n  @observable\r\n  dataFilterd: any[] = []\r\n  @observable\r\n  dataGroupby2: any[] = []\r\n\r\n  @observable\r\n  isLoading: boolean = false;\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // group by\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  groupBy: GroupBy.default;\r\n  @action\r\n  updateGroupby = (key: string) => {\r\n    this.groupBy = this.groupByDict[key];\r\n    this.submitfilterdGroup(this.groupBy)\r\n    this.submitfilterdGroup2(this.groupBy, this.groupBy2.name);\r\n  }\r\n  @observable\r\n  groupByDict: any = {}\r\n\r\n  @action\r\n  submitGroupByYears = () => {\r\n    let filtermatch = this.getfilterForCityOnly();\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroupByYears = () => {\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterdByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroup = (aGroupBy: GroupBy.default) => {\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupBy(filtermatch, aGroupBy.value, \"\", aGroupBy.limit);\r\n    console.log(filter)\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterd = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroup2 = (aGroupBy: GroupBy.default, groupName2: string) => {\r\n    let filtermatch = this.getFilter();\r\n    let filter = this.getFilterGroupBy(filtermatch, aGroupBy.value, groupName2, aGroupBy.limit);\r\n    //console.log(filter)\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n        {\r\n          let fixData = this.groupBy2.fixStrcutTable(data)\r\n          //let fixData = this.fixStrcutTable(data)\r\n          this.dataGroupby2 = fixData;\r\n        }\r\n      })\r\n  }\r\n  @observable\r\n  groupBy2 :GroupBy.GroupBy2;\r\n  @action\r\n  updateGroupBy2 =(key:string) =>{\r\n    this.groupBy2 = this.group2Dict[key]\r\n    this.submitfilterdGroup2(this.groupBy, this.groupBy2.name);\r\n  }\r\n  @observable\r\n  group2Dict: any = {}\r\n\r\n\r\n  getFilterGroupBy = (filterMatch: string, groupName: string, groupName2: string = \"\", limit: number = 0) => {\r\n    let filter = \"[\"\r\n      + '{\"$match\": ' + filterMatch + '}';\r\n    if (groupName2 === \"\")\r\n      filter += ',{\"$group\": { \"_id\": \"$' + groupName + '\", \"count\": { \"$sum\": 1 }}}';\r\n    else {\r\n      filter +=', { \"$match\" : { \"'+groupName2+'\" : { \"$exists\" : true, \"$ne\" : null}}}'\r\n      let grpids = '{ \"grp1\": \"$' + groupName + '\", \"grp2\": \"$' + groupName2 + '\"}'\r\n      filter += ',{\"$group\": { \"_id\":' + grpids + ', \"count\": { \"$sum\": 1 }}}';\r\n      filter += ',{\"$group\": { \"_id\": \"$_id.grp1\" , \"count\": { \"$push\": {\"grp2\" : \"$_id.grp2\",\"count\" : \"$count\" } }}}';\r\n    }\r\n    if (limit === 0)\r\n      filter += ',{\"$sort\": {\"_id\": 1}}'\r\n    else {\r\n      filter += ',{\"$sort\": {\"count\": -1}}'\r\n        + ',{\"$limit\": ' + limit + '}'\r\n    }\r\n    filter += ']'\r\n    return filter;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // filter actions\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @action\r\n  submitFilter = () => {\r\n    this.isLoading = true;\r\n    let filter = this.getFilter();\r\n    console.log(filter)\r\n    if (this.cities.length >= 1) {\r\n      let city = this.cities[0];\r\n      var srvCity = new CityService();\r\n      srvCity.getCityByNameHe(city, this.updateLocation);\r\n    }\r\n    fetchFilter(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.markers = data;\r\n        }\r\n        this.isLoading = false;\r\n        if (this.cities.length >= 1)\r\n          this.cityResult = this.cities[0];\r\n        else\r\n          this.cityResult = \"\";\r\n      })\r\n    this.submitGroupByYears();\r\n    this.submitfilterdGroupByYears();\r\n    this.submitfilterdGroup(this.groupBy);\r\n    this.submitfilterdGroup2(this.groupBy,  this.groupBy2.name);\r\n  }\r\n  getFilter = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : \"${this.startYear}\",\"$lte\": \"${this.endYear}\"}}`;\r\n    filter += this.getMultiplefilter(\"injury_severity_hebrew\", this.injurySeverity);\r\n    filter += this.getfilterCity();\r\n    filter += this.getMultiplefilter(\"day_night_hebrew\", this.dayNight);\r\n    filter += this.getFilterStreets();\r\n    filter += this.getFilterFromArray(this.roadSegment, \"road_segment_name\");\r\n    filter += this.getfilterInjured();\r\n    filter += this.getMultiplefilter(\"sex_hebrew\", this.genderTypes);\r\n    filter += this.getMultiplefilter(\"age_group_hebrew\", this.ageTypes);\r\n    filter += this.getMultiplefilter(\"population_type_hebrew\", this.populationTypes);\r\n    filter += this.getMultiplefilter(\"accident_type_hebrew\", this.accidentType);\r\n    filter += this.getMultiplefilter(\"vehicle_vehicle_type_hebrew\", this.vehicleType);\r\n    filter += this.getMultiplefilter(\"road_type_hebrew\", this.roadTypes);\r\n    filter += this.getMultiplefilter(\"speed_limit_hebrew\",this.speedLimit);\r\n    filter += this.getMultiplefilter(\"road_width_hebrew\",this.roadWidth);\r\n    filter += this.getMultiplefilter(\"multi_lane_hebrew\",this.separator);\r\n    filter += this.getMultiplefilter(\"one_lane_hebrew\",this.oneLane);\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n\r\n  getfilterForCityOnly = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":{\"$gte\":\"2015\"}}`;\r\n    filter += this.getfilterCity();\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n  getfilterCity = () => {\r\n    let filter: string = '';\r\n    if (this.cities.length > 0) {\r\n      filter += `,{\"$or\": [`\r\n      filter += this.cities.map((x: string) => `{\"accident_yishuv_name\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getFilterStreets = () => {\r\n    let filter: string = '';\r\n    if (this.streets.length > 0 && this.streets[0] !== \"\") {\r\n      filter += `,{\"$or\": [`\r\n      filter += this.streets.map((x: string) => `{\"street1_hebrew\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `,`\r\n      filter += this.streets.map((x: string) => `{\"street2_hebrew\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getFilterFromArray = (arr: string[], filterName: string) => {\r\n    let filter: string = '';\r\n    if (arr.length > 0 && arr[0] !== \"\") {\r\n      filter += `,{\"$or\": [`\r\n      filter += arr.map((x: string) => `{\"${filterName}\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n\r\n  getMultiplefilter = (filterKey: string, arr: Array<IFilterChecker>) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = arr.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => {\r\n        if (x === \"null\")\r\n          return `{\"${filterKey}\":` + null + '}'\r\n        else\r\n          {\r\n            let xSafe = x.replace('\"', '\\\\\"')\r\n            return `{\"${filterKey}\" : \"${xSafe}\"}`\r\n          }\r\n         \r\n      }\r\n      ).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getfilterInjured = () => {\r\n    let filter: string = '';\r\n    if (this.injTypes[0].checked)\r\n      filter = '';\r\n    else {\r\n      let arrfilter: string[] = [];\r\n      const iterator = this.injTypes.values();\r\n      for (const injType of iterator) {\r\n        if (injType.checked) {\r\n          arrfilter = [...arrfilter, ...injType.filters]\r\n        }\r\n      }\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"injured_type_hebrew\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateLocation = (res: any[]) => {\r\n    if (res !== null && res.length > 0) {\r\n      let city = res[0];\r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat, city.lon);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n// @ts-ignore\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\nexport const CitySelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}:</Form.Label>\r\n            <Typeahead\r\n                id=\"typeaheadCity\"\r\n                //defaultSelected={[store.city]}\r\n                onChange={(selected: string[]) => {\r\n                    store.updateCities(selected); \r\n                }}\r\n                options={citisNamesHeb}\r\n                multiple= {isMultiple}\r\n                selected={store.cities}\r\n                placeholder={t('ChooseCity')}\r\n            />\r\n        </Form.Group>\r\n    )\r\n})","\r\nimport React, {ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\nexport const StreetSelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    if (store.cities.length >0){\r\n        return (\r\n            <Form.Group controlId=\"exampleForm.ControlStreet\">\r\n                <Form.Label className=\"filterLable\">{t('Street')}:</Form.Label>\r\n                <Form.Control type=\"input\" placeholder=\"\" value={store.streets.toString()} onChange={(e:ChangeEvent<HTMLInputElement>) => {store.updateStreets(e.target.value);}}/>\r\n            </Form.Group>\r\n       \r\n        )\r\n    }\r\n    else return null;\r\n})","\r\nimport React, {ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\n\r\nexport const RoadSegmentSelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const {cities, roadSegment, updateRoadSegment} = store;\r\n    if (cities.length === 0){\r\n        return (\r\n            <Form.Group controlId=\"exampleForm.ControlRoadSegment\">\r\n                <Form.Label className=\"filterLable\">{t('RoadSegment')}:</Form.Label>\r\n                <Form.Control type=\"input\" placeholder=\"\" value={roadSegment.toString()} onChange={(e:ChangeEvent<HTMLInputElement>) => {updateRoadSegment(e.target.value);}}/>\r\n            </Form.Group>\r\n       \r\n        )\r\n    }\r\n    else return null;\r\n})","\r\nimport React,{ ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\ninterface IProps {\r\n    label: string,\r\n    group: string,\r\n    id:number,\r\n    checked: boolean,\r\n    onChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n  }\r\nexport const Checkbox: React.FC<IProps> = ({group,label,id,checked,onChange}) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Check inline label={t(label)} type={'checkbox'} id={`cbox`+group+id} checked={checked} onChange={onChange} />\r\n    )\r\n}","\r\nimport React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { Checkbox } from '../atoms/Checkbox';\r\nimport { IFilterChecker } from '../../stores/FilterChecker'\r\n\r\ninterface IProps {\r\n  formName: string,\r\n  groupName: string,\r\n  dataArr: Array<IFilterChecker>,\r\n  onChange: (aType: number, val: boolean) => void\r\n}\r\n\r\nexport const GroupCheckbox: React.FC<IProps> = observer(({ formName, groupName, dataArr, onChange }) => {\r\n  const { t } = useTranslation();\r\n  //const store = useStore();\r\n  return (\r\n    <Form.Group controlId={formName + \".Control\" + groupName} >\r\n      <Form.Label className=\"filterLable\">{t(groupName)}:</Form.Label>\r\n      {dataArr.map((fChecker, index) => (\r\n        <Checkbox key={index} label={fChecker.label} group={groupName} id={index} checked={fChecker.checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { onChange(index, e.target.checked); }} />\r\n      ))}\r\n    </Form.Group>\r\n  )\r\n})","import React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport { CitySelector } from '../molecules/CitySelector';\r\nimport { StreetSelector } from '../molecules/StreetSelector'\r\nimport { RoadSegmentSelector } from '../molecules/RoadSegmentSelector'\r\nimport { GroupCheckbox } from '../molecules/GroupCheckBox';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\ninterface IProps {\r\n  activeCardKey: number\r\n}\r\n\r\nexport const FilterRequest: React.FC<IProps> = observer(({ activeCardKey = 0 }) => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const {startYear, EndYear, City} = store;\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey={activeCardKey.toString()}>\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n        <CardFilterWhat />\r\n        <CardFilterWhatVehicle />\r\n        <CardFilterWhatRoad />\r\n      </Accordion>\r\n      <GroupCheckbox formName=\"exampleForm\" groupName='Severity' dataArr={store.injurySeverity} onChange={store.updateInjurySeverity} />\r\n      <Button variant=\"primary\"\r\n        disabled={store.isLoading}\r\n        onClick={() => { store.submitFilter(); }} >{store.isLoading ? t('Loading') : t('Submit')} </Button>\r\n      {/* <Button variant=\"primary\"\r\n        onClick={() => {  store.submitGroupByYears(); }} >group by</Button> */}\r\n    </Form>\r\n  );\r\n})\r\nconst CardFilterWhen = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n          {t('When')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <div>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n                <Form.Label className=\"filterLable\"> {t('FromYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n                <Form.Label className=\"filterLable\"> {t('ToYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <GroupCheckbox formName=\"exampleForm\" groupName='DayNight' dataArr={store.dayNight} onChange={store.updateDayNight} />\r\n          </div>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n          {t('Where')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n          <CitySelector isMultiple={store.isMultipleCities} />\r\n          <StreetSelector />\r\n          <RoadSegmentSelector />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='RoadType' dataArr={store.roadTypes} onChange={store.updateRoadType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n          {t('Who')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Vehicle' dataArr={store.injTypes} onChange={store.updateInjuerdType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Gender' dataArr={store.genderTypes} onChange={store.updateGenderType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Age' dataArr={store.ageTypes} onChange={store.updateAgeType} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Population' dataArr={store.populationTypes} onChange={store.updatePopulationType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhat = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\r\n          {t('What')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"3\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='AccidentType' dataArr={store.accidentType} onChange={store.updateAccidentType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n\r\nconst CardFilterWhatVehicle = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\">\r\n          {t('WhatVehicle')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"4\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='VehicleType' dataArr={store.vehicleType} onChange={store.updateVehicleType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhatRoad = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\">\r\n          {t('WhatRoad')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"5\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='SpeedLimit' dataArr={store.speedLimit} onChange={store.updateSpeedLimit} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='RoadWidth' dataArr={store.roadWidth} onChange={store.updateRoadWidth} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='Separator' dataArr={store.separator} onChange={store.updateSeparator} />\r\n          <GroupCheckbox formName=\"exampleForm\" groupName='OneLane' dataArr={store.oneLane} onChange={store.updateOneLane} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\ninterface IProps {\r\n    activeCardKey?:number \r\n  }\r\n\r\nexport const FilterPanel:React.FC<IProps>=  ({activeCardKey=0}) => {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest activeCardKey={activeCardKey}/>\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport L from 'leaflet'\r\nimport { Marker, Popup } from 'react-leaflet'\r\n\r\nimport 'leaflet-css'\r\nimport redMarker from '../../assets/marker-icon-2x-red.png'\r\nimport orangeMarker from '../../assets/marker-icon-2x-orange2.png'\r\nimport shadoMarker from '../../assets/marker-shadow.png'\r\nimport { toJS } from 'mobx'\r\n\r\nconst lIconSizes = {iconSize:[25, 41], iconAnchor:[12, 41],popupAnchor:[1, -34], shadowSize:[41, 41]} \r\nconst mIconSizes = {iconSize:[19, 31], iconAnchor:[9, 31],popupAnchor:[1, -25], shadowSize:[31, 31]} \r\nconst iconSize= lIconSizes;\r\n\r\nconst redIcon = new L.Icon({\r\n    iconUrl: redMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: L.point(iconSize.iconSize[0],iconSize.iconSize[1]),\r\n    iconAnchor: L.point(iconSize.iconAnchor[0],iconSize.iconAnchor[1]),\r\n    popupAnchor: L.point(iconSize.popupAnchor[0],iconSize.popupAnchor[1]),\r\n    shadowSize:  L.point(iconSize.shadowSize[0],iconSize.shadowSize[1]),\r\n});\r\n\r\nconst orangeIcon = new L.Icon({\r\n    iconUrl: orangeMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: L.point(iconSize.iconSize[0],iconSize.iconSize[1]),\r\n    iconAnchor: L.point(iconSize.iconAnchor[0],iconSize.iconAnchor[1]),\r\n    popupAnchor: L.point(iconSize.popupAnchor[0],iconSize.popupAnchor[1]),\r\n    shadowSize:  L.point(iconSize.shadowSize[0],iconSize.shadowSize[1]),\r\n});\r\n\r\n\r\nconst AccidentsMarkers = observer(() => {\r\n    const pStyle= {\r\n        color:\"#004ba0\"\r\n       };\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const reactMarkers = toJS(store.markers);\r\n    //console.log(reactMarkers);\r\n    const markersArr = reactMarkers.map((x) => {\r\n        if (x.latitude !== null && x.longitude !== null) {\r\n            let lPoint: L.LatLng = new L.LatLng(x.latitude, x.longitude);\r\n            return (<Marker key={`marker-${x._id}`} position={lPoint} icon={x.injury_severity_hebrew===\"\"? redIcon : orangeIcon}>\r\n                {<Popup>\r\n                    <div className={'text'+store.language}> \r\n                        <div><span style={pStyle}>{t('When')}:</span> {x.accident_timestamp}, {x.day_in_week_hebrew}, {x.day_night_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Who')}:</span> {x.injured_type_hebrew}, {x.injury_severity_hebrew}, {x.vehicle_vehicle_type_hebrew? x.vehicle_vehicle_type_hebrew +\", \": \"\"} {x.sex_hebrew}, {x.age_group_hebrew}, {x.population_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Where')}:</span> {x.accident_yishuv_name?x.accident_yishuv_name+\", \":\"\"}{x.street1_hebrew?x.street1_hebrew+\", \":\"\"}{x.street2_hebrew?x.street2_hebrew+\", \":\"\"}{x.road_segment_name?x.road_segment_name+\", \":\"\"}{x.road_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('What')}:</span> {x.accident_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('WhatRoad')}:</span> {x.speed_limit_hebrew?x.speed_limit_hebrew+\", \":\"\"}{x.multi_lane_hebrew?x.multi_lane_hebrew+\", \":\"\"}{x.one_lane_hebrew?x.one_lane_hebrew+\", \":\"\"}{x.road_width_hebrew?x.road_width_hebrew+\", \":\"\"}</div>\r\n                    </div>\r\n                </Popup>}\r\n            </Marker>)\r\n        }\r\n        else { return null }\r\n    })\r\n    if (reactMarkers.length > 0) {\r\n        return (\r\n            <div>\r\n                {markersArr}\r\n            </div>\r\n        )\r\n    }\r\n    else { return null }\r\n})\r\nexport default AccidentsMarkers","import React, { FunctionComponent, useRef ,useEffect} from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n\r\n//import L from 'leaflet'\r\nimport { Map, TileLayer } from 'react-leaflet'\r\nimport AccidentsMarkers from '../molecules/AccidentsMarkers'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport 'leaflet-css'\r\n\r\ninterface IProps {}\r\nconst MapAccidents: FunctionComponent<IProps> = observer(() => {\r\n  const mapRef = useRef<any>();\r\n  const store = useStore();\r\n  const reactMapCenter = toJS(store.mapCenter);\r\n  const WRAPPER_STYLES = { height: '80vh', width: '100vw', maxWidth: '100%' };\r\n  const didMountRef = useRef(false) \r\n  useEffect(() => {\r\n    if (didMountRef.current) { \r\n      if (mapRef.current) {\r\n        //mapRef.current  = true - like componentDidUpdate\r\n        //invalidateSize - leaflet map rendered has a bug parent tab not active\r\n        //this event is fierd when parent tab is shown - help render map \r\n        mapRef.current.leafletElement.invalidateSize(false);\r\n      }\r\n    } \r\n    else didMountRef.current = true\r\n  })\r\n  return (\r\n    <div>\r\n        <Map ref={mapRef}\r\n          center={reactMapCenter}\r\n          zoom={13}\r\n          style={WRAPPER_STYLES}\r\n        >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <AccidentsMarkers />\r\n        </Map>\r\n        {store.isReadyToRenderMap?\"\":\"\"}\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\nexport default MapAccidents\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface IProps {\r\n    length:number,\r\n    name?: string\r\n  }\r\nexport const CasualtiesSumLabel: React.FC<IProps> = ({length,name}) => {\r\n    const { t } = useTranslation();\r\n    const nameSpan = name ? name +\"- \" : \"\" \r\n    if (length > 0) {\r\n        return (\r\n        <h4>{nameSpan}{t('Found')} {length} {t('Casualties')} </h4>\r\n        )\r\n    }\r\n    else return (\r\n        <h4>{t('NoResultsFound')}</h4>\r\n    )\r\n}\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\nimport {CasualtiesSumLabel} from '../atoms/CasualtiesSumLabel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.markers)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: t('Year'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_yishuv_name',\r\n        text: t('City'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'street1_hebrew',\r\n        text: t('Street'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injury_severity_hebrew',\r\n        text: t('Severity'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew',\r\n        text: t('TypeInjured'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'vehicle_vehicle_type_hebrew',\r\n        text: t('Vehicle'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_type_hebrew',\r\n        text: t('AccidentType'),\r\n        sort: true\r\n    }, {   \r\n        dataField: 'age_group_hebrew',\r\n        text: t('Age'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: t('Gender'),\r\n        sort: true\r\n    }];\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return (  \r\n        <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/> \r\n    );\r\n})\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps {\r\n    title?: string,\r\n    styleType?: number\r\n    width?:number\r\n}\r\nexport const SmallCard: React.FC<IProps> = ({ title, styleType=0,width=0,children }) => {\r\n    const style:any = [\r\n        { width: '15rem'}\r\n        ,{ width: '19rem'}\r\n        ,{ width: '25rem'}\r\n        ,{ width: '40rem'}\r\n    ];\r\n    const stylebody = {\r\n        padding: \"0.2rem\"\r\n    }\r\n    let aHeder = title ? <Card.Header>{title}</Card.Header> : \"\";\r\n    let aStyle= style[styleType];\r\n    if (width >0)\r\n        aStyle = {\"width\": width}\r\n    return (\r\n        <Card style={aStyle}>\r\n            <Card.Body style={stylebody}>\r\n                {aHeder}\r\n                {children}\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import React, { ChangeEvent, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps { id:string }\r\n\r\nexport const SelectGroupBy: React.FC<IProps> = observer(({id}) => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const {groupByDict, groupBy, updateGroupby} = store;\r\n    const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n        updateGroupby(event.target.value)\r\n      }, [updateGroupby]);\r\n      \r\n    return (\r\n        <Form className=\"form-inline\">\r\n            <Form.Group controlId={`GrupForm.${id}.SelectGroupBy`}>\r\n                <Form.Label className=\"filterLable\"> {t('GroupBy')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={groupBy.text} value={groupBy.text}\r\n                    onChange={onSelectChange}\r\n                    >\r\n                    { Object.entries(groupByDict).map(([key,x]:any[])=>{\r\n                         return (<option value={x.text} key={key}>{t(x.text)}</option>)\r\n                    })}\r\n                </Form.Control>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n\r\n})\r\n","import React, { ChangeEvent, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps { id:string}\r\n\r\nexport const SelectGroupBy2: React.FC<IProps> = observer(({id}) => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const {group2Dict, groupBy2, updateGroupBy2} = store;\r\n    const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n        updateGroupBy2(event.target.value)\r\n      }, [updateGroupBy2]);  \r\n    return (\r\n        <Form className=\"form-inline\">\r\n            <Form.Group controlId={`GrupForm.${id}.SelectGroupBy2`}>\r\n                {/* <Form.Label className=\"filterLable\"> {t('GroupBy')}:</Form.Label> */}\r\n                <Form.Control as=\"select\" defaultValue={groupBy2.text}  value={groupBy2.text}\r\n                    onChange={onSelectChange}\r\n                    >\r\n                    { Object.entries(group2Dict).map(([key,x]:any[])=>{\r\n                         return (<option value={x.text} key={key}>{t(x.text)}</option>)\r\n                    })}\r\n                </Form.Control>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n\r\n})\r\n","\r\nimport React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Form from 'react-bootstrap/Form';\r\n\r\ninterface IProps {\r\n    label: string,\r\n    id: string,\r\n    onChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n}\r\nexport const RangeSlider: React.FC<IProps> = ({ label, id, onChange }) => {\r\n    const style = {\r\n        paddingLeft: \"10px\",\r\n        paddingRight: \"10px\",\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n        <div >\r\n            <Form className=\"form-inline\" >\r\n                <Form.Group controlId={\"Range.\"+id}>\r\n                <Form.Label style={style}>{t(label)}: </Form.Label>\r\n                <Form.Control type=\"range\" onChange={onChange}/>\r\n                </Form.Group>\r\n            </Form>\r\n        </div>\r\n    )\r\n\r\n}","import React from 'react';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n} from 'recharts';\r\nimport { observer } from \"mobx-react\"\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// const data = [\r\n//   { name: 'Page A', uv: 4000, pv: 2400, amt: 2400,},\r\n//   { name: 'Page B', uv: 3000, pv: 1398, amt: 2210,},\r\n//   { name: 'Page C', uv: 2000, pv: 9800, amt: 2290,},\r\n// ];\r\n\r\ninterface IProps {\r\n  data :ReadonlyArray<object>\r\n  bars ?: any \r\n  width? : number\r\n  height? : number\r\n}\r\n\r\nconst MyBarChart:React.FC<IProps>=  observer(({data,bars, width=400, height=300}) => {\r\n  const { t } = useTranslation();\r\n  let colName = t('Casualties')\r\n  if (bars === undefined){\r\n    bars = <Bar dataKey=\"count\" name={colName} fill=\"#8884d8\" />\r\n  }\r\n  else\r\n  {\r\n    bars = bars.map((x:any)=>{\r\n      let aName = t(x.key)\r\n      return(<Bar dataKey={x.key} name={aName} fill={x.color}/>)\r\n    })\r\n  }\r\n  return (\r\n    <div style={{direction: \"ltr\"}}>\r\n    <BarChart\r\n      width={width}\r\n      height={height}\r\n      data={data}\r\n      margin={{\r\n        top: 5, right: 5, left: 5, bottom: 5,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      <XAxis dataKey=\"_id\" />\r\n      <YAxis />\r\n      <Tooltip />\r\n      <Legend />\r\n      {bars}\r\n      {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\r\n    </BarChart>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default MyBarChart\r\n","import React ,{useState, ChangeEvent}from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\nimport { SelectGroupBy2 } from '../atoms/SelectGroupBy2'\r\nimport {RangeSlider} from '../atoms/RangeSlider'\r\nimport MyBarChart from '../molecules/MyBarChart'\r\n\r\ninterface IProps { }\r\n\r\nexport const GroupByGraphsPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const [graphSize, setGraphSize] = useState(500);\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    const onSizeSliderChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n        let size:number = parseInt(event.target.value)\r\n        switch(true) {\r\n            case (size <= 25):\r\n                size= 300;\r\n                break;\r\n            case (size <= 50):\r\n                size= 500;\r\n              break;\r\n            case (size <= 70):\r\n                size= 600;\r\n              break;\r\n            case (size <= 80):\r\n                size= 700;\r\n              break;\r\n            case (size <= 100):\r\n                size= 900;\r\n              break;\r\n            default:\r\n                size= 500;\r\n          }\r\n        setGraphSize(size) \r\n      };  \r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    let barsGrp2 = store.groupBy2.getBars();\r\n    let reactDataGrp2 = toJS(store.dataGroupby2)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard styleType={2} title={t('CasualtiesByFilter')}>\r\n                    <MyBarChart data={reactData2} />\r\n                </SmallCard>\r\n                <SmallCard styleType={3}>\r\n                    <SelectGroupBy id=\"Graphs.Main\"/>\r\n                    <MyBarChart data={reactData3} width={600} height={300}></MyBarChart>\r\n                </SmallCard>\r\n                <SmallCard styleType={3} width={graphSize+150}>\r\n                    <div className=\"row\"> \r\n                        <SelectGroupBy id=\"Graphs.Grp2\"/>\r\n                        <SelectGroupBy2 id=\"Graphs\"/>\r\n                        <RangeSlider id=\"Graphs\" label=\"resize\" onChange={onSizeSliderChange}/>\r\n                    </div>\r\n                    <MyBarChart data={reactDataGrp2} bars={barsGrp2} width={graphSize} height={graphSize*0.62}></MyBarChart>\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\n\r\ninterface IProps {\r\n    dataName?:string\r\n    columns? :any[]\r\n  }\r\nexport const GroupByTable:React.FC<IProps> = observer(({dataName='Year', columns ,children}) => {\r\n    const { t } = useTranslation();\r\n    if (columns === undefined)\r\n    {\r\n        columns = [{\r\n            dataField: '_id',\r\n            text: t(dataName),\r\n        }, {\r\n            dataField: 'count',\r\n            text: t('Casualties'),\r\n        }];\r\n    }\r\n    if (children!= null ){\r\n        return (<div className=\"groupByTable\">\r\n            <BootstrapTable keyField='_id' data={children} columns={columns} headerClasses=\"table-header\" />\r\n            </div>\r\n            )\r\n    }\r\n    else return null;\r\n})","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { GroupByTable } from '../molecules/GroupByTable'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\nimport { SelectGroupBy2 } from '../atoms/SelectGroupBy2'\r\n\r\ninterface IProps { }\r\n\r\nexport const GroupByTablesPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    let columnsGrp2 = store.groupBy2.getColumns().map((x) => { return ({ dataField: x, text: t(x) }) })\r\n    let reactDataGrp2 = toJS(store.dataGroupby2)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard title={t('AllCasualtiesInRegion')}>\r\n                    <GroupByTable>{reactData1}</GroupByTable>\r\n                </SmallCard>\r\n                <SmallCard title={t('CasualtiesByFilter')}>\r\n                    <GroupByTable>{reactData2}</GroupByTable>\r\n                </SmallCard>\r\n                <SmallCard styleType={1}>\r\n                    <SelectGroupBy id=\"Tables.Main\"/>\r\n                    <GroupByTable dataName={store.groupBy.text}>{reactData3}</GroupByTable>\r\n                </SmallCard>\r\n                <SmallCard styleType={2}>\r\n                    <div className=\"row\">\r\n                        <SelectGroupBy  id=\"Tables.Grp2\"/>\r\n                        <SelectGroupBy2 id=\"Tables\"/></div>\r\n                    <GroupByTable dataName={store.groupBy.text} columns={columnsGrp2}>{reactDataGrp2}</GroupByTable>\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { GroupByGraphsPanel } from '../organisms/GroupByGraphsPanel'\r\nimport { GroupByTablesPanel } from '../organisms/GroupByTablesPanel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { \r\n    defaultKey? :string\r\n}\r\n\r\nexport const TabsTemplate: React.FC<IProps> = observer(({defaultKey=\"charts\"}) => {\r\n    const style = {\r\n        marginTop: \"20px\"\r\n    }\r\n    const { t } = useTranslation();\r\n    const [activeKey] = useState(defaultKey);\r\n    const store = useStore();\r\n    return (\r\n        <Tabs defaultActiveKey={activeKey} id=\"main-tabs\"\r\n            onSelect={(activeKey: any) => {\r\n                if (activeKey === \"map\") {\r\n                    //map is renderd only when tab is shown to prevent leaflet bug\r\n                    store.isReadyToRenderMap = true;\r\n                }\r\n            }}\r\n        >\r\n            <Tab style={style} eventKey=\"charts\" title={t(\"Charts\")}>\r\n                <GroupByGraphsPanel />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"grouptables\" title={t(\"Groups\")}>\r\n                <GroupByTablesPanel />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"map\" title={t(\"Map\")}>\r\n                <MapAccidents />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"table\" title={t(\"Table\")}>\r\n                <div className=\"col-auto\"><AccidentsTable /></div>\r\n            </Tab>\r\n        </Tabs>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport {TabsTemplate} from './TabsTemplate'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomeTemplate: React.FC<IProps> = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  store.isMultipleCities = true;\r\n  store.isReadyToRenderMap = false;\r\n  store.updateCities([]);\r\n  store.submitFilter();\r\n  return (\r\n    <div className=\"App\">\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row \">\r\n        <div className=\"p-2 col-md-2\"><FilterPanel /></div>\r\n        <div className=\"col-md-10\">\r\n            <h4>{t(\"Israel\")}</h4>\r\n           <TabsTemplate/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n})\r\n\r\n// const handleTabSelect= () =>{\r\n\r\n// }","import React from 'react'\r\nimport { HomeTemplate } from '../templates/HomeTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <HomeTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n//import { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport {TabsTemplate} from './TabsTemplate'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\n\r\ninterface IProps { }\r\n\r\nexport const CityTemplate: React.FC<IProps> = observer(() => {\r\n  //const { t } = useTranslation();\r\n  const store = useStore();\r\n  store.isMultipleCities = false;\r\n  const { cityResult } = store;\r\n  if (cityResult === \"\") {\r\n    let cityName = useCityNamefromQuery();\r\n    store.updateCities(cityName);\r\n    store.submitFilter();\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-2 col-md-2\"><FilterPanel activeCardKey={1}/></div>\r\n          <div className=\"col-md-10\">\r\n              <h4>{cityResult}</h4>\r\n              <TabsTemplate defaultKey=\"map\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n//get city name by query by url\r\nfunction useCityNamefromQuery() {\r\n  let query = useQuery();\r\n  let res = [\"  -\"];\r\n  let name = query.get(\"name\")\r\n  let found = false;\r\n  if (name !== null)\r\n    found = citisNamesHeb.includes(name);\r\n  if (found) {\r\n    res = [citisNamesHeb.find(element => element === name!)!];\r\n  }\r\n  return res;\r\n}\r\n// A custom hook that builds on useLocation to parse\r\n// the query string for you.\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { CityTemplate } from '../templates/CityTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const CityPage: React.FC<IProps> = () => {\r\n  return (\r\n    <CityTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\ninterface IProps { }\r\n\r\nexport const AboutPage: React.FC<IProps> = () => {\r\n  const style = {\r\n    margin: \"20px\",\r\n  };\r\n  const styleDiv = {\r\n    marginBottom: \"10px\",\r\n  };\r\n  return (\r\n    <div className=\"heb\" style={style}>\r\n      <div style={styleDiv}> Safety Data     ,      .\r\n    ,      \"    \"        .\r\n</div>\r\n      <div style={styleDiv}>\r\n               ,     ,         .\r\n</div>\r\n      <div style={styleDiv}>\r\n           \r\n</div>\r\n      <div style={styleDiv}>\r\n        <ul>\r\n          <li>     ,          .</li>\r\n          <li>               .</li>\r\n          <li>     ,       . </li>\r\n          <li>          ,        . </li>\r\n        </ul>\r\n      </div>\r\n      <div style={styleDiv}>\r\n             \" ,      <a href={'https://www.anyway.co.il'} target=\"_blank\" rel=\"noopener noreferrer\">Anyway</a>     .      <a href={'https://www.openstreetmap.org/'} target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a>.\r\n</div>\r\n\r\n      {/* <Footer /> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport {LeafletMouseEvent} from 'leaflet'\r\nimport 'leaflet-css'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\nimport {getAll} from '../../services/Accident.Service'\r\n \r\n\r\n\r\n\r\ninterface IPoint{\r\n  lat: number,\r\n  lon: number,\r\n  _id: string\r\n}\r\ninterface IState {\r\n  layerHidden?: boolean;\r\n  fitBoundsOnUpdate?: boolean;\r\n  addressPoints?: Array<IPoint>;\r\n}\r\n\r\nconst INITIAL_ZOOM = 10;\r\n\r\nexport default class HeatMap extends React.Component<{},IState> {\r\n    public state = {\r\n      layerHidden: false,\r\n      fitBoundsOnUpdate : true,\r\n      addressPoints: []\r\n    };\r\n  \r\n  componentWillMount() {\r\n/*     const { addressPoints } = this.state\r\n    geojsonPoints.data.map ((x:any)=>{return addressPoints.push( [x.latitude,x.longitude,x.accident_timestamp]) })\r\n    // {{latitude: number, longitude: number,accident_timestamp: string}}\r\n    this.setState({ addressPoints }) */\r\n    console.log(\"heatmap\")\r\n  }\r\n  getPoints =(e:object) =>{\r\n   \r\n    getAll(this.addPointsToMap);\r\n  }\r\n  addPoint = (e:LeafletMouseEvent) => {\r\n    let newPoint:any = [e.latlng.lat,e.latlng.lng,e.originalEvent.timeStamp.toString()]\r\n    if (this.state.addressPoints.length >0)\r\n    {\r\n      this.setState(prevState => ({\r\n        addressPoints: [...prevState.addressPoints, newPoint]\r\n      }))\r\n    }\r\n    // else{\r\n    //   this.setState(state => ({\r\n    //     addressPoints: [newPoint]\r\n    //   }))\r\n    // }\r\n  }\r\n  addPointsToMap=(arrPoints: any[]) =>{\r\n    let newArr:any[] = arrPoints.map (x => [x.latitude, x.longitude, x._id])\r\n    this.setState({ addressPoints: [...newArr]});\r\n  }\r\n  render() {\r\n    const WRAPPER_STYLES = { height: '400px', width: '100vw' }\r\n\r\n    return (\r\n      <div>\r\n        <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}\r\n         onClick={this.addPoint}\r\n        >\r\n        {!this.state.layerHidden &&\r\n          <HeatmapLayer\r\n            fitBoundsOnLoad\r\n            fitBoundsOnUpdate\r\n            points={this.state.addressPoints}\r\n            longitudeExtractor={(m:any) => m[1]}\r\n            latitudeExtractor={(m:any) => m[0]}\r\n            intensityExtractor={(m:any) => parseFloat(m[2])} />\r\n            }\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n        </Map>\r\n        <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n        <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button>\r\n      </div>\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport const geojsonPoints:any = {\r\n  data: [\r\n      {\r\n          \"longitude\": 34.9780568296871,\r\n          \"latitude\": 32.4543458814189,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2016-05-15 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2015-01-02 06:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.968629300414,\r\n          \"latitude\": 32.4520110942299,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2014-09-12 09:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2014-07-27 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2011-03-26 19:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2019-11-28 11:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2019-10-31 19:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9625415910224,\r\n          \"latitude\": 32.4496820631224,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2019-10-31 06:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2019-10-28 10:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"\",\r\n          \"accident_timestamp\": \"2019-06-22 12:00:00\"\r\n      }\r\n  ],\r\n};\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport {LanguageSelector} from '../molecules/LanguageSelector';\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\nexport default class Header extends React.Component <IProps> {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n      <h1 className=\"HederTitle\">\r\n        {this.props.title}\r\n      </h1>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector/>\r\n      </div>\r\n    </header> \r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/city\">{t('Cities')}</Link>\r\n          <Link to=\"/heatmap\">{t('HeatMap')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\nimport './i18n';\r\nimport './App.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { HomePage } from './components/pages/HomePage'\r\nimport {CityPage} from './components/pages/CityPage'\r\nimport {AboutPage} from './components/pages/AboutPage'\r\nimport HeatMap from './components/pages/HeatMap';\r\nimport Header from './components/templates/Headr';\r\nimport Footer from './components/templates/Footer';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex' height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <AboutPage />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n                <HeatMap />\r\n            </Route>\r\n            <Route path=\"/city\">\r\n                <CityPage />\r\n            </Route>\r\n            <Route path=\"/\">\r\n                <HomePage />\r\n            </Route>\r\n          </Switch>\r\n          </div>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}