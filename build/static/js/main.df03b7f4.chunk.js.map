{"version":3,"sources":["assets/marker-icon-2x-red.png","assets/marker-shadow.png","i18n.js","stores/FilterStore.ts","services/Accident.Service.ts","services/City.Service.ts","stores/storeConfig.ts","components/MapAccidents.tsx","components/FilterRequest.tsx","components/FilterPanel.tsx","components/AccidentsTable.tsx","components/HomePage.tsx","components/HeatMap.tsx","components/LanguageSelector.tsx","components/Headr.tsx","components/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","EnumVehiclePass","AccidentService","collback","$","done","response","filter","settings","CityService","cityName","ajax","lang","FilterChecker","valid","filters","this","checked","observable","store","appInitialized","initInjTypes","arr","push","initRoadTypes","initGenderTypes","reactionChangeLang","reaction","language","locale","changeLanguage","getFilter","startYear","endYear","trimCity","city","toString","trim","getMultiplefilter","roadTypes","getfilterInjured","genderTypes","console","log","filterKey","allChecked","arrfilter","iterator","values","filterCheck","map","x","join","injTypes","injType","action","L","LatLng","aType","val","getCityByNameHe","updateLocation","updateMarkers","arrPoints","markers","res","length","lat","lon","mapCenter","StoreContext","React","createContext","useStore","useContext","Error","redIcon","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","iconSize","iconAnchor","popupAnchor","shadowSize","MapAccidents","observer","reactMapCenter","toJS","Map","center","zoom","style","height","width","maxWidth","TileLayer","attribution","url","AccidentsMarkers","reactMarkers","markersArr","latitude","longitude","lPoint","Marker","key","_id","position","icon","Popup","accident_timestamp","injured_type_hebrew","sex_hebrew","age_group_hebrew","accident_yishuv_name","street1_hebrew","road_type_hebrew","FilterRequest","t","useTranslation","Form","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","Button","variant","onClick","submitFilter","Card","Header","Toggle","as","eventKey","Collapse","className","Body","Row","Group","Col","controlId","Label","Control","defaultValue","onChange","e","parseInt","target","value","id","selected","options","citisNamesHeb","placeholder","Check","inline","label","type","updateRoadType","updateInjuerdType","updateGenderType","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","AccidentsTable","props","divStyle","display","justifyContent","ExportCSVButton","CSVExport","keyField","data","columns","dataField","text","hidden","sort","exportCSV","baseProps","pagination","paginationFactory","headerClasses","csvProps","HomePage","HeatMap","state","layerHidden","fitBoundsOnUpdate","addressPoints","getPoints","getAll","addPointsToMap","addPoint","newPoint","latlng","lng","originalEvent","timeStamp","setState","prevState","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","Component","LanguageSelector","document","getElementById","href","body","classList","remove","add","ButtonGroup","toggle","size","ToggleButton","name","defaultChecked","updateLanguage","title","Footer","flexFlow","to","About","App","path","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.df03b7f4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","import i18n from 'i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    debug: true,\r\n    // I'm hardcoding the translations here for the sake of simplicity,\r\n    // but in a real-world application you would get these from a backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable, action ,reaction} from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport AccidentService from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import autorun  from \"mobx\"\r\n\r\ninterface IFilterChecker {\r\n  checked: boolean;\r\n  filters: string[];\r\n}\r\n\r\nclass FilterChecker implements IFilterChecker {\r\n  @observable\r\n  checked: boolean;\r\n  filters: string[];\r\n  constructor(valid: boolean, filters: string[]) {\r\n    this.checked = valid;\r\n    this.filters = filters;\r\n  }\r\n}\r\n\r\nexport enum EnumVehiclePass {\r\n  All,\r\n  Ped,\r\n  Cycle,\r\n  Motorcycle,\r\n  Car,\r\n  Others\r\n}\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    this.initInjTypes(this.injTypes);\r\n    this.initRoadTypes(this.roadTypes);\r\n    this.initGenderTypes(this.genderTypes);\r\n    //this.initCitis();\r\n    this.appInitialized = false;\r\n\r\n  }\r\n  initInjTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, []));\r\n    arr.push(new FilterChecker(false, [\"הולך רגל\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - אופניים\", \"נוסע - אופניים (לא נהג)\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - אופנוע\", \"נוסע - אופנוע (לא נהג)\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - רכב בעל 4 גלגלים ויותר\", \"נוסע - רכב בעל 4 גלגלים ויותר\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - רכב לא ידוע\", \"נוסע - רכב לא ידוע\"]));\r\n  }\r\n  initRoadTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"עירונית בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"עירונית לא בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"לא-עירונית בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"לא-עירונית לא בצומת\"]));\r\n  }\r\n  initGenderTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"נקבה\"]));\r\n    arr.push(new FilterChecker(true, [\"זכר\"]));\r\n    //arr.push(new FilterChecker(true, [\"לא ידוע\"]));\r\n  }\r\n\r\n  @observable\r\n  city: string = \"\";\r\n  //@observable\r\n  // citiesNames: string[] = [\"חיפה\",\"גבעתיים\"]\r\n  // initCitis = () =>{\r\n  //   var srvCity  = new CityService();\r\n  //   srvCity.getCitiesNames(\"he\",this.updateCitisNames);\r\n  // }\r\n  // @action \r\n  // updateCitisNames = (res:any[]) => {\r\n  //   console.log(\"updateCitisNames\")\r\n  //   if (res !== null && res.length >0 ) {\r\n  //     this.citiesNames  = res.map((x:any)=>x.name_he).filter(x => !!x);\r\n  //   }\r\n  // }\r\n \r\n// this belong to root store\r\n  @observable\r\n  language : string = \"he\" \r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang; \r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n\r\n\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.09, 34.7818)\r\n\r\n\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n\r\n\r\n\r\n  @observable\r\n  roadTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.roadTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  genderTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.genderTypes[aType].checked = val;\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    if (aType === 0) {\r\n      this.injTypes[0].checked = val;\r\n      this.injTypes[1].checked = !val;\r\n      this.injTypes[2].checked = !val;\r\n      this.injTypes[3].checked = !val;\r\n      this.injTypes[4].checked = !val;\r\n      this.injTypes[5].checked = !val;\r\n    }\r\n    else {\r\n      this.injTypes[0].checked = false;\r\n      this.injTypes[aType].checked = val;\r\n    }\r\n  }\r\n\r\n  @observable\r\n  markers: any[] = []\r\n\r\n  @action\r\n  submitFilter = () => {\r\n    //this.city = trimCity.toString().trim();\r\n    let filter = this.getFilter();\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\"){\r\n      var srvCity  = new CityService();\r\n      srvCity.getCityByNameHe(this.city,this.updateLocation);\r\n    }\r\n    var service = new AccidentService();\r\n    service.getFilter(filter, this.updateMarkers);\r\n  }\r\n\r\n  getFilter = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : ${this.startYear},\"$lte\": ${this.endYear}}}`;\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\") filter += `, {\"accident_yishuv_name\": \"${trimCity}\"}`;\r\n    filter += this.getMultiplefilter(\"road_type_hebrew\",this.roadTypes);\r\n    filter += this.getfilterInjured();\r\n    filter += this.getMultiplefilter(\"sex_hebrew\",this.genderTypes);\r\n    filter += `]}`\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n  getMultiplefilter = (filterKey: string, arr: Array<IFilterChecker>) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = arr.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"${filterKey}\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  getfilterInjured = () => {\r\n    let filter: string = '';\r\n    if (this.injTypes[0].checked)\r\n      filter = '';\r\n    else {\r\n      let arrfilter: string[] = [];\r\n      const iterator = this.injTypes.values();\r\n      for (const injType of iterator) {\r\n        if (injType.checked) {\r\n          arrfilter = [...arrfilter, ...injType.filters]\r\n        }\r\n      }\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"injured_type_hebrew\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateMarkers = (arrPoints: any[]) => {\r\n    if (arrPoints !== null) {\r\n      this.markers = arrPoints;\r\n    }\r\n  }\r\n  @action \r\n  updateLocation = (res:any[]) => {\r\n    if (res !== null && res.length >0 ) {\r\n      let city = res[0]; \r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat,city.lon) ;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","import * as $ from 'jquery';\r\n \r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n  getAll(collback:(arrPoints: any[]) => void){\r\n    //\"http://localhost:5000/api/v1/accident\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/accident\",\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n    //get request using jsonp and post body\r\n    getFilter(filter:string,collback:(arrPoints: any[]) => void ){\r\n      //\"http://localhost:5000/api/v1/accident\"\r\n      var settings = {\r\n        \"url\": \"/api/v1/accident\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        \"processData\": false,\r\n        \"data\": filter\r\n      }\r\n      \r\n      $.ajax(settings).done(function (response:any[]) {\r\n        collback(response);\r\n      });\r\n    }\r\n}\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","import React from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\nimport L from 'leaflet'\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\r\n\r\nimport 'leaflet-css'\r\nimport redMarker from '../assets/marker-icon-2x-red.png'\r\nimport shadoMarker from '../assets/marker-shadow.png'\r\nimport { toJS } from 'mobx'\r\n\r\n\r\nconst redIcon = new L.Icon({\r\n  iconUrl: redMarker,\r\n  shadowUrl: shadoMarker,\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\nconst MapAccidents = observer(() => {\r\n  const store = useStore();\r\n  const reactMapCenter = toJS(store.mapCenter);\r\n  const WRAPPER_STYLES = { height: '500px', width: '100vw', maxWidth: '100%' };\r\n  return (\r\n    <div>\r\n      <Map\r\n        center={reactMapCenter}\r\n        zoom={13}\r\n        style={WRAPPER_STYLES}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <AccidentsMarkers />\r\n      </Map>\r\n      {/* <button className=\"button\" type=\"button\" onClick={this.getPoints.bind()} >Get Accidents</button> */}\r\n\r\n    </div>\r\n  )\r\n})\r\n\r\nconst AccidentsMarkers = observer(() => {\r\n  const store = useStore();\r\n  const reactMarkers = toJS(store.markers);\r\n  //console.log(reactMarkers);\r\n  const markersArr = reactMarkers.map((x) => {\r\n    if (x.latitude !== null && x.longitude !== null) {\r\n      let lPoint: L.LatLng = new L.LatLng(x.latitude, x.longitude);\r\n      return (<Marker key={`marker-${x._id}`} position={lPoint} icon={redIcon}>\r\n        {<Popup>\r\n          <div>\r\n            <div>{x.accident_timestamp}</div>\r\n            <div> {x.injured_type_hebrew},{x.sex_hebrew},{x.age_group_hebrew}</div>\r\n            <div>{x.accident_yishuv_name}, {x.street1_hebrew}, {x.road_type_hebrew}</div>\r\n          </div>\r\n        </Popup>}\r\n      </Marker>)\r\n    }\r\n    else { return null }\r\n  })\r\n  if (reactMarkers.length > 0) {\r\n    return (\r\n      <div>\r\n        {markersArr}\r\n      </div>\r\n    )\r\n  }\r\n  else { return null }\r\n})\r\n\r\n/* const  getPoints =(e) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n\r\n  const addPointsToMap=(arrPoints) =>{\r\n    this.setState(() => {\r\n      return {markers: arrPoints};\r\n    })\r\n  } */\r\n\r\nexport default MapAccidents\r\n","import React , {ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport {Typeahead} from 'react-bootstrap-typeahead'; \r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport citisNamesHeb from \"../assets/cities_names_heb.json\";\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n\r\nexport const FilterRequest = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const {startYear, EndYear, City} = store;\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey=\"0\">\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n      </Accordion>\r\n      <Button variant=\"primary\" onClick={() => { store.submitFilter(); }} > {t('Submit')} </Button>\r\n    </Form>\r\n  );\r\n})\r\nconst CardFilterWhen = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n      <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n          {t('When')}\r\n      </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <Form.Row>\r\n            <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n              <Form.Label className=\"filterLable\"> {t('FromYear')}</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                <option>2015</option>\r\n                <option>2016</option>\r\n                <option>2017</option>\r\n                <option>2018</option>\r\n                <option>2019</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n              <Form.Label className=\"filterLable\"> {t('ToYear')}</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                <option>2015</option>\r\n                <option>2016</option>\r\n                <option>2017</option>\r\n                <option>2018</option>\r\n                <option>2019</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form.Row>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const citiesNames = toJS(store.citiesNames);  \r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n        {t('Where')} \r\n    </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n        <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}</Form.Label>\r\n            <Typeahead\r\n           id=\"typeaheadCity\"\r\n            onChange={(selected:string) => {\r\n              store.city = selected;\r\n            }}\r\n            options={citisNamesHeb}\r\n            placeholder={t('ChooseCity')}\r\n          />\r\n            {/* <Form.Control type=\"input\" placeholder=\"\" value={store.city} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.city = e.target.value; }} /> */}\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlRoadeType\" >\r\n            <Form.Label className=\"filterLable\">{t('RoadType')}</Form.Label>\r\n            <Form.Check inline label={t('urban-junction')} type={'checkbox'} id={`checkboxroadt0`} checked={store.roadTypes[0].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateRoadType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('urban-road')} type={'checkbox'} id={`checkboxroadt1`} checked={store.roadTypes[1].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateRoadType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('non-urban-junction')} type={'checkbox'} id={`checkboxroadt2`} checked={store.roadTypes[2].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateRoadType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('non-urban-road')} type={'checkbox'} id={`checkboxroadt3`} checked={store.roadTypes[3].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateRoadType(3, e.target.checked); }} />\r\n          </Form.Group>\r\n        \r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n        {t('Who')} \r\n    </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <Form.Group controlId=\"exampleForm.ControlInjType\">\r\n            <Form.Label className=\"filterLable\">{t('Vehicle')}</Form.Label>\r\n            <Form.Check inline label={t('all')} type={'checkbox'} id={`checkboxinjerd0`} checked={store.injTypes[0].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('pedestrian')} type={'checkbox'} id={`checkboxinjerd1`} checked={store.injTypes[1].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('cyclist')} type={'checkbox'} id={`checkboxinjerd2`} checked={store.injTypes[2].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('motorcycle')} type={'checkbox'} id={`checkboxinjerd3`} checked={store.injTypes[3].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(3, e.target.checked); }} />\r\n            <Form.Check inline label={t('car')} type={'checkbox'} id={`checkboxinjerd4`} checked={store.injTypes[4].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(4, e.target.checked); }} />\r\n            <Form.Check inline label={t('other')} type={'checkbox'} id={`checkboxinjerd5`} checked={store.injTypes[5].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(5, e.target.checked); }} />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlGenderType\">\r\n          <Form.Label className=\"filterLable\">{t('Gender')}</Form.Label>\r\n            <Form.Check inline label= {t('female')} type={'checkbox'} id={`checkboxgendert0`} checked={store.genderTypes[0].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateGenderType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('male')}  type={'checkbox'} id={`checkboxgendert1`} checked={store.genderTypes[1].checked} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.updateGenderType(1, e.target.checked); }} />\r\n          </Form.Group>\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\n\r\nexport function FilterPanel() {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest />\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.markers)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: 'Year',\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_yishuv_name',\r\n        text: 'City',\r\n        sort: true\r\n    }, {\r\n        dataField: 'street1_hebrew',\r\n        text: 'Street',\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew1',\r\n        text: 'Type',\r\n        sort: true\r\n    }, {\r\n        dataField: 'age_group_hebrew',\r\n        text: 'Age',\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: 'Gender',\r\n        sort: true\r\n    }];\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <h4>{t('Found')} {reactMarkers.length} {t('Casualties')} </h4>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","import React from 'react'\r\nimport MapAccidents from './MapAccidents'\r\nimport { FilterPanel } from './FilterPanel'\r\nimport { AccidentsTable } from './AccidentsTable'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-3 col-md-2\"><FilterPanel /></div>\r\n          <div className=\"col-md-10\"><Card><MapAccidents /></Card></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-auto\"><AccidentsTable /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport {LeafletMouseEvent} from 'leaflet'\r\nimport 'leaflet-css'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\nimport AccidentService from '../services/Accident.Service'\r\n \r\n\r\n\r\n\r\ninterface IPoint{\r\n  lat: number,\r\n  lon: number,\r\n  _id: string\r\n}\r\ninterface IState {\r\n  layerHidden?: boolean;\r\n  fitBoundsOnUpdate?: boolean;\r\n  addressPoints?: Array<IPoint>;\r\n}\r\n\r\nconst INITIAL_ZOOM = 10;\r\n\r\nexport default class HeatMap extends React.Component<{},IState> {\r\n    public state = {\r\n      layerHidden: false,\r\n      fitBoundsOnUpdate : true,\r\n      addressPoints: []\r\n    };\r\n  \r\n  componentWillMount() {\r\n/*     const { addressPoints } = this.state\r\n    geojsonPoints.data.map ((x:any)=>{return addressPoints.push( [x.latitude,x.longitude,x.accident_timestamp]) })\r\n    // {{latitude: number, longitude: number,accident_timestamp: string}}\r\n    this.setState({ addressPoints }) */\r\n    console.log(\"heatmap\")\r\n  }\r\n  getPoints =(e:object) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n  addPoint = (e:LeafletMouseEvent) => {\r\n    let newPoint:any = [e.latlng.lat,e.latlng.lng,e.originalEvent.timeStamp.toString()]\r\n    if (this.state.addressPoints.length >0)\r\n    {\r\n      this.setState(prevState => ({\r\n        addressPoints: [...prevState.addressPoints, newPoint]\r\n      }))\r\n    }\r\n    // else{\r\n    //   this.setState(state => ({\r\n    //     addressPoints: [newPoint]\r\n    //   }))\r\n    // }\r\n  }\r\n  addPointsToMap=(arrPoints: any[]) =>{\r\n    let newArr:any[] = arrPoints.map (x => [x.latitude, x.longitude, x._id])\r\n    this.setState({ addressPoints: [...newArr]});\r\n  }\r\n  render() {\r\n    const WRAPPER_STYLES = { height: '400px', width: '100vw' }\r\n\r\n    return (\r\n      <div>\r\n        <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}\r\n         onClick={this.addPoint}\r\n        >\r\n        {!this.state.layerHidden &&\r\n          <HeatmapLayer\r\n            fitBoundsOnLoad\r\n            fitBoundsOnUpdate\r\n            points={this.state.addressPoints}\r\n            longitudeExtractor={(m:any) => m[1]}\r\n            latitudeExtractor={(m:any) => m[0]}\r\n            intensityExtractor={(m:any) => parseFloat(m[2])} />\r\n            }\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n        </Map>\r\n        <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n        <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button>\r\n      </div>\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport const geojsonPoints:any = {\r\n  data: [\r\n      {\r\n          \"longitude\": 34.9780568296871,\r\n          \"latitude\": 32.4543458814189,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2016-05-15 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2015-01-02 06:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.968629300414,\r\n          \"latitude\": 32.4520110942299,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-09-12 09:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-07-27 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2011-03-26 19:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-11-28 11:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 19:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9625415910224,\r\n          \"latitude\": 32.4496820631224,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 06:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-28 10:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-06-22 12:00:00\"\r\n      }\r\n  ],\r\n};\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport {LanguageSelector} from './LanguageSelector'\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\nexport default class Header extends React.Component <IProps> {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n      <h1 className=\"HederTitle\">\r\n        {this.props.title}\r\n      </h1>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector/>\r\n      </div>\r\n    </header> \r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/heatmap\">{t('HeatMap')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport './i18n';\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport { HomePage } from './components/HomePage'\r\nimport HeatMap from './components/HeatMap';\r\nimport Header from './components/Headr';\r\nimport Footer from './components/Footer';\r\nimport Card from 'react-bootstrap/Card';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex'  height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <About />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n              <div className=\"App\">\r\n                {/* <Header title=\"Heat Map\" /> */}\r\n                <HeatMap />\r\n                {/* <Footer /> */}\r\n              </div>\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <div className=\"App\">\r\n                <HomePage />\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"heb\">\r\n      <div>פרוייקט נתונים על תאונות דרכים</div>\r\n      <div>מקור הנתונים - פרוייקט Anyway של הסדנא לידע ציבורי.</div>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}