"use strict";(self.webpackChunkhello_world=self.webpackChunkhello_world||[]).push([[870],{8870:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(5043),a=n(4117),r=n(4812),l=n(6233),s=n(7111),d=n(8931),i=n(4282),c=n(4196),u=n(2862),h=n(9055);var g=n(579);const p=e=>{var t,n,o;let{column:a,table:r}=e;const l=null===(t=r.getPreFilteredRowModel().flatRows[0])||void 0===t?void 0:t.getValue(a.id),s=a.getFilterValue();return"number"===typeof l?(0,g.jsxs)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:[(0,g.jsx)("input",{type:"number",value:null!==(n=null===s||void 0===s?void 0:s[0])&&void 0!==n?n:"",onChange:e=>a.setFilterValue((t=>[e.target.value,null===t||void 0===t?void 0:t[1]])),placeholder:"Min",className:"filter-input-number border shadow rounded"}),(0,g.jsx)("input",{type:"number",value:null!==(o=null===s||void 0===s?void 0:s[1])&&void 0!==o?o:"",onChange:e=>a.setFilterValue((t=>[null===t||void 0===t?void 0:t[0],e.target.value])),placeholder:"Max",className:"filter-input-number border shadow rounded"})]}):(0,g.jsx)("input",{className:"filter-input border shadow rounded",onChange:e=>a.setFilterValue(e.target.value),onClick:e=>e.stopPropagation(),placeholder:"Search...",type:"text",value:null!==s&&void 0!==s?s:""})};n(8421);const m=(e,t)=>{let n=[...t];return e<900&&(n=n.filter((e=>"vehicle_vehicle_type_hebrew"!==e.accessorKey))),e<700&&(n=n.filter((e=>"street1_hebrew"!==e.accessorKey))),e<500&&(n=n.filter((e=>"accident_yishuv_name"!==e.accessorKey))),console.log("filteredColumns",n.length),n},v=(0,s.FB)(),x=(0,l.PA)((()=>{const{filterStore:e}=(0,u.Pj)(),{t:t}=(0,a.Bd)(),n=(0,r.HO)(e.dataAllInjuries),[l,x]=o.useState((()=>[...n])),[b,j]=o.useState({pageIndex:0,pageSize:10}),w=[v.accessor("accident_year",{cell:e=>(0,g.jsx)("i",{children:e.getValue()}),header:t("Year"),footer:e=>e.column.id}),v.accessor("injury_severity_hebrew",{header:t("Severity"),cell:e=>e.renderValue(),footer:e=>e.column.id}),v.accessor("injured_type_hebrew",{header:t("TypeInjured"),footer:e=>e.column.id}),v.accessor("accident_yishuv_name",{header:t("City"),footer:e=>e.column.id}),v.accessor("street1_hebrew",{header:t("Street"),footer:e=>e.column.id}),v.accessor("vehicle_vehicle_type_hebrew",{header:t("VehicleType"),footer:e=>e.column.id}),v.accessor("accident_type_hebrew",{header:t("AccidentType"),footer:e=>e.column.id}),v.accessor("age_group_hebrew",{header:t("Age"),footer:e=>e.column.id}),v.accessor("sex_hebrew",{header:t("Gender"),footer:e=>e.column.id})],[f,C]=(0,o.useState)((()=>m(window.innerWidth,w)));console.log("columns",f.length,"innerWidth",window.innerWidth),(0,o.useEffect)((()=>{const e=()=>{C(m(window.innerWidth,w))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const y=(0,d.N4)({columns:f,data:l,debugTable:!0,getCoreRowModel:(0,s.HT)(),getSortedRowModel:(0,s.h5)(),getFilteredRowModel:(0,s.hM)(),getPaginationRowModel:(0,s.kW)(),onPaginationChange:j,state:{pagination:b}});return(0,g.jsxs)(h.A,{children:[(0,g.jsx)("div",{className:"h-2"}),(0,g.jsxs)(c.A,{striped:!0,bordered:!0,hover:!0,children:[(0,g.jsx)("thead",{children:y.getHeaderGroups().map((e=>(0,g.jsx)("tr",{children:e.headers.map((e=>{var t;return(0,g.jsx)("th",{colSpan:e.colSpan,children:(0,g.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),children:[(0,d.Kv)(e.column.columnDef.header,e.getContext()),null!==(t={asc:" \ud83d\udd3c",desc:" \ud83d\udd3d"}[e.column.getIsSorted()])&&void 0!==t?t:null,e.column.getCanFilter()?(0,g.jsx)("div",{children:(0,g.jsx)(p,{column:e.column,table:y})}):null]})},e.id)}))},e.id)))}),(0,g.jsx)("tbody",{children:y.getRowModel().rows.map((e=>(0,g.jsx)("tr",{children:e.getVisibleCells().map((e=>(0,g.jsx)("td",{children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))})]}),(0,g.jsx)(i.A,{onClick:()=>{!function(e,t){const n=[Object.keys(t[0]).join(","),...t.map((e=>Object.values(e).map((e=>`"${e}"`)).join(",")))].join("\n"),o=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o),r=document.createElement("a");r.href=a,r.download="table_data.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r)}(0,l)},className:"export-btn",children:t("export-to-csv")}),(0,g.jsx)("div",{className:"h-2"}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{className:"border rounded p-1",onClick:()=>y.firstPage(),disabled:!y.getCanPreviousPage(),children:"<<"}),(0,g.jsx)("button",{className:"border rounded p-1",onClick:()=>y.previousPage(),disabled:!y.getCanPreviousPage(),children:"<"}),(0,g.jsx)("button",{className:"border rounded p-1",onClick:()=>y.nextPage(),disabled:!y.getCanNextPage(),children:">"}),(0,g.jsx)("button",{className:"border rounded p-1",onClick:()=>y.lastPage(),disabled:!y.getCanNextPage(),children:">>"}),(0,g.jsxs)("span",{className:"flex items-center gap-1",children:[(0,g.jsx)("div",{children:"Page"}),(0,g.jsxs)("strong",{children:[y.getState().pagination.pageIndex+1," of"," ",y.getPageCount().toLocaleString()]})]}),(0,g.jsxs)("span",{className:"flex items-center gap-1",children:["| Go to page:",(0,g.jsx)("input",{type:"number",min:"1",max:y.getPageCount(),defaultValue:y.getState().pagination.pageIndex+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;y.setPageIndex(t)},className:"border p-1 rounded w-16"})]}),(0,g.jsx)("select",{value:y.getState().pagination.pageSize,onChange:e=>{y.setPageSize(Number(e.target.value))},children:[10,20,30,40,50].map((e=>(0,g.jsxs)("option",{value:e,children:["Show ",e]},e)))})]})]})}))}}]);
//# sourceMappingURL=870.c05ec4aa.chunk.js.map