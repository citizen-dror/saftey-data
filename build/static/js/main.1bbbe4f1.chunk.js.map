{"version":3,"sources":["assets/marker-icon-2x-red.png","assets/marker-shadow.png","i18n.js","stores/FilterStore.ts","services/Accident.Service.ts","services/City.Service.ts","stores/storeConfig.ts","components/AccidentsMarkers.tsx","components/MapAccidents.tsx","components/FilterRequest.tsx","components/FilterPanel.tsx","components/GroupByTable.tsx","components/atoms/CasualtiesSumLabel.tsx","components/AccidentsTable.tsx","components/HomePage.tsx","components/CityPage.tsx","components/HeatMap.tsx","components/LanguageSelector.tsx","components/Headr.tsx","components/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","EnumVehiclePass","AccidentService","collback","$","done","response","filter","settings","CityService","cityName","ajax","lang","FilterChecker","valid","filters","this","checked","observable","store","appInitialized","initInjTypes","arr","push","initGenderTypes","initAgeTypes","initPopulationTypes","initRoadTypes","reactionChangeLang","reaction","language","locale","changeLanguage","getFilter","startYear","endYear","getfilterCity","getMultiplefilter","roadTypes","getfilterInjured","genderTypes","ageTypes","populationTypes","console","log","getfilterForCityOnly","trimCity","city","toString","trim","filterKey","allChecked","arrfilter","iterator","values","filterCheck","map","x","join","injTypes","injType","action","name","L","LatLng","aType","val","isLoading","getCityByNameHe","updateLocation","postFilter","updateMarkers","submitGroupByYears","service","filtermatch","postGroupby","updateDataByYears","dataByYears","arrPoints","markers","cityResult","res","length","lat","lon","mapCenter","StoreContext","React","createContext","useStore","useContext","Error","redIcon","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","iconSize","iconAnchor","popupAnchor","shadowSize","AccidentsMarkers","observer","pStyle","color","t","useTranslation","reactMarkers","toJS","markersArr","latitude","longitude","lPoint","Marker","key","_id","position","icon","Popup","className","style","accident_timestamp","day_in_week_hebrew","day_night_hebrew","injured_type_hebrew","vehicle_vehicle_type_hebrew","sex_hebrew","age_group_hebrew","population_type_hebrew","accident_yishuv_name","street1_hebrew","road_type_hebrew","accident_type_hebrew","MapAccidents","reactMapCenter","Map","center","zoom","height","width","maxWidth","TileLayer","attribution","url","FilterRequest","activeCardKey","Form","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","Button","variant","disabled","onClick","submitFilter","Card","Header","Toggle","as","eventKey","Collapse","Body","Row","Group","Col","controlId","Label","Control","defaultValue","onChange","e","parseInt","target","value","id","selected","updateCity","options","citisNamesHeb","placeholder","Check","inline","label","type","updateRoadType","updateInjuerdType","updateGenderType","updateAgeType","updatePopulationType","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","GroupByTable","reactData","columns","dataField","text","keyField","data","headerClasses","CasualtiesSumLabel","nameSpan","AccidentsTable","props","divStyle","display","justifyContent","ExportCSVButton","CSVExport","hidden","sort","exportCSV","baseProps","pagination","paginationFactory","csvProps","HomePage","CityPage","query","URLSearchParams","useLocation","search","get","found","includes","find","element","useCityNamefromQuery","HeatMap","state","layerHidden","fitBoundsOnUpdate","addressPoints","getPoints","getAll","addPointsToMap","addPoint","newPoint","latlng","lng","originalEvent","timeStamp","setState","prevState","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","Component","LanguageSelector","document","getElementById","href","body","classList","remove","add","ButtonGroup","toggle","size","ToggleButton","defaultChecked","updateLanguage","title","Footer","flexFlow","to","About","App","path","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1bbbe4f1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","import i18n from 'i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    debug: true,\r\n    // I'm hardcoding the translations here for the sake of simplicity,\r\n    // but in a real-world application you would get these from a backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable, action ,reaction} from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport AccidentService from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import autorun  from \"mobx\"\r\n\r\ninterface IFilterChecker {\r\n  checked: boolean;\r\n  filters: string[];\r\n}\r\n\r\nclass FilterChecker implements IFilterChecker {\r\n  @observable\r\n  checked: boolean;\r\n  filters: string[];\r\n  constructor(valid: boolean, filters: string[]) {\r\n    this.checked = valid;\r\n    this.filters = filters;\r\n  }\r\n}\r\n\r\nexport enum EnumVehiclePass {\r\n  All,\r\n  Ped,\r\n  Cycle,\r\n  Motorcycle,\r\n  Car,\r\n  Others\r\n}\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    this.initInjTypes(this.injTypes);\r\n    this.initGenderTypes(this.genderTypes);\r\n    this.initAgeTypes(this.ageTypes)\r\n    this.initPopulationTypes(this.populationTypes)\r\n    this.initRoadTypes(this.roadTypes);\r\n    \r\n    //this.initCitis();\r\n    this.appInitialized = false;\r\n\r\n  }\r\n  initInjTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, []));\r\n    arr.push(new FilterChecker(false, [\"הולך רגל\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - אופניים\", \"נוסע - אופניים (לא נהג)\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - אופנוע\", \"נוסע - אופנוע (לא נהג)\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - רכב בעל 4 גלגלים ויותר\", \"נוסע - רכב בעל 4 גלגלים ויותר\"]));\r\n    arr.push(new FilterChecker(false, [\"נהג - רכב לא ידוע\", \"נוסע - רכב לא ידוע\"]));\r\n  }\r\n  initGenderTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"נקבה\"]));\r\n    arr.push(new FilterChecker(true, [\"זכר\"]));\r\n    //arr.push(new FilterChecker(true, [\"לא ידוע\"]));\r\n  }\r\n  initAgeTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"00-04\"]));\r\n    arr.push(new FilterChecker(true, [\"05-09\"]));\r\n    arr.push(new FilterChecker(true, [\"10-14\"]));\r\n    arr.push(new FilterChecker(true, [\"15-19\"]));\r\n    arr.push(new FilterChecker(true, [\"20-24\",\"25-29\"]));\r\n    arr.push(new FilterChecker(true, [\"30-34\",\"35-39\"]));\r\n    arr.push(new FilterChecker(true, [\"40-44\",\"45-49\"]));\r\n    arr.push(new FilterChecker(true, [\"50-54\",\"55-59\"]));\r\n    arr.push(new FilterChecker(true, [\"60-64\",\"65-69\"]));\r\n    arr.push(new FilterChecker(true, [\"70-74\",\"75-79\"]));\r\n    arr.push(new FilterChecker(true, [\"80-84\",\"85+\"]));\r\n    arr.push(new FilterChecker(true, [\"לא ידוע\"]));\r\n  }\r\n  initPopulationTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"יהודים\"]));\r\n    arr.push(new FilterChecker(true, [\"ערבים\"]));\r\n    arr.push(new FilterChecker(true, [\"זרים\"]));\r\n    arr.push(new FilterChecker(true, [\"לא ידוע\"]));\r\n  }\r\n\r\n  initRoadTypes = (arr: any) => {\r\n    arr.push(new FilterChecker(true, [\"עירונית בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"עירונית לא בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"לא-עירונית בצומת\"]));\r\n    arr.push(new FilterChecker(true, [\"לא-עירונית לא בצומת\"]));\r\n  }\r\n  \r\n  @observable\r\n  city: string = \"\";\r\n  @action\r\n  updateCity = (name: string) => {\r\n    this.city = name;\r\n  }\r\n\r\n  @observable\r\n  cityResult: string = \"\";\r\n\r\n\r\n  //@observable\r\n  // citiesNames: string[] = [\"חיפה\",\"גבעתיים\"]\r\n  // initCitis = () =>{\r\n  //   var srvCity  = new CityService();\r\n  //   srvCity.getCitiesNames(\"he\",this.updateCitisNames);\r\n  // }\r\n  // @action \r\n  // updateCitisNames = (res:any[]) => {\r\n  //   console.log(\"updateCitisNames\")\r\n  //   if (res !== null && res.length >0 ) {\r\n  //     this.citiesNames  = res.map((x:any)=>x.name_he).filter(x => !!x);\r\n  //   }\r\n  // }\r\n \r\n// this belong to root store\r\n  @observable\r\n  language : string = \"he\" \r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang; \r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n\r\n\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.09, 34.7818)\r\n\r\n\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n\r\n\r\n\r\n  @observable\r\n  roadTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.roadTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  genderTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.genderTypes[aType].checked = val;\r\n  }\r\n\r\n  @observable\r\n  ageTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateAgeType = (aType: number, val: boolean) => {\r\n    this.ageTypes[aType].checked = val;\r\n  }\r\n  @observable\r\n  populationTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updatePopulationType = (aType: number, val: boolean) => {\r\n    this.populationTypes[aType].checked = val;\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: Array<IFilterChecker> = [];\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    if (aType === 0) {\r\n      this.injTypes[0].checked = val;\r\n      this.injTypes[1].checked = !val;\r\n      this.injTypes[2].checked = !val;\r\n      this.injTypes[3].checked = !val;\r\n      this.injTypes[4].checked = !val;\r\n      this.injTypes[5].checked = !val;\r\n    }\r\n    else {\r\n      this.injTypes[0].checked = false;\r\n      this.injTypes[aType].checked = val;\r\n    }\r\n  }\r\n\r\n  @observable\r\n  markers: any[] = []\r\n  @observable\r\n  dataByYears: any [] =[]\r\n  @observable \r\n  isLoading : boolean =false;\r\n\r\n\r\n\r\n  @action\r\n  submitFilter = () => {\r\n    this.isLoading = true;\r\n    let filter = this.getFilter();\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\"){\r\n      var srvCity  = new CityService();\r\n      srvCity.getCityByNameHe(this.city,this.updateLocation);\r\n    }\r\n    var service = new AccidentService();\r\n    service.postFilter(filter, this.updateMarkers);\r\n    this.submitGroupByYears();\r\n  }\r\n\r\n  @action\r\n  submitGroupByYears = () =>{\r\n    var service = new AccidentService();\r\n    let filtermatch = this.getfilterForCityOnly();\r\n    console.log(filtermatch)\r\n    let filter = \"[\" \r\n     + '{\"$match\": '+ filtermatch +'}' \r\n     + ',{\"$group\": { \"_id\": \"$accident_year\", \"count\": { \"$sum\": 1 }}}'\r\n     +',{\"$sort\": {\"_id\": 1}}'\r\n     +']'\r\n    console.log(filter)\r\n    service.postGroupby(filter, this.updateDataByYears)\r\n  }\r\n  @action\r\n  updateDataByYears =(arr: any[]) =>{\r\n    this.dataByYears= arr;\r\n    //console.log(arr)\r\n  }\r\n\r\n  getFilter = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : ${this.startYear},\"$lte\": ${this.endYear}}}`;\r\n    filter += this.getfilterCity();\r\n    filter += this.getMultiplefilter(\"road_type_hebrew\",this.roadTypes);\r\n    filter += this.getfilterInjured();\r\n    filter += this.getMultiplefilter(\"sex_hebrew\",this.genderTypes);\r\n    filter += this.getMultiplefilter(\"age_group_hebrew\",this.ageTypes);\r\n    filter += this.getMultiplefilter(\"population_type_hebrew\",this.populationTypes);\r\n    filter += `]}`\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n  getfilterForCityOnly = () =>{\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":{\"$gte\":\"2015\"}}`;\r\n    filter += this.getfilterCity();\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n  getfilterCity = () => {\r\n    let filter: string = '';\r\n    let trimCity: string = this.city;\r\n    trimCity = trimCity.toString().trim();\r\n    if (trimCity !== \"\") filter += `, {\"accident_yishuv_name\": \"${trimCity}\"}`;\r\n    return filter;\r\n  }\r\n  getMultiplefilter = (filterKey: string, arr: Array<IFilterChecker>) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = arr.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"${filterKey}\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    console.log(filter)\r\n    return filter;\r\n  }\r\n\r\n  getfilterInjured = () => {\r\n    let filter: string = '';\r\n    if (this.injTypes[0].checked)\r\n      filter = '';\r\n    else {\r\n      let arrfilter: string[] = [];\r\n      const iterator = this.injTypes.values();\r\n      for (const injType of iterator) {\r\n        if (injType.checked) {\r\n          arrfilter = [...arrfilter, ...injType.filters]\r\n        }\r\n      }\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => `{\"injured_type_hebrew\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateMarkers = (arrPoints: any[]) => {\r\n    if (arrPoints !== null) {\r\n      this.markers = arrPoints;\r\n    }\r\n    this.isLoading = false;\r\n    this.cityResult = this.city;\r\n  }\r\n  @action \r\n  updateLocation = (res:any[]) => {\r\n    if (res !== null && res.length >0 ) {\r\n      let city = res[0]; \r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat,city.lon) ;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","import * as $ from 'jquery';\r\n\r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n  getAll(collback: (arrPoints: any[]) => void) {\r\n    //\"http://localhost:5000/api/v1/accident\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/accident\",\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response: any) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  //send request using jsonp and post body - return arry of points\r\n  postFilter(filter: string, collback: (arrPoints: any[]) => void) {\r\n    //\"http://localhost:5000/api/v1/accident\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/accident\",\r\n      \"method\": \"POST\",\r\n      \"headers\": {\r\n        \"content-type\": \"application/json\"\r\n      },\r\n      \"processData\": false,\r\n      \"data\": filter\r\n    }\r\n\r\n    $.ajax(settings).done(function (response: any[]) {\r\n      collback(response);\r\n    });\r\n  }\r\n\r\n    //send request using jsonp and post body - return arry of points\r\n    postGroupby(filter: string, collback: (arrPoints: any[]) => void) {\r\n      //\"http://localhost:5000/api/v1/accident/agg\"\r\n      var settings = {\r\n        \"url\": \"/api/v1/accident/agg\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        \"processData\": false,\r\n        \"data\": filter\r\n      }\r\n      $.ajax(settings).done(function (response: any[]) {\r\n        collback(response);\r\n      });\r\n    }\r\n}\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=חיפה\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\nimport L from 'leaflet'\r\nimport { Marker, Popup } from 'react-leaflet'\r\n\r\nimport 'leaflet-css'\r\nimport redMarker from '../assets/marker-icon-2x-red.png'\r\nimport shadoMarker from '../assets/marker-shadow.png'\r\nimport { toJS } from 'mobx'\r\n\r\nconst redIcon = new L.Icon({\r\n    iconUrl: redMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst AccidentsMarkers = observer(() => {\r\n    const pStyle= {\r\n        color:\"#004ba0\"\r\n       };\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const reactMarkers = toJS(store.markers);\r\n    //console.log(reactMarkers);\r\n    const markersArr = reactMarkers.map((x) => {\r\n        if (x.latitude !== null && x.longitude !== null) {\r\n            let lPoint: L.LatLng = new L.LatLng(x.latitude, x.longitude);\r\n            return (<Marker key={`marker-${x._id}`} position={lPoint} icon={redIcon}>\r\n                {<Popup>\r\n                    <div className={'text'+store.language}> \r\n                        <div><span style={pStyle}>{t('When')}:</span>{x.accident_timestamp},{x.day_in_week_hebrew}, {x.day_night_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Who')}:</span> {x.injured_type_hebrew},{x.vehicle_vehicle_type_hebrew},{x.sex_hebrew},{x.age_group_hebrew},{x.population_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('Where')}: </span> {x.accident_yishuv_name}, {x.street1_hebrew}, {x.road_type_hebrew}</div>\r\n                        <div><span style={pStyle}>{t('What')}:</span> {x.accident_type_hebrew}</div>\r\n                    </div>\r\n                </Popup>}\r\n            </Marker>)\r\n        }\r\n        else { return null }\r\n    })\r\n    if (reactMarkers.length > 0) {\r\n        return (\r\n            <div>\r\n                {markersArr}\r\n            </div>\r\n        )\r\n    }\r\n    else { return null }\r\n})\r\nexport default AccidentsMarkers","import React , {FunctionComponent} from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../stores/storeConfig'\r\n//import L from 'leaflet'\r\nimport { Map, TileLayer} from 'react-leaflet'\r\nimport AccidentsMarkers from '../components/AccidentsMarkers'\r\nimport 'leaflet-css'\r\n\r\ninterface IProps {\r\n  name:string\r\n}\r\nconst MapAccidents:FunctionComponent<IProps> = observer(({ name }) => {\r\n  const store = useStore();\r\n  const reactMapCenter = toJS(store.mapCenter);\r\n  const WRAPPER_STYLES = { height: '500px', width: '100vw', maxWidth: '100%' };\r\n  return (\r\n    <div>\r\n      <Map\r\n        center={reactMapCenter}\r\n        zoom={13}\r\n        style={WRAPPER_STYLES}\r\n      >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        <AccidentsMarkers />\r\n      </Map>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n\r\n/* const  getPoints =(e) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n\r\n  const addPointsToMap=(arrPoints) =>{\r\n    this.setState(() => {\r\n      return {markers: arrPoints};\r\n    })\r\n  } */\r\n\r\nexport default MapAccidents\r\n","import React, { ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport citisNamesHeb from \"../assets/cities_names_heb.json\";\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\ninterface IProps {\r\n  activeCardKey:number \r\n}\r\n\r\nexport const FilterRequest: React.FC<IProps> = observer(({activeCardKey = 0}) => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  //const {startYear, EndYear, City} = store;\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey={activeCardKey.toString()}>\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n      </Accordion>\r\n      <Button variant=\"primary\"\r\n        disabled={store.isLoading}\r\n        onClick={() => { store.submitFilter(); }} >{store.isLoading ? t('Loading…') : t('Submit')} </Button>\r\n      {/* <Button variant=\"primary\"\r\n        onClick={() => {  store.submitGroupByYears(); }} >group by</Button> */}\r\n    </Form>\r\n  );\r\n})\r\nconst CardFilterWhen = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n          {t('When')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <Form.Row>\r\n            <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n              <Form.Label className=\"filterLable\"> {t('FromYear')}:</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                <option>2015</option>\r\n                <option>2016</option>\r\n                <option>2017</option>\r\n                <option>2018</option>\r\n                <option>2019</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n              <Form.Label className=\"filterLable\"> {t('ToYear')}:</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                <option>2015</option>\r\n                <option>2016</option>\r\n                <option>2017</option>\r\n                <option>2018</option>\r\n                <option>2019</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form.Row>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n          {t('Where')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n          <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}:</Form.Label>\r\n            <Typeahead\r\n              id=\"typeaheadCity\"\r\n              //defaultSelected={[store.city]}\r\n              onChange={(selected: string[]) => {\r\n                if (selected.length >0 )\r\n                  store.updateCity(selected[0]);\r\n                else\r\n                  store.updateCity(\"\");\r\n              }}\r\n              options={citisNamesHeb}\r\n              //multiple\r\n              selected ={[store.city]}\r\n              placeholder={t('ChooseCity')}\r\n            />\r\n            {/* <Form.Control type=\"input\" placeholder=\"\" value={store.city} onChange={(e:ChangeEvent<HTMLInputElement>) => { store.city = e.target.value; }} /> */}\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlRoadeType\" >\r\n            <Form.Label className=\"filterLable\">{t('RoadType')}:</Form.Label>\r\n            <Form.Check inline label={t('urban-junction')} type={'checkbox'} id={`checkboxroadt0`} checked={store.roadTypes[0].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateRoadType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('urban-road')} type={'checkbox'} id={`checkboxroadt1`} checked={store.roadTypes[1].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateRoadType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('non-urban-junction')} type={'checkbox'} id={`checkboxroadt2`} checked={store.roadTypes[2].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateRoadType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('non-urban-road')} type={'checkbox'} id={`checkboxroadt3`} checked={store.roadTypes[3].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateRoadType(3, e.target.checked); }} />\r\n          </Form.Group>\r\n\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const store = useStore();\r\n  const { t } = useTranslation();\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\r\n          {t('Who')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <Form.Group controlId=\"exampleForm.ControlInjType\">\r\n            <Form.Label className=\"filterLable\">{t('Vehicle')}:</Form.Label>\r\n            <Form.Check inline label={t('all')} type={'checkbox'} id={`checkboxinjerd0`} checked={store.injTypes[0].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('pedestrian')} type={'checkbox'} id={`checkboxinjerd1`} checked={store.injTypes[1].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('cyclist')} type={'checkbox'} id={`checkboxinjerd2`} checked={store.injTypes[2].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('motorcycle')} type={'checkbox'} id={`checkboxinjerd3`} checked={store.injTypes[3].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(3, e.target.checked); }} />\r\n            <Form.Check inline label={t('car')} type={'checkbox'} id={`checkboxinjerd4`} checked={store.injTypes[4].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(4, e.target.checked); }} />\r\n            <Form.Check inline label={t('other')} type={'checkbox'} id={`checkboxinjerd5`} checked={store.injTypes[5].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateInjuerdType(5, e.target.checked); }} />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlGenderType\">\r\n            <Form.Label className=\"filterLable\">{t('Gender')}:</Form.Label>\r\n            <Form.Check inline label={t('female')} type={'checkbox'} id={`checkboxgendert0`} checked={store.genderTypes[0].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateGenderType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('male')} type={'checkbox'} id={`checkboxgendert1`} checked={store.genderTypes[1].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateGenderType(1, e.target.checked); }} />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlAgeType\">\r\n            <Form.Label className=\"filterLable\">{t('Age')}:</Form.Label>\r\n            <Form.Check inline label={t('00-04')} type={'checkbox'} id={`checkboxage0`} checked={store.ageTypes[0].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('05-09')} type={'checkbox'} id={`checkboxage1`} checked={store.ageTypes[1].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('10-14')} type={'checkbox'} id={`checkboxage2`} checked={store.ageTypes[2].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('15-19')} type={'checkbox'} id={`checkboxage3`} checked={store.ageTypes[3].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(3, e.target.checked); }} />\r\n            <Form.Check inline label={t('20-29')} type={'checkbox'} id={`checkboxage4`} checked={store.ageTypes[4].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(4, e.target.checked); }} />\r\n            <Form.Check inline label={t('30-39')} type={'checkbox'} id={`checkboxage5`} checked={store.ageTypes[5].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(5, e.target.checked); }} />\r\n            <Form.Check inline label={t('40-49')} type={'checkbox'} id={`checkboxage6`} checked={store.ageTypes[6].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(6, e.target.checked); }} />\r\n            <Form.Check inline label={t('50-59')} type={'checkbox'} id={`checkboxage7`} checked={store.ageTypes[7].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(7, e.target.checked); }} />\r\n            <Form.Check inline label={t('60-69')} type={'checkbox'} id={`checkboxage8`} checked={store.ageTypes[8].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(8, e.target.checked); }} />\r\n            <Form.Check inline label={t('70-79')} type={'checkbox'} id={`checkboxage9`} checked={store.ageTypes[9].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(9, e.target.checked); }} />\r\n            <Form.Check inline label={t('80+')} type={'checkbox'} id={`checkboxage10`} checked={store.ageTypes[10].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(10, e.target.checked); }} />\r\n            <Form.Check inline label={t('unknown')} type={'checkbox'} id={`checkboxage11`} checked={store.ageTypes[11].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updateAgeType(11, e.target.checked); }} />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"exampleForm.ControlPopType\">\r\n            <Form.Label className=\"filterLable\">{t('Population')}:</Form.Label>\r\n            <Form.Check inline label={t('jews')} type={'checkbox'} id={`checkboxpop0`} checked={store.populationTypes[0].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updatePopulationType(0, e.target.checked); }} />\r\n            <Form.Check inline label={t('arabs')} type={'checkbox'} id={`checkboxpop1`} checked={store.populationTypes[1].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updatePopulationType(1, e.target.checked); }} />\r\n            <Form.Check inline label={t('immigrants')} type={'checkbox'} id={`checkboxpop2`} checked={store.populationTypes[2].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updatePopulationType(2, e.target.checked); }} />\r\n            <Form.Check inline label={t('unknown')} type={'checkbox'} id={`checkboxpop3`} checked={store.populationTypes[3].checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.updatePopulationType(3, e.target.checked); }} />\r\n          </Form.Group>\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\ninterface IProps {\r\n    activeCardKey?:number \r\n  }\r\n\r\nexport const FilterPanel:React.FC<IProps>=  ({activeCardKey=0}) => {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest activeCardKey={activeCardKey}/>\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\n\r\nexport const GroupByTable = observer(() => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const reactData = toJS(store.dataByYears)\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: t('Year'),\r\n    }, {\r\n        dataField: 'count',\r\n        text: t('Casualties'),\r\n    }];\r\n    if (reactData.length >0 ){\r\n        return (<div>\r\n            <BootstrapTable keyField='_id' data={reactData} columns={columns} headerClasses=\"table-header\" />\r\n            </div>\r\n            )\r\n    }\r\n    else return null;\r\n})","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface IProps {\r\n    length:number,\r\n    name?: string\r\n  }\r\nexport const CasualtiesSumLabel: React.FC<IProps> = ({length,name}) => {\r\n    const { t } = useTranslation();\r\n    const nameSpan = name ? name +\"- \" : \"\" \r\n    if (length > 0) {\r\n        return (\r\n        <h4>{nameSpan}{t('Found')} {length} {t('Casualties')} </h4>\r\n        )\r\n    }\r\n    else return (\r\n        <h4>{t('NoResultsFound')}</h4>\r\n    )\r\n}\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\nimport {CasualtiesSumLabel} from './atoms/CasualtiesSumLabel'\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.markers)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const columns = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: t('Year'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_yishuv_name',\r\n        text: t('City'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'street1_hebrew',\r\n        text: t('Street'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew',\r\n        text: t('Type'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'vehicle_vehicle_type_hebrew',\r\n        text: t('Vehicle'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_type_hebrew',\r\n        text: t('AccidentType'),\r\n        sort: true\r\n    }, {   \r\n        dataField: 'age_group_hebrew',\r\n        text: t('Age'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: t('Gender'),\r\n        sort: true\r\n    }];\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return (  \r\n        <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/> \r\n    );\r\n})\r\n","import React from 'react'\r\nimport MapAccidents from './MapAccidents'\r\nimport { FilterPanel } from './FilterPanel'\r\nimport {GroupByTable} from './GroupByTable'\r\nimport { AccidentsTable } from './AccidentsTable'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-3 col-md-3\"><FilterPanel /></div>\r\n          <div className=\"col-md-7\"><Card><MapAccidents name=\"\"/></Card></div>\r\n          <div className=\"col-md-2\"><GroupByTable /></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-auto\"><AccidentsTable /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useLocation} from 'react-router-dom'\r\nimport { observer } from \"mobx-react\"\r\nimport MapAccidents from './MapAccidents'\r\nimport { FilterPanel } from './FilterPanel'\r\nimport { AccidentsTable } from './AccidentsTable'\r\nimport {GroupByTable} from './GroupByTable'\r\nimport Card from 'react-bootstrap/Card';\r\nimport citisNamesHeb from \"../assets/cities_names_heb.json\";\r\n\r\nimport { useStore } from '../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const CityPage: React.FC<IProps> = observer(() => {\r\n  const store = useStore();\r\n  const {cityResult} = store;\r\n  if(cityResult === \"\"){\r\n    let cityName  = useCityNamefromQuery();\r\n    store.updateCity(cityName);\r\n    store.submitFilter();\r\n  }\r\n  console.log(\"cityResult:\", cityResult)\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <h4>{cityResult}</h4>\r\n        </div>\r\n        <div className=\"row \">\r\n          <div className=\"p-3 col-md-3\"><FilterPanel activeCardKey={1}/></div>\r\n          <div className=\"col-md-6\"><Card><MapAccidents name={cityResult} /></Card></div>\r\n          <div className=\"col-md-3\"><GroupByTable /></div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-auto\"><AccidentsTable /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n//get city name by query by url\r\nfunction useCityNamefromQuery(){\r\n  let query = useQuery();\r\n  let res = \"תל אביב -יפו\";  \r\n  let name = query.get(\"name\")\r\n  let found = false;\r\n  if (name !== null)\r\n     found = citisNamesHeb.includes(name);\r\n  if(found)\r\n  {\r\n    res = citisNamesHeb.find(element => element === name!)!;\r\n  }\r\n  return res;\r\n}\r\n// A custom hook that builds on useLocation to parse\r\n// the query string for you.\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport {LeafletMouseEvent} from 'leaflet'\r\nimport 'leaflet-css'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\nimport AccidentService from '../services/Accident.Service'\r\n \r\n\r\n\r\n\r\ninterface IPoint{\r\n  lat: number,\r\n  lon: number,\r\n  _id: string\r\n}\r\ninterface IState {\r\n  layerHidden?: boolean;\r\n  fitBoundsOnUpdate?: boolean;\r\n  addressPoints?: Array<IPoint>;\r\n}\r\n\r\nconst INITIAL_ZOOM = 10;\r\n\r\nexport default class HeatMap extends React.Component<{},IState> {\r\n    public state = {\r\n      layerHidden: false,\r\n      fitBoundsOnUpdate : true,\r\n      addressPoints: []\r\n    };\r\n  \r\n  componentWillMount() {\r\n/*     const { addressPoints } = this.state\r\n    geojsonPoints.data.map ((x:any)=>{return addressPoints.push( [x.latitude,x.longitude,x.accident_timestamp]) })\r\n    // {{latitude: number, longitude: number,accident_timestamp: string}}\r\n    this.setState({ addressPoints }) */\r\n    console.log(\"heatmap\")\r\n  }\r\n  getPoints =(e:object) =>{\r\n    var service = new  AccidentService ();\r\n    service.getAll(this.addPointsToMap);\r\n  }\r\n  addPoint = (e:LeafletMouseEvent) => {\r\n    let newPoint:any = [e.latlng.lat,e.latlng.lng,e.originalEvent.timeStamp.toString()]\r\n    if (this.state.addressPoints.length >0)\r\n    {\r\n      this.setState(prevState => ({\r\n        addressPoints: [...prevState.addressPoints, newPoint]\r\n      }))\r\n    }\r\n    // else{\r\n    //   this.setState(state => ({\r\n    //     addressPoints: [newPoint]\r\n    //   }))\r\n    // }\r\n  }\r\n  addPointsToMap=(arrPoints: any[]) =>{\r\n    let newArr:any[] = arrPoints.map (x => [x.latitude, x.longitude, x._id])\r\n    this.setState({ addressPoints: [...newArr]});\r\n  }\r\n  render() {\r\n    const WRAPPER_STYLES = { height: '400px', width: '100vw' }\r\n\r\n    return (\r\n      <div>\r\n        <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}\r\n         onClick={this.addPoint}\r\n        >\r\n        {!this.state.layerHidden &&\r\n          <HeatmapLayer\r\n            fitBoundsOnLoad\r\n            fitBoundsOnUpdate\r\n            points={this.state.addressPoints}\r\n            longitudeExtractor={(m:any) => m[1]}\r\n            latitudeExtractor={(m:any) => m[0]}\r\n            intensityExtractor={(m:any) => parseFloat(m[2])} />\r\n            }\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n        </Map>\r\n        <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n        <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button>\r\n      </div>\r\n    );\r\n  }\r\n \r\n}\r\n\r\nexport const geojsonPoints:any = {\r\n  data: [\r\n      {\r\n          \"longitude\": 34.9780568296871,\r\n          \"latitude\": 32.4543458814189,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2016-05-15 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2015-01-02 06:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.968629300414,\r\n          \"latitude\": 32.4520110942299,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-09-12 09:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2014-07-27 21:00:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קשה\",\r\n          \"accident_timestamp\": \"2011-03-26 19:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-11-28 11:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 19:45:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9625415910224,\r\n          \"latitude\": 32.4496820631224,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-31 06:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9865860704716,\r\n          \"latitude\": 32.458914735012,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-10-28 10:30:00\"\r\n      },\r\n      {\r\n          \"longitude\": 34.9618510776681,\r\n          \"latitude\": 32.4494011939289,\r\n          \"accident_severity\": \"קלה\",\r\n          \"accident_timestamp\": \"2019-06-22 12:00:00\"\r\n      }\r\n  ],\r\n};\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react';\r\nimport {LanguageSelector} from './LanguageSelector'\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\nexport default class Header extends React.Component <IProps> {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n      <h1 className=\"HederTitle\">\r\n        {this.props.title}\r\n      </h1>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector/>\r\n      </div>\r\n    </header> \r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/city\">{t('Cities')}</Link>\r\n          <Link to=\"/heatmap\">{t('HeatMap')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\nimport './i18n';\r\nimport './App.css';\r\nimport { HomePage } from './components/HomePage'\r\nimport {CityPage} from './components/CityPage'\r\nimport HeatMap from './components/HeatMap';\r\nimport Header from './components/Headr';\r\nimport Footer from './components/Footer';\r\nimport Card from 'react-bootstrap/Card';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex'  height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <About />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n                <HeatMap />\r\n            </Route>\r\n            <Route path=\"/city\">\r\n                <CityPage />\r\n            </Route>\r\n            <Route path=\"/\">\r\n                <HomePage />\r\n            </Route>\r\n          </Switch>\r\n          </div>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction About() {\r\n  return (\r\n    <div className=\"heb\">\r\n      <div>פרוייקט נתונים על תאונות דרכים</div>\r\n      <div>מקור הנתונים - פרוייקט Anyway של הסדנא לידע ציבורי.</div>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}