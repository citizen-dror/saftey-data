{"version":3,"sources":["assets/marker-shadow.png","assets/marker-icon-2x-red.png","assets/marker-icon-2x-orange2.png","assets/menu_white.png","assets/safety-logo.png","i18n.js","stores/FilterChecker.ts","stores/GroupBy.ts","services/Accident.Service.ts","services/City.Service.ts","services/Dexie.Injured.Service.js","stores/FilterStore.ts","stores/storeConfig.ts","components/molecules/CitySelector.tsx","components/molecules/StreetSelector.tsx","components/molecules/RoadSegmentSelector.tsx","components/atoms/Checkbox.tsx","components/molecules/GroupCheckBox.tsx","components/organisms/FilterRequest.tsx","components/organisms/FilterPanel.tsx","components/atoms/AccidentPopUp.tsx","components/molecules/AccidentsMarker.tsx","components/molecules/AccidentsMarkers.tsx","components/molecules/AccidentHeatLayer.tsx","components/atoms/ButtonTuggleHeatLayer.tsx","components/organisms/MapAccidents.tsx","components/atoms/CasualtiesSumLabel.tsx","components/organisms/AccidentsTable.tsx","components/atoms/SmallCard.tsx","components/atoms/SelectGroupBy.tsx","components/atoms/SelectGroupBy2.tsx","components/molecules/MyBarChart.tsx","components/organisms/GroupByGraphsPanel.tsx","components/molecules/GroupByTable.tsx","components/organisms/GroupByTablesPanel.tsx","components/templates/TabsTemplate.tsx","components/templates/HomeTemplate.tsx","components/pages/HomePage.tsx","components/templates/CityTemplate.tsx","components/pages/CityPage.tsx","components/pages/AboutPage.tsx","components/pages/HeatMap.tsx","components/molecules/LanguageSelector.tsx","components/atoms/ButtonMenu.tsx","components/templates/Headr.tsx","components/templates/Footer.tsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","i18n","use","initReactI18next","init","fallbackLng","lng","debug","resources","translationEng","translationHeb","interpolation","escapeValue","FilterChecker","label","valid","filters","this","checked","observable","ColumnFilter","name","dbColName","allTypesOption","arrTypes","reduce","counter","currentValue","computed","GroupBy","text","value","limit","GroupBy2","vals","revTrnas","key","fixStrcutTable","data","map","x","arr","count","y","grp2","join","xId","_id","undefined","replace","sObject","JSON","parse","getBars","Object","entries","color","getColumns","res","unshift","GroupBy2Val","fetchFilter","filter","type","a","url","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","response","ok","json","fetchGroupBy","CityService","cityName","collback","settings","$","ajax","done","lang","db","Dexie","injuerd","bulkPut","getFromDexie","arrFilters","length","toArray","years","shift","where","filterName","between","startYear","endYear","collection","forEach","element","and","values","orFilter","val","version","stores","FilterStore","dictGroupBy","dict","appInitialized","reactionChangeLang","reaction","language","locale","changeLanguage","updateSpeedLimit","aType","updateFilters","speedLimit","getFilterGroupBy","filterMatch","groupName","groupName2","grpids","submintMainDataFilter","isLoading","getFilter","updateIsSetBounds","cities","roadSegment","then","updateAllInjuries","useLocalDb","insertToDexie","submintGetMarkerFirstStep","updateDataMarkersLean","submintGetMarkersBBox","mapBounds","updateDataMarkersInBounds","submitCityNameAndLocation","city","getCityByNameHe","updateLocation","cityResult","bounds","useBounds","getMultiplefilter","injurySeverity","getfilterCity","getfilterBounds","dayNight","getFilterStreets","getFilterFromArray","injTypes","genderTypes","ageTypes","populationTypes","accidentType","vehicleType","roadTypes","roadWidth","separator","oneLane","getSouth","getNorth","getWest","getEast","getfilterForCityOnly","streets","trim","colFilter","allChecked","arrfilter","iterator","filterCheck","xSafe","submitMainDataFilterLocalDb","getFilterIDB","console","log","submintGetMarkersBBoxIdb","getFilterBboxIDB","toString","push","getfilterCityIDB","getFilterStreetsIDB","getMultiplefilterIDB","getFilterFromArrayIDb","bbox","p1","getSouthWest","p2","getNorthEast","filterVals","filter1","col","FC","groupByDict","group2Dict","groupBy","groupBy2","isAllValsFalse","isValidSeverity","isValidWhen","isValidWho","isValidWhere","isValidWhat","isValidWhatVehicle","isValidWhatRoad","action","names","split","setMarkersLoadStep","dataAllInjuries","isSetBounds","setBounds","dataMarkersLean","dataMarkersInBounds","submitfilterdGroup","submitfilterdGroup2","filtermatch","dataByYears","dataFilterdByYears","aGroupBy","dataFilterd","fixData","dataGroupby2","isDynamicMarkers","isUse2StepsMarkers","submitGroupByYears","submitfilterdGroupByYears","index","step","markersLoadStep","L","LatLng","latLngBounds","INIT_BOUNDS","citisArr","roadSegArr","lat","lon","mapCenter","heatLayerHidden","lastPoint","latLng","latitude","longitude","p","DEFAULT_BOUNDS","store","StoreContext","React","createContext","useStore","useContext","Error","CitySelector","observer","isMultiple","t","useTranslation","Form","Group","controlId","Label","className","id","onChange","selected","updateCities","options","citisNamesHeb","multiple","placeholder","StreetSelector","Control","e","updateStreets","target","RoadSegmentSelector","updateRoadSegment","Checkbox","group","Check","inline","GroupCheckbox","formName","onGroupChange","feedback","style","marginTop","fontSize","isvalid","fChecker","STYLE_TOGGLE_WARNING","STYLE_TOGGLE_NORMAL","FilterRequest","activeCardKey","Accordion","defaultActiveKey","CardFilterWhen","CardFilterWhere","CardFilterWho","CardFilterWhat","CardFilterWhatVehicle","CardFilterWhatRoad","updateInjurySeverity","Button","variant","disabled","isValidAllFilters","onClick","submitFilter","styleToggle","Card","Header","Toggle","as","eventKey","Collapse","Body","Row","Col","defaultValue","parseInt","updateDayNight","isMultipleCities","updateRoadType","updateInjuerdType","updateGenderType","updateAgeType","updatePopulationType","updateAccidentType","updateVehicleType","updateRoadWidth","updateSeparator","updateOneLane","FilterPanel","useState","open","setOpen","aria-controls","aria-expanded","in","AccidentsPopUp","pStyle","injured_type_hebrew","Popup","accident_timestamp","day_in_week_hebrew","day_night_hebrew","injury_severity_hebrew","vehicle_vehicle_type_hebrew","sex_hebrew","age_group_hebrew","population_type_hebrew","accident_yishuv_name","street1_hebrew","street2_hebrew","road_segment_name","road_type_hebrew","accident_type_hebrew","speed_limit_hebrew","multi_lane_hebrew","one_lane_hebrew","road_width_hebrew","iconSize","iconAnchor","popupAnchor","shadowSize","RED_ICON","Icon","iconUrl","redMarker","shadowUrl","shadoMarker","point","ORANGE_ICON","orangeMarker","setIconBySeverity","severity","AccidentsMarker","lPoint","icon","Marker","position","AccidentPopUp","AccidentsMarkers","markers","toJS","AccidentHeatLayer","fitBoundsOnUpdate","newArr","fitBoundsOnLoad","points","longitudeExtractor","m","latitudeExtractor","intensityExtractor","parseFloat","ButtonTuggleHeatLayer","isHeatMapHidden","MapAccidents","mapRef","useRef","reactMapCenter","heatLayer","didMountRef","useEffect","current","leafletElement","invalidateSize","getZoom","setZoom","Map","ref","center","zoom","height","width","maxWidth","onmoveend","b","getBounds","TileLayer","attribution","toggleHeatLayer","isReadyToRenderMap","CasualtiesSumLabel","nameSpan","AccidentsTable","props","divStyle","display","justifyContent","reactMarkers","ExportCSVButton","CSVExport","getColumnsByWidth","window","innerWidth","columns","setColumns","handleResize","cols","addEventListener","removeEventListener","keyField","exportCSV","baseProps","pagination","paginationFactory","headerClasses","csvProps","columns1","dataField","hidden","sort","colCity","colStreet","columns3","columns4","splice","concat","SmallCard","title","styleType","children","styleCard","borderRadius","padding","margin","aHeder","SelectGroupBy","labelText","updateGroupby","lable","onSelectChange","useCallback","event","SelectGroupBy2","updateGroupBy2","MyBarChart","bars","fill","legendType","colName","dataKey","aName","maxLabelLangth","maxval","xAxis","textAnchor","interval","angle","tick","legend","layout","verticalAlign","align","direction","top","right","left","bottom","strokeDasharray","getSize","GroupByGraphsPanel","graphSize","setGraphSize","size","graph1Size","Math","min","graph2Size","reactData1","reactData2","reactData3","barsGrp2","reactDataGrp2","marginLeft","marginRight","flexWrap","fontWeight","GroupByTable","dataName","GroupByTablesPanel","columnsGrp2","TabsTemplate","defaultKey","activeKey","Tabs","onSelect","Tab","HomeTemplate","initBounds","HomePage","CityTemplate","query","URLSearchParams","useLocation","search","get","found","includes","find","useCityNamefromQuery","CityPage","AboutPage","styleDiv","marginBottom","href","rel","HeatMap","LanguageSelector","document","getElementById","classList","remove","add","ButtonGroup","toggle","ToggleButton","defaultChecked","updateLanguage","ButtonMenu","styleLink","alignRight","Dropdown","backgroundColor","src","menuIcon","alt","Menu","Item","to","getShowNavMenu","flexFlow","showNavMenu","setShowNavMenu","navMenu","show","logo","Footer","App","path","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d24527c6.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACJ0lEQVR4Ae3ShY6bQRADYIeZ3v+9yszMDZPlkSWtslPuiS6+C+8n/zNp4p/froi8Jq/Jxk+TkwmHX//Wz8lG3jNjTeaguabD6HAVbphMwIIzqtd+rzKYhsgUNNcqo3fEBlyyOWmwhbbS4b8SaLBu7SGlpL9gklw3YpYR6J5Bm0zAguspZjvqSVQxqvxsPSJJKYIFKh5A2VIDyMgYfYB9hvcmI0VPTxVZS81ER7qiBoFqBAa9MKOKLzzv2BE3EOnlmDTrNRXryToGOGR65nhvSphjMP6b6WJ6xMYYxSW7l1Pp6CSzbLFPgAN3NGLKPRn3c59qxzapCTPUFNVKh0vUe24azMkW+uRm/B8UU3O3Eiw4nOrrafOSF5gS7PqHUotBQQ6f11p22HDOi+66i2LIHcWJOZrTP+rkhOl7n8YcTzCQIuIvyZPQrvs5Br0OdTsyB+YYrwKokXvsgOIXZzbeQ0DMnhHIqGOdBMEl9qKYAo3pBbbDNkijUSgjv/PrMFhwRwS2YbbMzqg+SzdukoxbeiSEVlgyK6yFmjSYtDxhTXRv1OsgsCb2jflu8hLMyC0P7Qg54NE1qc/MF5PqeAHWSfDL3zxN9dsQ+YD3zEeRS4GeYgFm5I7HNiJPfP4V7/CKeUvwsxpqhkwFzMgjj33Vwe+EnuIxngn8FvNTSCkwmJG+rQm8J/MId/EQL3nZwe2EmSNm9ufkFq9xHzcJPscnLGMRomBKqdzOY2EH+IPOLMEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAYAAAAWy4frAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjUzOUY5MDI1NjY5MTFFQThDMEI5QTBENDhGM0VDQzIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjUzOUY5MDM1NjY5MTFFQThDMEI5QTBENDhGM0VDQzIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyN0YyQ0Q3RjU2NjkxMUVBOEMwQjlBMEQ0OEYzRUNDMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyN0YyQ0Q4MDU2NjkxMUVBOEMwQjlBMEQ0OEYzRUNDMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr6mBe8AAA7zSURBVHja3FsJ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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAOUlEQVR4Ae3WgQUAMAwEwI6WzTL6txsEiOKOB+CJJweAQZLOnj4ThWBh9vXSSymzH/TnJwPvh0IAXORfNuG7KzwXAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","import i18n from 'i18next';\r\n//import LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport translationEng from \"./lng/en/translation.json\";\r\nimport translationHeb from \"./lng/he/translation.json\";\r\n\r\n\r\ni18n\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  //.use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'he',\r\n    lng : 'he',\r\n    debug: true,\r\n    // hardcoding translations for the sake of simplicity,\r\n    // id more complex - get it from backend.\r\n    // i18next has a small plugin that makes it easy.\r\n    // learn more: https://github.com/i18next/i18next-xhr-backend\r\n    resources: {\r\n      'en':{\r\n        'translation':translationEng  \r\n      },\r\n        'he':{\r\n        'translation':translationHeb \r\n      }\r\n    },\r\n    interpolation: {\r\n      escapeValue: false, // not needed for React as it escapes by default\r\n    },\r\n});\r\nexport default i18n;","import { observable,computed } from \"mobx\"\r\n\r\nexport interface IFilterChecker {\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n}\r\nexport default class FilterChecker implements IFilterChecker {\r\n    @observable\r\n    checked: boolean;\r\n    label: string;\r\n    filters: string[];\r\n    constructor(label: string, valid: boolean, filters: string[]) {\r\n        this.label = label;\r\n        this.checked = valid;\r\n        this.filters = filters;\r\n    }\r\n}\r\nexport interface IColumnFilter {\r\n    name: string;\r\n    dbColName: string;\r\n    arrTypes: IFilterChecker[];\r\n    allTypesOption : number;\r\n    isAllValsFalse: boolean;\r\n}\r\nexport class ColumnFilter implements IColumnFilter {\r\n    name: string;\r\n    dbColName: string;\r\n    @observable\r\n    arrTypes: IFilterChecker[];\r\n    allTypesOption : number;\r\n    constructor(name: string, dbColName: string, allTypesOption: number = -1) {\r\n        this.name = name;\r\n        this.dbColName = dbColName;\r\n        this.arrTypes = [];\r\n        this.allTypesOption = allTypesOption;\r\n    }\r\n    @computed get isAllValsFalse () {\r\n        const res = this.arrTypes.reduce(function(counter,currentValue){\r\n            return currentValue.checked? ++counter:counter;\r\n          },0);\r\n        return (res ===0);\r\n    }\r\n    // @computed get countTrueVals () {\r\n    //     const res = this.arrTypes.reduce(function(counter,currentValue){\r\n    //         return currentValue.checked? ++counter:counter;\r\n    //       },0);\r\n    //     return res;\r\n    // }\r\n}\r\n\r\nexport const initInjurySeverity = () => {\r\n    const col : IColumnFilter = new ColumnFilter('Severity','injury_severity_hebrew')\r\n    col.arrTypes.push(new FilterChecker('dead', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('severly-injured', false, [\" \"]));\r\n    return col;\r\n}\r\n\r\nexport const initDayNight = () => {\r\n    const col : IColumnFilter = new ColumnFilter('DayNight','day_night_hebrew')\r\n    col.arrTypes.push(new FilterChecker('day', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('night', true, [\"\"]));\r\n    return col;\r\n}\r\n\r\nexport const initMonth = (arr: IFilterChecker[]) => {\r\n    arr.push(new FilterChecker('1', true, [\"1\"]));\r\n    arr.push(new FilterChecker('2', true, [\"2\"]));\r\n    arr.push(new FilterChecker('3', true, [\"3\"]));\r\n    arr.push(new FilterChecker('4', true, [\"4\"]));\r\n    arr.push(new FilterChecker('5', true, [\"5\"]));\r\n    arr.push(new FilterChecker('6', true, [\"6\"]));\r\n    arr.push(new FilterChecker('7', true, [\"7\"]));\r\n    arr.push(new FilterChecker('8', true, [\"8\"]));\r\n    arr.push(new FilterChecker('9', true, [\"9\"]));\r\n    arr.push(new FilterChecker('10', true, [\"10\"]));\r\n    arr.push(new FilterChecker('11', true, [\"11\"]));\r\n    arr.push(new FilterChecker('12', true, [\"12\"]));\r\n}\r\n\r\nexport const initInjTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('Vehicle','injured_type_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('pedestrian', false, [\" \"]));\r\n    col.arrTypes.push(new FilterChecker('cyclist', false, [\" - \", \" -  ( )\"]));\r\n    col.arrTypes.push(new FilterChecker('motorcycle', false, [\" - \", \" -  ( )\"]));\r\n    col.arrTypes.push(new FilterChecker('wheels4+', false, [\" -   4  \", \" -   4  \"]));\r\n    col.arrTypes.push(new FilterChecker('other', false, [\" -   \", \" -   \"]));\r\n    return col;\r\n}\r\n\r\nexport const initVehicleTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('VehicleType','vehicle_vehicle_type_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('pedestrian', false, [\"null\"]));\r\n    col.arrTypes.push(new FilterChecker('mobilityscooter', false, [\" \"]));\r\n    col.arrTypes.push(new FilterChecker('bicycle', false, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('e-scooter', false, [\" \"]));\r\n    col.arrTypes.push(new FilterChecker('e-bike', false, [\" \"]));\r\n    col.arrTypes.push(new FilterChecker('motorcycle', false, [' 401+ \"',' 126  400 \"',' 51  125 \"',]));\r\n    col.arrTypes.push(new FilterChecker('car', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('taxi', false, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('bus', false, [\" \",\"\"]));\r\n    col.arrTypes.push(new FilterChecker('tranzit', false, [\"  3.5  -  ()\"]));\r\n    col.arrTypes.push(new FilterChecker('tender', false, [\"  3.5   -   ()\"]));\r\n    col.arrTypes.push(new FilterChecker('truck', false, [' 3.6  9.9 ',' 10.0  12.0 ', ' 12.1  15.9 ', ' 16.0  33.9 ',' 34.0+ ',]));\r\n    col.arrTypes.push(new FilterChecker('tractor', false, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('train', false, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('other', false, [\"  \"]));\r\n    return col;\r\n}\r\n\r\nexport const initGenderTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('Gender','sex_hebrew')\r\n    col.arrTypes.push(new FilterChecker('female', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('male', true, [\"\"]));\r\n    return col;\r\n}\r\n\r\nexport const initAgeTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('Age','age_group_hebrew', 0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('00-04', false, [\"00-04\"]));\r\n    col.arrTypes.push(new FilterChecker('05-09', false, [\"05-09\"]));\r\n    col.arrTypes.push(new FilterChecker('10-14', false, [\"10-14\"]));\r\n    col.arrTypes.push(new FilterChecker('15-19', false, [\"15-19\"]));\r\n    col.arrTypes.push(new FilterChecker('20-29', false, [\"20-24\", \"25-29\"]));\r\n    col.arrTypes.push(new FilterChecker('30-39', false, [\"30-34\", \"35-39\"]));\r\n    col.arrTypes.push(new FilterChecker('40-49', false, [\"40-44\", \"45-49\"]));\r\n    col.arrTypes.push(new FilterChecker('50-59', false, [\"50-54\", \"55-59\"]));\r\n    col.arrTypes.push(new FilterChecker('60-69', false, [\"60-64\", \"65-69\"]));\r\n    col.arrTypes.push(new FilterChecker('70-79', false, [\"70-74\", \"75-79\"]));\r\n    col.arrTypes.push(new FilterChecker('80+', false, [\"80-84\", \"85+\"]));\r\n    col.arrTypes.push(new FilterChecker('unknown', false, [\" \"]));\r\n    return col;\r\n}\r\nexport const initPopulationTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('Population','population_type_hebrew')\r\n    col.arrTypes.push(new FilterChecker('jews', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('arabs', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('immigrants', true, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('others', true, [\"\"]));\r\n    return col;\r\n}\r\n\r\nexport const initRoadTypes = () => {\r\n    const col : IColumnFilter = new ColumnFilter('RoadType','road_type_hebrew')\r\n    col.arrTypes.push(new FilterChecker('urban-junction', true, [\" \"]));\r\n    col.arrTypes.push(new FilterChecker('urban-road', true, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('non-urban-junction', true, [\"- \"]));\r\n    col.arrTypes.push(new FilterChecker('non-urban-road', true, [\"-  \"]));\r\n    return col;\r\n}\r\nexport const initSpeedLimit = () =>{\r\n    const col : IColumnFilter = new ColumnFilter('SpeedLimit','speed_limit_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('speed50', false, [' 50 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed60', false, ['60 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed70', false, ['70 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed80', false, ['80 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed90', false, ['90 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed100', false, ['100 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed110', false, ['110 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed120', false, ['120 \"']));\r\n    col.arrTypes.push(new FilterChecker('speed-unknown', false, [' ']));\r\n    return col;\r\n}\r\nexport const initRoadWidth = () =>{\r\n    const col : IColumnFilter = new ColumnFilter('RoadWidth','road_width_hebrew', 0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('road-width-5', false, [' 5 ']));\r\n    col.arrTypes.push(new FilterChecker('road-width-7', false, ['5  7 ']));\r\n    col.arrTypes.push(new FilterChecker('road-width-10', false, ['7  10.5 ']));\r\n    col.arrTypes.push(new FilterChecker('road-width-14', false, ['10.5  14 ']));\r\n    col.arrTypes.push(new FilterChecker('road-width-14+', false, [' - 14 ']));\r\n    col.arrTypes.push(new FilterChecker('unknown', false, [' ']));\r\n    return col;\r\n}\r\nexport const initSeparator = () =>{\r\n    const col : IColumnFilter = new ColumnFilter('Separator','multi_lane_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('separator-fence', false, ['   ']));\r\n    col.arrTypes.push(new FilterChecker('separator-built', false, ['    ']));\r\n    col.arrTypes.push(new FilterChecker('separator-not-built', false, ['  ']));\r\n    col.arrTypes.push(new FilterChecker('separator-paint', false, ['  ']));\r\n    col.arrTypes.push(new FilterChecker('separator-ohter', false, ['']));\r\n    col.arrTypes.push(new FilterChecker('separator-not-relevant', false, ['null']));\r\n    return col;\r\n}\r\nexport const initOneLane = () =>{\r\n    const col : IColumnFilter = new ColumnFilter('OneLane','one_lane_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('onelane-twoway-line', false, ['  +   ']));\r\n    col.arrTypes.push(new FilterChecker('onelane-twoway-noline', false, ['     ']));\r\n    col.arrTypes.push(new FilterChecker('onelane-oneway', false, [' ']));\r\n    col.arrTypes.push(new FilterChecker('onelane-unknown', false, ['   ']));\r\n    col.arrTypes.push(new FilterChecker('onelane-not-relevant', false, ['null']));\r\n    return col;\r\n}\r\nexport const initAccidentType = () => {\r\n    const col : IColumnFilter = new ColumnFilter('AccidentType','accident_type_hebrew',0)\r\n    col.arrTypes.push(new FilterChecker('all', true, []));\r\n    col.arrTypes.push(new FilterChecker('hit-ped', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-front-side', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-front-front', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-front-rear', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-side-side', false, [\"  \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-obstacle', false, [\"   \"]));\r\n    col.arrTypes.push(new FilterChecker('hit-turning-over', false, [\"\"]));\r\n    col.arrTypes.push(new FilterChecker('hit-slip', false, [\"\"]));\r\n    return col\r\n}\r\n\r\n\r\n","import { observable } from \"mobx\"\r\n\r\nexport interface IGroupBy {\r\n  text: string;\r\n  value: string;\r\n  limit: number;\r\n}\r\n\r\nexport default class GroupBy implements IGroupBy {\r\n  @observable\r\n  text: string;\r\n  value: string;\r\n  limit: number;\r\n  constructor(text: string, value: string, limit: number = 0) {\r\n    this.text = text;\r\n    this.value = value;\r\n    this.limit = limit;\r\n  }\r\n}\r\n\r\nexport const initGroupByDict = (dictGroupBy: any) => {\r\n  dictGroupBy[\"Severity\"] = new GroupBy('Severity', \"injury_severity_hebrew\")\r\n  dictGroupBy[\"TypeInjured\"] = new GroupBy('TypeInjured', \"injured_type_hebrew\");\r\n  dictGroupBy[\"Vehicle\"] = new GroupBy('Vehicle', \"vehicle_vehicle_type_hebrew\");\r\n  dictGroupBy[\"Gender\"] = new GroupBy('Gender', \"sex_hebrew\");\r\n  dictGroupBy[\"Age\"] = new GroupBy('Age', \"age_group_hebrew\");\r\n  dictGroupBy[\"Year\"] = new GroupBy('Year', \"accident_year\");\r\n  //dictGroupBy[\"Month\"] = new GroupBy('Month', \"accident_month\");\r\n  dictGroupBy[\"DayNight\"] = new GroupBy('DayNight', \"day_night_hebrew\");\r\n  dictGroupBy[\"WeekDay\"] = new GroupBy('WeekDay', \"day_in_week_hebrew\");\r\n  dictGroupBy[\"RoadType\"] = new GroupBy('RoadType', \"road_type_hebrew\");\r\n  dictGroupBy[\"City\"] = new GroupBy('City', \"accident_yishuv_name\", 10);\r\n  dictGroupBy[\"Street\"] = new GroupBy('Street', \"street1_hebrew\", 10);\r\n  dictGroupBy[\"AccidentType\"] = new GroupBy('AccidentType', \"accident_type_hebrew\");\r\n  dictGroupBy[\"SpeedLimit\"] = new GroupBy('SpeedLimit', \"speed_limit_hebrew\");\r\n  dictGroupBy[\"RoadWidth\"] = new GroupBy('RoadWidth', \"road_width_hebrew\");\r\n  dictGroupBy[\"Separator\"] = new GroupBy('Separator', \"multi_lane_hebrew\");\r\n  dictGroupBy[\"OneLane\"] = new GroupBy('OneLane', \"one_lane_hebrew\");\r\n}\r\n\r\nexport interface IGroupBy2 {\r\n  text: string;\r\n  name: string;\r\n  vals: any;\r\n}\r\nexport class GroupBy2  implements IGroupBy2 {\r\n  @observable\r\n  text:string;\r\n  name: string;\r\n  vals: any;\r\n  constructor( text:string, name: string) {\r\n    this.text =  text;\r\n    this.name = name;\r\n    this.vals = {};\r\n  }\r\n  revTrnas = (key: string) => {\r\n    let res = this.vals[key].name;\r\n    return res;\r\n  }\r\n  fixStrcutTable = (data: any[]) => {\r\n    let res = data.map((x) => {\r\n      let arr = x.count.map((y: any) => {\r\n        let engVal = this.revTrnas(y.grp2)\r\n        return ('\"' + engVal + '\":' + y.count)\r\n      }).join(',')\r\n      let xId = x._id;\r\n      if (xId !== null && xId !== undefined)\r\n        xId = xId.replace('\"', '\\\\\"')\r\n      let sObject = `{\"_id\":\"${xId}\",${arr}}`\r\n      sObject = JSON.parse(sObject)\r\n      return (sObject)\r\n    });\r\n    //console.log(res)\r\n    return res;\r\n  }\r\n  getBars = () => {\r\n    //[{key:\"male\",color:\"#8884d8\"},{key:\"female\",color:\"#82ca9d\"}]\r\n    let res = Object.entries(this.vals).map(([key, x]: any[]) => { return ({ key: x.name, color: x.color }) })\r\n    return res;\r\n  }\r\n  getColumns= () => {\r\n    let res = Object.entries(this.vals).map(([key, x]: any[]) => { return (x.name) })\r\n    res.unshift('_id')\r\n    return res;\r\n  }\r\n}\r\n\r\n\r\nexport class GroupBy2Val {\r\n  name: string;\r\n  color: string;\r\n  constructor(name: string, color: string) {\r\n    this.name = name;\r\n    this.color = color;\r\n  }\r\n}\r\n\r\nexport const initGroup2Dict = (dict: any) => {\r\n  dict[\"Severity\"] = new GroupBy2(\"Severity\",\"injury_severity_hebrew\")\r\n  dict[\"Severity\"].vals[\"\"] = new GroupBy2Val(\"dead\", \"#8884D8\")\r\n  dict[\"Severity\"].vals[\" \"] = new GroupBy2Val(\"severly-injured\", \"#82CA9D\")\r\n\r\n  dict[\"Gender\"] = new GroupBy2(\"Gender\",\"sex_hebrew\");\r\n  dict[\"Gender\"].vals[\"\"] = new GroupBy2Val(\"male\", \"#8884D8\")\r\n  dict[\"Gender\"].vals[\"\"] = new GroupBy2Val(\"female\", \"#82CA9D\")\r\n\r\n  dict[\"RoadType\"] = new GroupBy2('RoadType', \"road_type_hebrew\");\r\n  dict[\"RoadType\"].vals[\" \"] = new GroupBy2Val(\"urban-junction\", \"#559E54\")\r\n  dict[\"RoadType\"].vals[\"  \"] = new GroupBy2Val(\"urban-road\", \"#305A30\")\r\n  dict[\"RoadType\"].vals[\"- \"] = new GroupBy2Val(\"non-urban-junction\", \"#1258DC\")\r\n  dict[\"RoadType\"].vals[\"-  \"] = new GroupBy2Val(\"non-urban-road\", \"#0A337F\")\r\n\r\n \r\n  dict[\"TypeInjured\"] = new GroupBy2(\"TypeInjured\",\"injured_type_hebrew\");\r\n  dict[\"TypeInjured\"].vals[\" \"] = new GroupBy2Val(\"pedestrian\", \"#82CA9D\")\r\n  dict[\"TypeInjured\"].vals[\" - \"] = new GroupBy2Val(\"cyclist-d\", \"#559E54\")\r\n  dict[\"TypeInjured\"].vals[\" -  ( )\"] = new GroupBy2Val(\"cyclist-p\", \"#559E54\")\r\n  dict[\"TypeInjured\"].vals[\" -   \"] = new GroupBy2Val(\"inj-unknown-d\", \"#305A30\")\r\n  dict[\"TypeInjured\"].vals[\" -   \"] = new GroupBy2Val(\"inj-unknown-p\", \"#305A30\")\r\n  dict[\"TypeInjured\"].vals[\" - \"] = new GroupBy2Val(\"motorcycle-d\", \"#1258DC\")\r\n  dict[\"TypeInjured\"].vals[\" -  ( )\"] = new GroupBy2Val(\"motorcycle-p\", \"#1258DC\")\r\n  dict[\"TypeInjured\"].vals[\" -   4  \"] = new GroupBy2Val(\"wheels4+-d\", \"#0A337F\")\r\n  dict[\"TypeInjured\"].vals[\" -   4  \"] = new GroupBy2Val(\"wheels4+-p\", \"#0A337F\")\r\n}\r\n\r\n\r\n","//import * as $ from 'jquery';\r\n///////\r\nexport default class AccidentService {\r\n  //get request using jsonp\r\n\r\n}\r\n// export const getAll = (collback: (arrPoints: any[]) => void) => {\r\n//   //\"http://localhost:5000/api/v1/accident\"\r\n//   var settings = {\r\n//     \"url\": \"/api/v1/accident\",\r\n//     \"method\": \"GET\",\r\n//     \"headers\": {}\r\n//   }\r\n//   $.ajax(settings).done(function (response: any) {\r\n//     //console.log(response)\r\n//     collback(response);\r\n//   });\r\n// }\r\n\r\n// //send request using jsonp and post body - return arry of points\r\n// export const postGroupby = (filter: string, collback: (arrPoints: any[]) => void) => {\r\n//   //\"http://localhost:5000/api/v1/accident/agg\"\r\n//   var settings = {\r\n//     \"url\": \"/api/v1/accident/agg\",\r\n//     \"method\": \"POST\",\r\n//     \"headers\": {\r\n//       \"content-type\": \"application/json\"\r\n//     },\r\n//     \"processData\": false,\r\n//     \"data\": filter\r\n//   }\r\n//   $.ajax(settings).done(function (response: any[]) {\r\n//     collback(response);\r\n//   });\r\n// }\r\n// //send request using jsonp and post body - return arry of points\r\n// export const postFilter = (filter: string, collback: (arrPoints: any[]) => void) => {\r\n//   //\"http://localhost:5000/api/v1/accident\"\r\n//   var settings = {\r\n//     \"url\": \"/api/v1/accident\",\r\n//     \"method\": \"POST\",\r\n//     \"headers\": {\r\n//       \"content-type\": \"application/json\"\r\n//     },\r\n//     \"processData\": false,\r\n//     \"data\": filter\r\n//   }\r\n\r\n//   $.ajax(settings).done(function (response: any[]) {\r\n//     collback(response);\r\n//   });\r\n// }\r\nexport const fetchFilter = async (filter: string, type: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident/\" + type;\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter\r\n  });\r\n  if (!response.ok) {\r\n    return [];\r\n  }\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\nexport const fetchGroupBy = async (filter: string): Promise<Array<any> | undefined> => {\r\n  // Default options are marked with *\r\n  const url = \"/api/v1/accident/agg\"\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    mode: 'cors', // no-cors, *cors, same-origin\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: 'same-origin', // include, *same-origin, omit\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrerPolicy: 'no-referrer', // no-referrer, *client\r\n    body: filter\r\n  });\r\n  if (!response.ok) {\r\n    return [];\r\n  }\r\n  return await response.json(); // parses JSON response into native JavaScript objects\r\n}\r\n\r\n\r\n","import $ from \"jquery\";\r\n\r\n///////\r\nexport default class CityService {\r\n  //get request using jsonp\r\n  getCityByNameHe(cityName:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?name_he=\" +cityName,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n  getCitiesNames(lang:string,collback :(res:any[]) =>void ){\r\n    //\"http://localhost:5000/api/v1/city?name_he=\"\r\n    var settings = {\r\n      \"url\": \"/api/v1/city?lang=\" +lang,\r\n      \"method\": \"GET\",\r\n      \"headers\": {}\r\n    }\r\n    $.ajax(settings).done(function (response:any[]) {\r\n      //console.log(response)\r\n      collback(response);\r\n    });\r\n  }\r\n}\r\n\r\n","import Dexie from 'dexie';\r\n\r\nconst db = new Dexie('saftyData');\r\ndb.version(1).stores({\r\n    injuerd: 'id++,_id, accident_id, accident_year, accident_timestamp, sex_hebrew, accident_yishuv_name ,road_type_hebrew'\r\n});\r\n\r\nexport async function insertToDexie(data) {\r\n    //console.log(\"insertToDexie\")\r\n    //console.log(data)\r\n    await db.injuerd.bulkPut(data);\r\n    //testInsertDexie() \r\n}\r\n\r\nexport async function getFromDexie(arrFilters) {\r\n    let data;\r\n    if (arrFilters.length === 0)\r\n        data = await db.injuerd.toArray();\r\n    else {\r\n        let years = arrFilters.shift()\r\n        let collection = await db.injuerd.where(years.filterName).between(years.startYear, years.endYear, true, true);\r\n        arrFilters.forEach(element => {\r\n            collection = collection.and((function (x) {\r\n                if (element.values.length === 1)\r\n                    return x[element.filterName] === element.values[0];\r\n                else {\r\n                    let orFilter = false;\r\n                    element.values.forEach(val => orFilter = orFilter || x[element.filterName] === val);\r\n                    return orFilter\r\n                }\r\n            }))\r\n        });\r\n        data = await collection.toArray();\r\n    }\r\n    return data\r\n}\r\n\r\n\r\n\r\n// var db1 = new Dexie('hellodb');\r\n// db1.version(1).stores({\r\n//     tasks: '++id,date,description,done'\r\n// });\r\n\r\n\r\n// export async function testInsertDexie() {\r\n//     var id = await db1.tasks.put({date: Date.now(), description: 'Test Dexie', done: 0});\r\n//     console.log(\"Got id \" + id);\r\n//     // Now lets add a bunch of tasks\r\n//     await db1.tasks.bulkPut([\r\n//         {date: Date.now(), description: 'Test Dexie bulkPut()', done: 1},\r\n//         {date: Date.now(), description: 'Finish testing Dexie bulkPut()', done: 1}\r\n//     ]);\r\n// } \r\n\r\n\r\nexport default db;","import { observable, action, reaction, computed } from \"mobx\"\r\nimport i18n from \"../i18n\";\r\nimport L from 'leaflet'\r\nimport { IColumnFilter } from './FilterChecker'\r\nimport * as FC from './FilterChecker'\r\nimport * as GroupBy from './GroupBy'\r\nimport { fetchFilter, fetchGroupBy } from \"../services/Accident.Service\"\r\nimport CityService from '../services/City.Service'\r\n//import { idbSetMulti, idbFetchFilter } from '../services/Injured.idb.Service'\r\nimport { insertToDexie, getFromDexie } from '../services/Dexie.Injured.Service'\r\n//import autorun  from \"mobx\"\r\n\r\nexport default class FilterStore {\r\n  appInitialized = false\r\n  constructor() {\r\n    // init app data\r\n    this.injurySeverity = FC.initInjurySeverity()\r\n    this.dayNight = FC.initDayNight()\r\n    this.injTypes = FC.initInjTypes();\r\n    this.genderTypes = FC.initGenderTypes()\r\n    this.ageTypes = FC.initAgeTypes()\r\n    this.populationTypes = FC.initPopulationTypes()\r\n    this.accidentType = FC.initAccidentType()\r\n    this.vehicleType = FC.initVehicleTypes()\r\n    this.roadTypes = FC.initRoadTypes();\r\n    this.speedLimit = FC.initSpeedLimit()\r\n    this.roadWidth = FC.initRoadWidth();\r\n    this.separator = FC.initSeparator();\r\n    this.oneLane = FC.initOneLane();\r\n    GroupBy.initGroupByDict(this.groupByDict);\r\n    GroupBy.initGroup2Dict(this.group2Dict)\r\n    this.groupBy = this.groupByDict[\"TypeInjured\"];\r\n    this.groupBy2 = this.group2Dict[\"Gender\"];\r\n    this.appInitialized = false;\r\n  }\r\n\r\n  //////////////////////////////////////////////\r\n\r\n\r\n  // this belong to root store\r\n  @observable\r\n  language: string = \"he\"\r\n  @action\r\n  updateLanguage = (lang: string) => {\r\n    this.language = lang;\r\n  }\r\n  reactionChangeLang = reaction(\r\n    () => this.language,\r\n    locale => {\r\n      i18n.changeLanguage(locale);\r\n    }\r\n  )\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //Severity\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  injurySeverity: IColumnFilter\r\n  @action\r\n  updateInjurySeverity = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.injurySeverity, aType, val)\r\n  }\r\n  @computed get isValidSeverity() {\r\n    const res = !this.injurySeverity.isAllValsFalse;\r\n    return res;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //where\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  isMultipleCities: boolean = false;\r\n  @observable\r\n  cities: string[] = [];\r\n  @action\r\n  updateCities = (names: string[]) => {\r\n    this.cities = names;\r\n    if (this.cities.length === 0) {\r\n      this.streets = [];\r\n    }\r\n  }\r\n  @observable\r\n  cityResult: string = \"\";\r\n\r\n  @observable\r\n  streets: string[] = [];\r\n  @action\r\n  updateStreets = (names: string) => {\r\n    this.streets = names.split(',');\r\n  }\r\n  @observable\r\n  roadSegment: string[] = [];\r\n  @action\r\n  updateRoadSegment = (names: string) => {\r\n    this.roadSegment = names.split(',');\r\n  }\r\n  @observable\r\n  roadTypes: IColumnFilter;\r\n  @action\r\n  updateRoadType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.roadTypes, aType, val)\r\n  }\r\n  @computed get isValidWhere() {\r\n    const res = !this.roadTypes.isAllValsFalse;\r\n    return res;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //when\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  startYear: number = 2015;\r\n  @observable\r\n  endYear: number = 2019;\r\n  @observable\r\n  dayNight: IColumnFilter;\r\n  @action\r\n  updateDayNight = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.dayNight, aType, val)\r\n  }\r\n  @computed get isValidWhen() {\r\n    const res = !this.dayNight.isAllValsFalse;\r\n    return res;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // who\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  genderTypes: IColumnFilter\r\n  @action\r\n  updateGenderType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.genderTypes, aType, val)\r\n  }\r\n  @observable\r\n  ageTypes: IColumnFilter;\r\n  @action\r\n  updateAgeType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.ageTypes, aType, val)\r\n  }\r\n  @observable\r\n  populationTypes: IColumnFilter;\r\n  @action\r\n  updatePopulationType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.populationTypes, aType, val)\r\n  }\r\n\r\n  //injTypes\r\n  @observable\r\n  injTypes: IColumnFilter;\r\n  @action\r\n  updateInjuerdType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.injTypes, aType, val)\r\n  }\r\n  @computed get isValidWho() {\r\n    const res = !this.injTypes.isAllValsFalse && !this.genderTypes.isAllValsFalse && !this.ageTypes.isAllValsFalse && !this.populationTypes.isAllValsFalse;\r\n    return res;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  @observable\r\n  accidentType: IColumnFilter;\r\n  @action\r\n  updateAccidentType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.accidentType, aType, val)\r\n  }\r\n  @computed get isValidWhat() {\r\n    const res = !this.accidentType.isAllValsFalse;\r\n    return res;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What Vehicle\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  vehicleType: IColumnFilter;\r\n  @action\r\n  updateVehicleType = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.vehicleType, aType, val)\r\n  }\r\n  @computed get isValidWhatVehicle() {\r\n    const res = !this.vehicleType.isAllValsFalse;\r\n    return res;\r\n  }\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // What Road\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  @observable\r\n  speedLimit: IColumnFilter;\r\n  updateSpeedLimit = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.speedLimit, aType, val)\r\n  }\r\n\r\n  @observable\r\n  roadWidth: IColumnFilter;\r\n  @action\r\n  updateRoadWidth = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.roadWidth, aType, val)\r\n  }\r\n\r\n  @observable\r\n  separator: IColumnFilter;\r\n  @action\r\n  updateSeparator = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.separator, aType, val)\r\n  }\r\n\r\n  @observable\r\n  oneLane: IColumnFilter;\r\n  @action\r\n  updateOneLane = (aType: number, val: boolean) => {\r\n    this.updateFilters(this.oneLane, aType, val)\r\n  }\r\n  @computed get isValidWhatRoad() {\r\n    const res = !this.speedLimit.isAllValsFalse && !this.roadWidth.isAllValsFalse && !this.separator.isAllValsFalse && !this.oneLane.isAllValsFalse;\r\n    return res;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // data\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  dataAllInjuries: any[] = []\r\n  @action\r\n  updateAllInjuries = (data: any[]) => {\r\n    //console.log(\"updateAllInjuries \",data.length)\r\n    this.setMarkersLoadStep(2);\r\n    this.dataAllInjuries = data;\r\n    if (this.isSetBounds) {\r\n      this.mapBounds = this.setBounds(this.dataAllInjuries)\r\n      this.isSetBounds = false;\r\n    }\r\n  }\r\n\r\n  @observable\r\n  dataMarkersLean: any[] = []\r\n  @action\r\n  updateDataMarkersLean = (data: any[]) => {\r\n    //console.log(\"updateDataMarkersLean \",data.length)\r\n    this.setMarkersLoadStep(1);\r\n    this.dataMarkersLean = data;\r\n  }\r\n  @observable\r\n  dataMarkersInBounds: any[] = []\r\n  @action\r\n  updateDataMarkersInBounds = (data: any[]) => {\r\n    this.dataMarkersInBounds = data;\r\n  }\r\n\r\n  @observable\r\n  dataByYears: any[] = []\r\n  @observable\r\n  dataFilterdByYears: any[] = []\r\n  @observable\r\n  dataFilterd: any[] = []\r\n  @observable\r\n  dataGroupby2: any[] = []\r\n\r\n  @observable\r\n  isLoading: boolean = false;\r\n\r\n  @computed get isValidAllFilters() {\r\n    const res = this.isValidSeverity && this.isValidWhen && this.isValidWho && this.isValidWhere && this.isValidWhat && this.isValidWhatVehicle && this.isValidWhatRoad;\r\n    return res;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // group by\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  groupBy: GroupBy.default;\r\n  @action\r\n  updateGroupby = (key: string) => {\r\n    this.groupBy = this.groupByDict[key];\r\n    this.submitfilterdGroup(this.groupBy)\r\n    this.submitfilterdGroup2(this.groupBy, this.groupBy2.name);\r\n  }\r\n  @observable\r\n  groupByDict: any = {}\r\n\r\n  @action\r\n  submitGroupByYears = () => {\r\n    let filtermatch = this.getfilterForCityOnly();\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroupByYears = () => {\r\n    let filtermatch = this.getFilter(null);\r\n    let filter = this.getFilterGroupBy(filtermatch, \"accident_year\");\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterdByYears = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroup = (aGroupBy: GroupBy.default) => {\r\n    let filtermatch = this.getFilter(null);\r\n    let filter = this.getFilterGroupBy(filtermatch, aGroupBy.value, \"\", aGroupBy.limit);\r\n    //console.log(filter)\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined)\r\n          this.dataFilterd = data;\r\n      })\r\n  }\r\n  @action\r\n  submitfilterdGroup2 = (aGroupBy: GroupBy.default, groupName2: string) => {\r\n    let filtermatch = this.getFilter(null);\r\n    let filter = this.getFilterGroupBy(filtermatch, aGroupBy.value, groupName2, aGroupBy.limit);\r\n    //console.log(filter)\r\n    fetchGroupBy(filter)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== undefined && data.length > 0) {\r\n          let fixData = this.groupBy2.fixStrcutTable(data)\r\n          this.dataGroupby2 = fixData;\r\n        }\r\n      })\r\n  }\r\n  @observable\r\n  groupBy2: GroupBy.GroupBy2;\r\n  @action\r\n  updateGroupBy2 = (key: string) => {\r\n    this.groupBy2 = this.group2Dict[key]\r\n    this.submitfilterdGroup2(this.groupBy, this.groupBy2.name);\r\n  }\r\n  @observable\r\n  group2Dict: any = {}\r\n\r\n\r\n  getFilterGroupBy = (filterMatch: string, groupName: string, groupName2: string = \"\", limit: number = 0) => {\r\n    let filter = \"[\"\r\n      + '{\"$match\": ' + filterMatch + '}';\r\n    if (groupName2 === \"\")\r\n      filter += ',{\"$group\": { \"_id\": \"$' + groupName + '\", \"count\": { \"$sum\": 1 }}}';\r\n    else {\r\n      filter += ', { \"$match\" : { \"' + groupName2 + '\" : { \"$exists\" : true, \"$ne\" : null}}}'\r\n      let grpids = '{ \"grp1\": \"$' + groupName + '\", \"grp2\": \"$' + groupName2 + '\"}'\r\n      filter += ',{\"$group\": { \"_id\":' + grpids + ', \"count\": { \"$sum\": 1 }}}';\r\n      filter += ',{\"$group\": { \"_id\": \"$_id.grp1\" , \"count\": { \"$push\": {\"grp2\" : \"$_id.grp2\",\"count\" : \"$count\" } }}}';\r\n    }\r\n    if (limit === 0)\r\n      filter += ',{\"$sort\": {\"_id\": 1}}'\r\n    else {\r\n      filter += ',{\"$sort\": {\"count\": -1}}'\r\n        + ',{\"$limit\": ' + limit + '}'\r\n    }\r\n    filter += ']'\r\n    return filter;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // filters actions\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  @action\r\n  submitFilter = () => {\r\n    //this.setMarkersLoadStep(0);\r\n    if (this.useLocalDb === 2) {\r\n      this.submitMainDataFilterLocalDb();\r\n    }\r\n    else {\r\n      if (this.isDynamicMarkers)\r\n        this.submintGetMarkersBBox(this.mapBounds);\r\n      if (this.isUse2StepsMarkers)\r\n        this.submintGetMarkerFirstStep();\r\n      this.submintMainDataFilter();\r\n    }\r\n    this.submitCityNameAndLocation();\r\n    this.submitGroupByYears();\r\n    this.submitfilterdGroupByYears();\r\n    this.submitfilterdGroup(this.groupBy);\r\n    this.submitfilterdGroup2(this.groupBy, this.groupBy2.name);\r\n  }\r\n\r\n  submintMainDataFilter = () => {\r\n    this.isLoading = true;\r\n    let filter = this.getFilter(null);\r\n    this.updateIsSetBounds(this.cities, this.roadSegment);\r\n    //console.log(filter)\r\n    fetchFilter(filter, \"main\")\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.updateAllInjuries(data);\r\n          //write Data to local db\r\n          if (this.useLocalDb === 1)\r\n            insertToDexie(data);\r\n        }\r\n        this.isLoading = false;\r\n      })\r\n  }\r\n  submintGetMarkerFirstStep = () => {\r\n    let filter = this.getFilter(null)\r\n    fetchFilter(filter, 'latlon')\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.updateDataMarkersLean(data);\r\n        }\r\n      })\r\n  }\r\n  submintGetMarkersBBox = (mapBounds: L.LatLngBounds) => {\r\n    let filter = this.getFilter(mapBounds, true)\r\n    fetchFilter(filter, 'latlon')\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.updateDataMarkersInBounds(data);\r\n        }\r\n      })\r\n  }\r\n  submitCityNameAndLocation = () => {\r\n    if (this.cities.length >= 1) {\r\n      let city = this.cities[0];\r\n      var srvCity = new CityService();\r\n      srvCity.getCityByNameHe(city, this.updateLocation);\r\n      this.cityResult = this.cities[0];\r\n    }\r\n    else\r\n      this.cityResult = \"\";\r\n  }\r\n\r\n  getFilter = (bounds: any, useBounds: boolean = false) => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":  { \"$gte\" : \"${this.startYear}\",\"$lte\": \"${this.endYear}\"}}`;\r\n    filter += this.getMultiplefilter(this.injurySeverity)\r\n    filter += this.getfilterCity();\r\n    if (useBounds && bounds != null)\r\n      filter += this.getfilterBounds(bounds);\r\n    filter += this.getMultiplefilter(this.dayNight);\r\n    filter += this.getFilterStreets();\r\n    filter += this.getFilterFromArray(this.roadSegment, \"road_segment_name\");\r\n    filter += this.getMultiplefilter(this.injTypes)\r\n    filter += this.getMultiplefilter(this.genderTypes)\r\n    filter += this.getMultiplefilter(this.ageTypes)\r\n    filter += this.getMultiplefilter(this.populationTypes)\r\n    filter += this.getMultiplefilter(this.accidentType);\r\n    filter += this.getMultiplefilter(this.vehicleType);\r\n    filter += this.getMultiplefilter(this.roadTypes);\r\n    filter += this.getMultiplefilter(this.speedLimit);\r\n    filter += this.getMultiplefilter(this.roadWidth);\r\n    filter += this.getMultiplefilter(this.separator);\r\n    filter += this.getMultiplefilter(this.oneLane);\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n\r\n  @action\r\n  updateFilters = (colFilter: IColumnFilter, aType: number, val: boolean) => {\r\n    if (colFilter.allTypesOption === -1)\r\n      colFilter.arrTypes[aType].checked = val;\r\n    else {\r\n      if (aType === colFilter.allTypesOption) {\r\n        colFilter.arrTypes.forEach((x, index) => {\r\n          return x.checked = (index === colFilter.allTypesOption) ? val : !val;\r\n        })\r\n      }\r\n      else {\r\n        colFilter.arrTypes[colFilter.allTypesOption].checked = false;\r\n        colFilter.arrTypes[aType].checked = val;\r\n      }\r\n    }\r\n  }\r\n  getfilterBounds = (mapBounds: L.LatLngBounds) => {\r\n    let filter: string = '';\r\n    filter += `,{\"latitude\":  { \"$gte\" : \"${mapBounds.getSouth()}\",\"$lte\": \"${mapBounds.getNorth()}\"}}`;\r\n    filter += `,{\"longitude\":  { \"$gte\" : \"${mapBounds.getWest()}\",\"$lte\": \"${mapBounds.getEast()}\"}}`;\r\n    return filter;\r\n  }\r\n  getfilterForCityOnly = () => {\r\n    let filter = `{\"$and\" : [`\r\n    filter += `{\"accident_year\":{\"$gte\":\"2015\"}}`;\r\n    filter += this.getfilterCity();\r\n    filter += `]}`\r\n    return filter;\r\n  }\r\n  getfilterCity = () => {\r\n    let filter: string = '';\r\n    if (this.cities.length > 0) {\r\n      filter += `,{\"$or\": [`\r\n      filter += this.cities.map((x: string) => `{\"accident_yishuv_name\" : \"${x}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getFilterStreets = () => {\r\n    let filter: string = '';\r\n    if (this.streets.length > 0 && this.streets[0] !== \"\") {\r\n      filter += `,{\"$or\": [`\r\n      filter += this.streets.map((x: string) => `{\"street1_hebrew\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `,`\r\n      filter += this.streets.map((x: string) => `{\"street2_hebrew\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n  getFilterFromArray = (arr: string[], filterName: string) => {\r\n    let filter: string = '';\r\n    if (arr.length > 0 && arr[0] !== \"\") {\r\n      filter += `,{\"$or\": [`\r\n      filter += arr.map((x: string) => `{\"${filterName}\" : \"${x.trim()}\"}`).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  getMultiplefilter = (colFilter: IColumnFilter) => {\r\n    let filter: string = '';\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    if (colFilter.allTypesOption > -1 && colFilter.arrTypes[colFilter.allTypesOption].checked)\r\n      allChecked = true;\r\n    else {\r\n      //in case there is allTypesOption , it want be copied to arrfilter\r\n      //as it is not checked\r\n      const iterator = colFilter.arrTypes.values();\r\n      for (const filterCheck of iterator) {\r\n        if (filterCheck.checked) {\r\n          arrfilter = [...arrfilter, ...filterCheck.filters]\r\n        }\r\n        else {\r\n          allChecked = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (allChecked)\r\n      filter = '';\r\n    else {\r\n      filter += `,{\"$or\": [`\r\n      filter += arrfilter.map((x: string) => {\r\n        if (x === \"null\")\r\n          return `{\"${colFilter.dbColName}\":` + null + '}'\r\n        else {\r\n          let xSafe = x.replace('\"', '\\\\\"')\r\n          return `{\"${colFilter.dbColName}\" : \"${xSafe}\"}`\r\n        }\r\n\r\n      }\r\n      ).join(',')\r\n      filter += `]}`\r\n    }\r\n    return filter;\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // local db filters - idb using Dexie.js\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  @observable\r\n  useLocalDb = 0;\r\n\r\n  submitMainDataFilterLocalDb = () => {\r\n    this.isLoading = true;\r\n    let arrFilters = this.getFilterIDB();\r\n    this.updateIsSetBounds(this.cities, this.roadSegment);\r\n    console.log(arrFilters)\r\n    getFromDexie(arrFilters)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.updateAllInjuries(data);\r\n        }\r\n        this.isLoading = false;\r\n      })\r\n  }\r\n  submintGetMarkersBBoxIdb = (mapBounds: L.LatLngBounds) => {\r\n    let arrFilters = this.getFilterBboxIDB(mapBounds)\r\n    getFromDexie(arrFilters)\r\n      .then((data: any[] | undefined) => {\r\n        if (data !== null && data !== undefined) {\r\n          this.updateDataMarkersInBounds(data);\r\n        }\r\n      })\r\n  }\r\n\r\n\r\n  getFilterIDB = () => {\r\n    let arrFilters: any[] = []\r\n    let years = { filterName: 'accident_year', startYear: this.startYear.toString(), endYear: this.endYear.toString() }\r\n    arrFilters.push(years)\r\n    this.getfilterCityIDB(arrFilters);\r\n    this.getFilterStreetsIDB(arrFilters);\r\n    this.getMultiplefilterIDB(arrFilters, this.dayNight);\r\n    this.getFilterFromArrayIDb(arrFilters, \"road_segment_name\", this.roadSegment)\r\n    this.getMultiplefilterIDB(arrFilters, this.roadTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.injTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.genderTypes)\r\n    this.getMultiplefilterIDB(arrFilters, this.ageTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.populationTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.accidentType);\r\n    this.getMultiplefilterIDB(arrFilters, this.vehicleType);\r\n    this.getMultiplefilterIDB(arrFilters, this.roadTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.speedLimit);\r\n    this.getMultiplefilterIDB(arrFilters, this.roadWidth);\r\n    this.getMultiplefilterIDB(arrFilters, this.separator);\r\n    this.getMultiplefilterIDB(arrFilters, this.oneLane);\r\n    return arrFilters;\r\n  }\r\n  getFilterBboxIDB = (bounds: L.LatLngBounds) => {\r\n    let arrFilters: any[] = []\r\n    let bbox = { filterName: 'bbox', p1: bounds.getSouthWest, p2: bounds.getNorthEast }\r\n    arrFilters.push(bbox)\r\n    let years = { filterName: 'accident_year', startYear: this.startYear.toString(), endYear: this.endYear.toString() }\r\n    arrFilters.push(years)\r\n    this.getfilterCityIDB(arrFilters);\r\n    this.getFilterStreetsIDB(arrFilters);\r\n    this.getMultiplefilterIDB(arrFilters, this.dayNight);\r\n    this.getFilterFromArrayIDb(arrFilters, \"road_segment_name\", this.roadSegment)\r\n    this.getMultiplefilterIDB(arrFilters, this.roadTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.injTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.genderTypes)\r\n    this.getMultiplefilterIDB(arrFilters, this.ageTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.populationTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.accidentType);\r\n    this.getMultiplefilterIDB(arrFilters, this.vehicleType);\r\n    this.getMultiplefilterIDB(arrFilters, this.roadTypes);\r\n    this.getMultiplefilterIDB(arrFilters, this.speedLimit);\r\n    this.getMultiplefilterIDB(arrFilters, this.roadWidth);\r\n    this.getMultiplefilterIDB(arrFilters, this.separator);\r\n    this.getMultiplefilterIDB(arrFilters, this.oneLane);\r\n    return arrFilters;\r\n  }\r\n\r\n  getMultiplefilterIDB = (arrFilters: any[], colFilter: IColumnFilter) => {\r\n    if (colFilter.allTypesOption > -1 && colFilter.arrTypes[colFilter.allTypesOption].checked) //all\r\n      return;\r\n    let allChecked: boolean = true;\r\n    let arrfilter: string[] = [];\r\n    const iterator = colFilter.arrTypes.values();\r\n    for (const filterCheck of iterator) {\r\n      if (filterCheck.checked) {\r\n        arrfilter = [...arrfilter, ...filterCheck.filters]\r\n      }\r\n      else {\r\n        allChecked = false;\r\n      }\r\n    }\r\n    if (!allChecked) {\r\n      let filterVals = arrfilter.map((x: string) => {\r\n        if (x === \"null\")\r\n          return null;\r\n        return x;\r\n      })\r\n      let filter = { filterName: colFilter.dbColName, values: filterVals }\r\n      arrFilters.push(filter)\r\n    }\r\n  }\r\n\r\n  getfilterCityIDB = (arrFilters: any[]) => {\r\n    if (this.cities.length > 0) {\r\n      let filter = { filterName: \"accident_yishuv_name\", values: this.cities }\r\n      arrFilters.push(filter)\r\n    }\r\n  }\r\n  getFilterStreetsIDB = (arrFilters: any[]) => {\r\n    if (this.streets.length > 0 && this.streets[0] !== \"\") {\r\n      const filter1 = { filterName: \"street1_hebrew\", values: this.streets.map((x: string) => { return x.trim() }) }\r\n      arrFilters.push(filter1)\r\n      //const filter2 = { filterName: \"street2_hebrew\", values: this.streets.map((x: string) => {x.trim()}) } \r\n      //arrFilters.push(filter2)\r\n    }\r\n  }\r\n  getFilterFromArrayIDb = (arrFilters: any[], filterName: string, arr: string[]) => {\r\n    if (arr.length > 0 && arr[0] !== \"\") {\r\n      let filter = { filterName: filterName, values: arr.map((x: string) => { return x.trim() }) }\r\n      arrFilters.push(filter)\r\n    }\r\n  }\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // map store\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  //this belong to mapstore! need to move\r\n  @observable\r\n  isReadyToRenderMap: boolean = false;\r\n  @observable\r\n  isDynamicMarkers: boolean = false;\r\n  @observable\r\n  isUse2StepsMarkers: boolean = true;\r\n  @observable\r\n  markersLoadStep: number = 1;\r\n  @action\r\n  setMarkersLoadStep = (step: number) => {\r\n    if (this.isUse2StepsMarkers)\r\n      this.markersLoadStep = step;\r\n  }\r\n\r\n\r\n  @observable\r\n  mapCenter: L.LatLng = new L.LatLng(32.08, 34.83)\r\n\r\n  @observable\r\n  mapBounds: L.LatLngBounds = L.latLngBounds(INIT_BOUNDS);\r\n  @action\r\n  initBounds = () => {\r\n    this.mapBounds = L.latLngBounds(INIT_BOUNDS)\r\n    console.log(this.mapBounds)\r\n  }\r\n\r\n  @observable\r\n  isSetBounds: boolean = false;\r\n  @action\r\n  updateIsSetBounds = (citisArr: any[], roadSegArr: any[]) => {\r\n    if (citisArr.length > 0 && citisArr[0] !== \"\")\r\n      this.isSetBounds = true;\r\n    else if (roadSegArr.length > 0 && roadSegArr[0] !== \"\")\r\n      this.isSetBounds = true;\r\n  }\r\n\r\n\r\n  @action\r\n  updateLocation = (res: any[]) => {\r\n    if (res !== null && res.length > 0) {\r\n      let city = res[0];\r\n      if (city.lat !== null && city.lon !== null)\r\n        this.mapCenter = new L.LatLng(city.lat, city.lon);\r\n    }\r\n  }\r\n\r\n  @observable\r\n  heatLayerHidden: boolean = true;\r\n  @action\r\n  toggleHeatLayer = () => {\r\n    this.heatLayerHidden = !this.heatLayerHidden;\r\n  }\r\n\r\n\r\n  @action\r\n  setBounds = (data: any[]) => {\r\n    console.log(\"setBounds!\")\r\n    let arr: L.LatLng[] = [];\r\n    let lastPoint: L.LatLng = L.latLng(0, 0);\r\n    data.forEach(x => {\r\n      if (x.latitude !== null && x.longitude !== null) {\r\n        let p = new L.LatLng(x.latitude, x.longitude);\r\n        if ((lastPoint.lat === 0 && lastPoint.lng === 0) || x.latitude !== lastPoint.lat || x.longitude !== lastPoint.lng) {\r\n          arr.push(p)\r\n          //prevent insertion of duplicate same point\r\n          lastPoint = p;\r\n        }\r\n      }\r\n    });\r\n    //bounds for single point\r\n    if (arr.length === 1) {\r\n      arr.length = 0; //clean tha array\r\n      arr.push(L.latLng(lastPoint.lat + 0.01, lastPoint.lng + 0.01))\r\n      arr.push(L.latLng(lastPoint.lat - 0.01, lastPoint.lng - 0.01))\r\n    }\r\n    //in case no lat/lon info \r\n    if (arr.length < 2)\r\n      arr = DEFAULT_BOUNDS;\r\n    const bounds = L.latLngBounds(arr)\r\n    return bounds;\r\n  }\r\n\r\n}\r\nconst INIT_BOUNDS = [L.latLng(32.032, 34.739), L.latLng(32.115, 34.949)];\r\nconst DEFAULT_BOUNDS = [\r\n  L.latLng(29.50, 34.22),     // most possible south-west point\r\n  L.latLng(33.271, 35.946),   // most possible north-east point\r\n];\r\n\r\n\r\n\r\n\r\n\r\n\r\n// autorun(() =>{\r\n//     console.log(store.todos[0])\r\n//     console.log(store.filter)\r\n// })\r\n\r\n//export default store","// https://mobx-react.js.org/recipes-context\r\n\r\nimport React from 'react'\r\nimport FilterStore from './FilterStore';\r\n\r\nexport const store = new FilterStore();\r\nexport const StoreContext = React.createContext(store);\r\n\r\nexport const useStore = (): FilterStore => {\r\n  const store = React.useContext(StoreContext);\r\n  if (!store) {\r\n    // this is especially useful in TypeScript so you don't need to be checking for null all the time\r\n    throw new Error('You have forgot to use StoreProvider, shame on you.')\r\n  }\r\n  return store\r\n};\r\n\r\n/* // see: https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\r\nif(process.env.NODE_ENV !== 'production') {\r\n  // @ts-ignore\r\n  window['store'] = store;\r\n} */\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n// @ts-ignore\r\nimport { Typeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\nexport const CitySelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Group controlId=\"exampleForm.ControlCity\">\r\n            <Form.Label className=\"filterLable\">{t('City')}:</Form.Label>\r\n            <Typeahead\r\n                id=\"typeaheadCity\"\r\n                //defaultSelected={[store.city]}\r\n                onChange={(selected: string[]) => {\r\n                    store.updateCities(selected); \r\n                }}\r\n                options={citisNamesHeb}\r\n                multiple= {isMultiple}\r\n                selected={store.cities}\r\n                placeholder={t('ChooseCity')}\r\n            />\r\n        </Form.Group>\r\n    )\r\n})","\r\nimport React, {ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\nexport const StreetSelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    if (store.cities.length >0){\r\n        return (\r\n            <Form.Group controlId=\"exampleForm.ControlStreet\">\r\n                <Form.Label className=\"filterLable\">{t('Street')}:</Form.Label>\r\n                <Form.Control type=\"input\" placeholder=\"\" value={store.streets.toString()} onChange={(e:ChangeEvent<HTMLInputElement>) => {store.updateStreets(e.target.value);}}/>\r\n            </Form.Group>\r\n       \r\n        )\r\n    }\r\n    else return null;\r\n})","\r\nimport React, {ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps {\r\n    isMultiple?: boolean\r\n}\r\n\r\nexport const RoadSegmentSelector: React.FC<IProps> = observer(({ isMultiple = false}) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const {cities, roadSegment, updateRoadSegment} = store;\r\n    if (cities.length === 0){\r\n        return (\r\n            <Form.Group controlId=\"exampleForm.ControlRoadSegment\">\r\n                <Form.Label className=\"filterLable\">{t('RoadSegment')}:</Form.Label>\r\n                <Form.Control type=\"input\" placeholder=\"\" value={roadSegment.toString()} onChange={(e:ChangeEvent<HTMLInputElement>) => {updateRoadSegment(e.target.value);}}/>\r\n            </Form.Group>\r\n       \r\n        )\r\n    }\r\n    else return null;\r\n})","\r\nimport React,{ ChangeEvent} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\ninterface IProps {\r\n    label: string,\r\n    group: string,\r\n    id:number,\r\n    checked: boolean,\r\n    onChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n  }\r\nexport const Checkbox: React.FC<IProps> = ({group,label,id,checked,onChange}) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Form.Check inline label={t(label)} type={'checkbox'} id={`cbox`+group+id} checked={checked} onChange={onChange} />\r\n    )\r\n}","\r\nimport React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { Checkbox } from '../atoms/Checkbox';\r\nimport { IColumnFilter } from '../../stores/FilterChecker'\r\n\r\ninterface IProps {\r\n  formName: string,\r\n  colFilter : IColumnFilter,\r\n  onChange: (aType: number, val: boolean) => void\r\n}\r\n\r\nexport const GroupCheckbox: React.FC<IProps> = observer(({ formName, colFilter ,onChange}) => {\r\n  const styleFeedback = {\r\n    marginTop: '.25rem',\r\n    fontSize: '80%',\r\n    color: '#dc3545'\r\n  };\r\n  const { t } = useTranslation();\r\n  const {isAllValsFalse, name, arrTypes} = colFilter;\r\n  const onGroupChange = (aType: number, checked: boolean) => {\r\n    //checkValid(checked)\r\n    onChange(aType, checked);\r\n  }\r\n  const feedback = <div style={styleFeedback}> {t('check_one_checkbox')}</div>\r\n  const isvalid = (isAllValsFalse) ? feedback : null;\r\n\r\n  return (\r\n    <Form.Group controlId={formName + \".Control\" + name} >\r\n      <Form.Label className=\"filterLable\">{t(name)}:</Form.Label>\r\n      {arrTypes.map((fChecker, index) => (\r\n        <Checkbox key={index} label={fChecker.label} group={colFilter.name} id={index} checked={fChecker.checked} onChange={(e: ChangeEvent<HTMLInputElement>) => { onGroupChange(index, e.target.checked); }} />\r\n      ))}\r\n      {isvalid}\r\n    </Form.Group>\r\n  )\r\n})\r\n\r\n","import React, { ChangeEvent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col'\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card';\r\n// @ts-ignore\r\nimport { CitySelector } from '../molecules/CitySelector';\r\nimport { StreetSelector } from '../molecules/StreetSelector'\r\nimport { RoadSegmentSelector } from '../molecules/RoadSegmentSelector'\r\nimport { GroupCheckbox } from '../molecules/GroupCheckBox';\r\nimport { useStore } from '../../stores/storeConfig';\r\n\r\ninterface IProps {\r\n  activeCardKey: number\r\n}\r\nconst STYLE_TOGGLE_WARNING = {\r\n  color: '#dc3545'\r\n};\r\nconst STYLE_TOGGLE_NORMAL = {\r\n  color: '#007bff'\r\n};\r\n\r\nexport const FilterRequest: React.FC<IProps> = observer(({ activeCardKey = 0 }) => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  return (\r\n    <Form>\r\n      <Accordion defaultActiveKey={activeCardKey.toString()}>\r\n        <CardFilterWhen />\r\n        <CardFilterWhere />\r\n        <CardFilterWho />\r\n        <CardFilterWhat />\r\n        <CardFilterWhatVehicle />\r\n        <CardFilterWhatRoad />\r\n      </Accordion>\r\n      <GroupCheckbox formName=\"exampleForm\" colFilter={store.injurySeverity} onChange={store.updateInjurySeverity} />\r\n      <Button variant=\"primary\"\r\n        disabled={store.isLoading || !store.isValidAllFilters}\r\n        onClick={() => { store.submitFilter(); }} >{store.isLoading ? t('Loading') : t('Submit')} </Button>\r\n    </Form>\r\n  );\r\n})\r\n\r\n\r\nconst CardFilterWhen = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWhen } = store;\r\n  const styleToggle = isValidWhen ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\" style={styleToggle}>\r\n          {t('When')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"0\" className=\"filterControls\">\r\n        <Card.Body>\r\n          <div>\r\n            <Form.Row>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectStartYear\">\r\n                <Form.Label className=\"filterLable\"> {t('FromYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.startYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.startYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n              <Form.Group as={Col} controlId=\"exampleForm.ControlSelectEndYear\">\r\n                <Form.Label className=\"filterLable\"> {t('ToYear')}:</Form.Label>\r\n                <Form.Control as=\"select\" defaultValue={store.endYear} onChange={(e: ChangeEvent<HTMLInputElement>) => { store.endYear = parseInt(e.target.value); }}>\r\n                  <option>2015</option>\r\n                  <option>2016</option>\r\n                  <option>2017</option>\r\n                  <option>2018</option>\r\n                  <option>2019</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <GroupCheckbox formName=\"exampleForm\" colFilter={store.dayNight} onChange={store.updateDayNight} />\r\n          </div>\r\n        </Card.Body>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhere = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWhere } = store;\r\n  const styleToggle = isValidWhere ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\" style={styleToggle}>\r\n          {t('Where')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"1\" className=\"filterControls\">\r\n        <div>\r\n          <CitySelector isMultiple={store.isMultipleCities} />\r\n          <StreetSelector />\r\n          <RoadSegmentSelector />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.roadTypes} onChange={store.updateRoadType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWho = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWho } = store\r\n  const styleToggle = isValidWho ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\" style={styleToggle} >\r\n          {t('Who')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"2\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.injTypes} onChange={store.updateInjuerdType} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.genderTypes} onChange={store.updateGenderType} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.ageTypes} onChange={store.updateAgeType} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.populationTypes} onChange={store.updatePopulationType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\nconst CardFilterWhat = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWhat } = store;\r\n  const styleToggle = isValidWhat ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\" style={styleToggle}>\r\n          {t('What')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"3\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.accidentType} onChange={store.updateAccidentType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n\r\nconst CardFilterWhatVehicle = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWhatVehicle } = store;\r\n  const styleToggle = isValidWhatVehicle ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\" style={styleToggle}>\r\n          {t('WhatVehicle')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"4\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.vehicleType} onChange={store.updateVehicleType} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})\r\n\r\nconst CardFilterWhatRoad = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  const { isValidWhatRoad } = store;\r\n  const styleToggle = isValidWhatRoad ? STYLE_TOGGLE_NORMAL : STYLE_TOGGLE_WARNING;\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\" style={styleToggle}>\r\n          {t('WhatRoad')}\r\n        </Accordion.Toggle>\r\n      </Card.Header>\r\n      <Accordion.Collapse eventKey=\"5\" className=\"filterControls\">\r\n        <div>\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.speedLimit} onChange={store.updateSpeedLimit} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.roadWidth} onChange={store.updateRoadWidth} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.separator} onChange={store.updateSeparator} />\r\n          <GroupCheckbox formName=\"exampleForm\" colFilter={store.oneLane} onChange={store.updateOneLane} />\r\n        </div>\r\n      </Accordion.Collapse>\r\n    </Card>\r\n  );\r\n})","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport { FilterRequest } from './FilterRequest';\r\n\r\ninterface IProps {\r\n    activeCardKey?:number \r\n  }\r\n\r\nexport const FilterPanel:React.FC<IProps>=  ({activeCardKey=0}) => {\r\n    const [open, setOpen] = useState(true);\r\n    const { t } = useTranslation();\r\n    return (\r\n        <>\r\n            <Button onClick={() => { setOpen(!open); }} aria-controls=\"example-collapse-text\" aria-expanded={open}>\r\n             {t('Filter Options')} \r\n            </Button>\r\n            <Collapse in={open}>\r\n                <div id=\"example-collapse-text\">\r\n                    <FilterRequest activeCardKey={activeCardKey}/>\r\n                </div>\r\n            </Collapse>\r\n        </>\r\n    );\r\n}\r\n\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Popup } from 'react-leaflet'\r\n\r\ninterface IProps {\r\n    data: any,\r\n    language: string\r\n}\r\n\r\nconst AccidentsPopUp: React.FC<IProps> = (({ data: x, language }) => {\r\n    const pStyle = {\r\n        color: \"#004ba0\"\r\n    };\r\n    const { t } = useTranslation();\r\n    if (x.injured_type_hebrew !== undefined){\r\n        return (\r\n            <Popup>\r\n                <div className={'text' + language}>\r\n                    <div><span style={pStyle}>{t('When')}:</span> {x.accident_timestamp}, {x.day_in_week_hebrew}, {x.day_night_hebrew}</div>\r\n                    <div><span style={pStyle}>{t('Who')}:</span> {x.injured_type_hebrew}, {x.injury_severity_hebrew}, {x.vehicle_vehicle_type_hebrew ? x.vehicle_vehicle_type_hebrew + \", \" : \"\"} {x.sex_hebrew}, {x.age_group_hebrew}, {x.population_type_hebrew}</div>\r\n                    <div><span style={pStyle}>{t('Where')}:</span> {x.accident_yishuv_name ? x.accident_yishuv_name + \", \" : \"\"}{x.street1_hebrew ? x.street1_hebrew + \", \" : \"\"}{x.street2_hebrew ? x.street2_hebrew + \", \" : \"\"}{x.road_segment_name ? x.road_segment_name + \", \" : \"\"}{x.road_type_hebrew}</div>\r\n                    <div><span style={pStyle}>{t('What')}:</span> {x.accident_type_hebrew}</div>\r\n                    <div><span style={pStyle}>{t('WhatRoad')}:</span> {x.speed_limit_hebrew ? x.speed_limit_hebrew + \", \" : \"\"}{x.multi_lane_hebrew ? x.multi_lane_hebrew + \", \" : \"\"}{x.one_lane_hebrew ? x.one_lane_hebrew + \", \" : \"\"}{x.road_width_hebrew ? x.road_width_hebrew + \", \" : \"\"}</div>\r\n                </div>\r\n            </Popup>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\nexport default AccidentsPopUp","import React from 'react'\r\nimport L from 'leaflet'\r\nimport { Marker} from 'react-leaflet'\r\nimport AccidentPopUp from '../atoms/AccidentPopUp'\r\nimport redMarker from '../../assets/marker-icon-2x-red.png'\r\nimport orangeMarker from '../../assets/marker-icon-2x-orange2.png'\r\nimport shadoMarker from '../../assets/marker-shadow.png'\r\n\r\ninterface IProps {\r\n    data: any,\r\n    language: string\r\n}\r\nconst lIconSizes = { iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], shadowSize: [41, 41] }\r\n//const mIconSizes = { iconSize: [19, 31], iconAnchor: [9, 31], popupAnchor: [1, -25], shadowSize: [31, 31] }\r\nconst iconSize = lIconSizes;\r\nconst RED_ICON = new L.Icon({\r\n    iconUrl: redMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: L.point(iconSize.iconSize[0], iconSize.iconSize[1]),\r\n    iconAnchor: L.point(iconSize.iconAnchor[0], iconSize.iconAnchor[1]),\r\n    popupAnchor: L.point(iconSize.popupAnchor[0], iconSize.popupAnchor[1]),\r\n    shadowSize: L.point(iconSize.shadowSize[0], iconSize.shadowSize[1]),\r\n});\r\nconst ORANGE_ICON = new L.Icon({\r\n    iconUrl: orangeMarker,\r\n    shadowUrl: shadoMarker,\r\n    iconSize: L.point(iconSize.iconSize[0], iconSize.iconSize[1]),\r\n    iconAnchor: L.point(iconSize.iconAnchor[0], iconSize.iconAnchor[1]),\r\n    popupAnchor: L.point(iconSize.popupAnchor[0], iconSize.popupAnchor[1]),\r\n    shadowSize: L.point(iconSize.shadowSize[0], iconSize.shadowSize[1]),\r\n});\r\n\r\nconst AccidentsMarker: React.FC<IProps> = (({ data, language }) => {\r\n    const lPoint: L.LatLng = new L.LatLng(data.latitude, data.longitude);\r\n    const icon: L.Icon = setIconBySeverity(data.injury_severity_hebrew)\r\n    //console.log(data.latitude)\r\n    return (<Marker position={lPoint} icon={icon}>\r\n        <AccidentPopUp data={data} language={language} />\r\n    </Marker>)\r\n})\r\n\r\nconst setIconBySeverity = (severity: string) => {\r\n    if (severity === \"\")\r\n        return RED_ICON;\r\n    else // (severity === \"\")    \r\n        return ORANGE_ICON;\r\n}\r\n\r\nexport default AccidentsMarker","import React, { FunctionComponent } from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n//import L from 'leaflet'\r\nimport AccidentsMarker from '../molecules/AccidentsMarker'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\nconst AccidentsMarkers: FunctionComponent<IProps> = observer(() => {\r\n  const store = useStore();\r\n  const { isDynamicMarkers, isUse2StepsMarkers, markersLoadStep , language } = store\r\n  let markers;\r\n  let reactMarkers;\r\n  if (isDynamicMarkers)\r\n    reactMarkers = toJS(store.dataMarkersInBounds);\r\n  else if (isUse2StepsMarkers && markersLoadStep ===1){\r\n    reactMarkers = toJS(store.dataMarkersLean);\r\n    //console.log(\"lean Markers \", reactMarkers.length, markersLoadStep)\r\n  }\r\n  else {\r\n    reactMarkers = toJS(store.dataAllInjuries);\r\n    //console.log(\"Main Markers \", reactMarkers.length, markersLoadStep)\r\n  }  \r\n  //console.log(\"reactMarkers \", reactMarkers.length, markersLoadStep)\r\n  markers =  reactMarkers.map((x: any) => {\r\n    if (x.latitude !== null && x.longitude !== null) {\r\n      return <AccidentsMarker data={x} language={language} key={`marker-${x._id}`} />\r\n    }\r\n    else return null;\r\n  });\r\n//   const updateMarkers = (() => {\r\n//     //console.log(\"updateMarkers\")\r\n//     if (store.isDynamicMarkers) {\r\n//       const b = mapRef.current.leafletElement.getBounds()\r\n//       store.submintGetMarkersBBox(b);\r\n//     }\r\n//   })\r\n  return (\r\n      <div>\r\n        {markers}\r\n    </div>\r\n  )\r\n})\r\nexport default AccidentsMarkers\r\n","import React, { FunctionComponent } from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n//import L from 'leaflet'\r\nimport { useStore } from '../../stores/storeConfig'\r\n// @ts-ignore\r\nimport HeatmapLayer from 'react-leaflet-heatmap-layer';\r\n\r\ninterface IProps {\r\n  fitBoundsOnUpdate?: boolean\r\n}\r\n\r\nconst AccidentHeatLayer: FunctionComponent<IProps> = observer(({ fitBoundsOnUpdate = false }) => {\r\n  const store = useStore();\r\n  const { isDynamicMarkers, isUse2StepsMarkers } = store\r\n  let reactMarkers;\r\n  if (isDynamicMarkers)\r\n    reactMarkers = toJS(store.dataMarkersInBounds);\r\n  else if (isUse2StepsMarkers) {\r\n    reactMarkers = toJS(store.dataMarkersLean);\r\n  }\r\n  else {\r\n    reactMarkers = toJS(store.dataAllInjuries);\r\n  }\r\n  //console.log(\"reactMarkers \", reactMarkers.length)\r\n  let newArr: any[] = reactMarkers.map(x => [x.latitude, x.longitude, x._id])\r\n  return (\r\n    <HeatmapLayer\r\n      fitBoundsOnLoad={fitBoundsOnUpdate}\r\n      fitBoundsOnUpdate={fitBoundsOnUpdate}\r\n      points={newArr}\r\n      longitudeExtractor={(m: any) => m[1]}\r\n      latitudeExtractor={(m: any) => m[0]}\r\n      intensityExtractor={(m: any) => parseFloat(m[2])} />\r\n  )\r\n})\r\nexport default AccidentHeatLayer\r\n\r\n\r\n\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\ninterface IProps {\r\n    isLoading: boolean,\r\n    isHeatMapHidden: boolean,\r\n    onClick: () => any\r\n}\r\nconst ButtonTuggleHeatLayer: React.FC<IProps> = ({ isLoading, isHeatMapHidden, onClick }) => {\r\n    const { t } = useTranslation();\r\n    return (\r\n        <Button variant=\"primary\"\r\n            disabled={isLoading}\r\n            onClick={() => { onClick() }} >{isHeatMapHidden ? t('HeatMap') : t('Markers')}\r\n        </Button>\r\n    )\r\n}\r\nexport default ButtonTuggleHeatLayer;","import React, { FunctionComponent, useRef, useEffect } from 'react'\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\n//import L from 'leaflet'\r\nimport { Map, TileLayer } from 'react-leaflet'\r\nimport AccidentsMarkers from '../molecules/AccidentsMarkers'\r\nimport AccidentHeatLayer from '../molecules/AccidentHeatLayer'\r\nimport ButtonTuggleHeatLayer from '../atoms/ButtonTuggleHeatLayer'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport 'leaflet-css'\r\n\r\ninterface IProps { }\r\nconst MapAccidents: FunctionComponent<IProps> = observer(() => {\r\n  const mapRef = useRef<any>();\r\n  const store = useStore();\r\n  const {heatLayerHidden, mapBounds, mapCenter} = store\r\n  const reactMapCenter = toJS(mapCenter);\r\n  const WRAPPER_STYLES = { height: '80vh', width: '100vw', maxWidth: '100%' };\r\n\r\n  const markers = heatLayerHidden && <AccidentsMarkers/>\r\n  const  heatLayer = !heatLayerHidden && <AccidentHeatLayer />\r\n\r\n  const didMountRef = useRef(false)\r\n  useEffect(() => {\r\n    if (didMountRef.current) {\r\n      if (mapRef.current) {\r\n        //mapRef.current  = true - like componentDidUpdate\r\n        //invalidateSize - leaflet map rendered has a bug parent tab not active\r\n        //this event is fierd when parent tab is shown - help render map \r\n        mapRef.current.leafletElement.invalidateSize(false);\r\n      }\r\n    }\r\n    else didMountRef.current = true\r\n    //prevent zoom  0 bug \r\n    const zoom = mapRef.current.leafletElement.getZoom();\r\n    if (zoom === 0)\r\n       mapRef.current.leafletElement.setZoom(13);\r\n  })\r\n  const updateMarkers = (() => {\r\n    //console.log(\"updateMarkers\")\r\n    if (store.isDynamicMarkers) {\r\n      const b = mapRef.current.leafletElement.getBounds()\r\n      store.submintGetMarkersBBox(b);\r\n    }\r\n  })\r\n  return (\r\n    <div>\r\n      <Map ref={mapRef}\r\n        center={reactMapCenter}\r\n        zoom={13}\r\n        bounds={mapBounds}\r\n        style={WRAPPER_STYLES}\r\n        onmoveend={updateMarkers}\r\n      >\r\n        {heatLayer}\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n        {markers}\r\n      </Map>\r\n      <ButtonTuggleHeatLayer isLoading={store.isLoading} isHeatMapHidden={store.heatLayerHidden} onClick={store.toggleHeatLayer} />\r\n      {store.isReadyToRenderMap ? \"\" : \"\"}\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n\r\nexport default MapAccidents\r\n","\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n\r\ninterface IProps {\r\n    length:number,\r\n    name?: string\r\n  }\r\nexport const CasualtiesSumLabel: React.FC<IProps> = ({length,name}) => {\r\n    const { t } = useTranslation();\r\n    const nameSpan = name ? name +\"- \" : \"\" \r\n    if (length > 0) {\r\n        return (\r\n        <h4>{nameSpan}{t('Found')} {length} {t('Casualties')} </h4>\r\n        )\r\n    }\r\n    else return (\r\n        <h4>{t('NoResultsFound')}</h4>\r\n    )\r\n}\r\n","import React ,{useState} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { toJS } from 'mobx'\r\nimport { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\n// @ts-ignore\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n// @ts-ignore\r\nimport ToolkitProvider, { CSVExport } from 'react-bootstrap-table2-toolkit';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\nimport 'react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min.css';\r\nimport {CasualtiesSumLabel} from '../atoms/CasualtiesSumLabel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const AccidentsTable = observer((props: IProps) => {\r\n    const store = useStore();\r\n    const { t } = useTranslation();\r\n    const divStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n      };\r\n    const reactMarkers = toJS(store.dataAllInjuries)\r\n    const { ExportCSVButton } = CSVExport;\r\n    const [columns, setColumns] = useState(getColumnsByWidth(window.innerWidth, t));\r\n    React.useEffect(() => {\r\n        function handleResize() {\r\n            const cols = getColumnsByWidth(window.innerWidth, t);\r\n            setColumns(cols)\r\n        }\r\n        window.addEventListener('resize', handleResize)\r\n        return (() => { window.removeEventListener('resize', handleResize) })\r\n    })\r\n    if (reactMarkers.length > 0) {\r\n        return (<div>\r\n            <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/>\r\n            <ToolkitProvider\r\n                keyField=\"id\"\r\n                data={reactMarkers}\r\n                columns={columns}\r\n                exportCSV\r\n            >\r\n                {\r\n                    (props: any) => (\r\n                        <div>\r\n                            <BootstrapTable {...props.baseProps} pagination={ paginationFactory()}  headerClasses=\"table-header\"/>\r\n                            <hr />\r\n                            <div style={divStyle}>\r\n                            <ExportCSVButton className=\"button-sm\" {...props.csvProps}>{t('export-to-csv')}</ExportCSVButton>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            </ToolkitProvider>\r\n        </div>\r\n        )\r\n    }\r\n    else return (  \r\n        <CasualtiesSumLabel length={reactMarkers.length} name={store.cityResult}/> \r\n    );\r\n})\r\n\r\nconst getColumnsByWidth =( width: number, t: any) => {\r\n    const columns1 = [{\r\n        dataField: '_id',\r\n        text: 'ID',\r\n        hidden: true\r\n    }, {\r\n        dataField: 'accident_year',\r\n        text: t('Year'),\r\n        sort: true\r\n    },  {\r\n        dataField: 'injury_severity_hebrew',\r\n        text: t('Severity'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'injured_type_hebrew',\r\n        text: t('TypeInjured'),\r\n        sort: true\r\n    }];\r\n    const colCity = {\r\n        dataField: 'accident_yishuv_name',\r\n        text: t('City'),\r\n        sort: true\r\n    };\r\n    const colStreet ={\r\n        dataField: 'street1_hebrew',\r\n        text: t('Street'),\r\n        sort: true\r\n    };\r\n    const columns3 = [{\r\n        dataField: 'vehicle_vehicle_type_hebrew',\r\n        text: t('Vehicle'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'accident_type_hebrew',\r\n        text: t('AccidentType'),\r\n        sort: true\r\n    }];\r\n    const columns4 = [ {   \r\n        dataField: 'age_group_hebrew',\r\n        text: t('Age'),\r\n        sort: true\r\n    }, {\r\n        dataField: 'sex_hebrew',\r\n        text: t('Gender'),\r\n        sort: true\r\n    }];\r\n\r\n    let columns = columns1;\r\n    if (width > 500)\r\n        columns.splice( 2, 0, colCity);\r\n    if (width > 700)\r\n        columns.splice( 3, 0, colStreet);\r\n    if (width > 900)\r\n        columns = columns.concat(columns3);\r\n    columns = columns.concat(columns4);\r\n    return columns;\r\n}","import React from 'react'\r\nimport Card from 'react-bootstrap/Card';\r\n\r\ninterface IProps {\r\n    title?: string,\r\n    styleType?: number\r\n    width?: number\r\n}\r\nexport const SmallCard: React.FC<IProps> = ({ title, styleType = 0, width = 0, children }) => {\r\n    const styleWidth: any[] = [\r\n        '15rem', '20rem', '25rem', '40rem'\r\n    ];\r\n    let styleCard: any =\r\n    {\r\n        borderRadius: '5px',\r\n        padding: '5px',\r\n        margin: '7px'\r\n    };\r\n    let aHeder = title ? <Card.Header>{title}</Card.Header> : \"\";\r\n    if (width > 0)\r\n        styleCard.width = width\r\n    else\r\n        styleCard.width = styleWidth[styleType]\r\n    return (\r\n        <Card style={styleCard}>\r\n            {aHeder}\r\n            {children}\r\n        </Card>\r\n    )\r\n}","import React, { ChangeEvent, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps { \r\n    id:string ,\r\n    labelText?:string,\r\n}\r\n\r\nexport const SelectGroupBy: React.FC<IProps> = observer(({id, labelText='GroupBy'}) => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const {groupByDict, groupBy, updateGroupby} = store;\r\n    const lable= (labelText !== '')? <Form.Label className=\"filterLable\"> {t(labelText)}:</Form.Label>:null;\r\n    const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n        updateGroupby(event.target.value)\r\n      }, [updateGroupby]);\r\n      \r\n    return (\r\n        <Form className=\"form-inline\">\r\n            <Form.Group controlId={`GrupForm.${id}.SelectGroupBy`}>\r\n                {lable}\r\n                <Form.Control as=\"select\" value={groupBy.text}\r\n                    onChange={onSelectChange}\r\n                    >\r\n                    { Object.entries(groupByDict).map(([key,x]:any[])=>{\r\n                         return (<option value={x.text} key={key}>{t(x.text)}</option>)\r\n                    })}\r\n                </Form.Control>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n\r\n})\r\n","import React, { ChangeEvent, useCallback } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Form from 'react-bootstrap/Form';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps { id:string}\r\n\r\nexport const SelectGroupBy2: React.FC<IProps> = observer(({id}) => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const {group2Dict, groupBy2, updateGroupBy2} = store;\r\n    const onSelectChange = useCallback((event: ChangeEvent<HTMLInputElement>) => {\r\n        updateGroupBy2(event.target.value)\r\n      }, [updateGroupBy2]);  \r\n    return (\r\n        <Form className=\"form-inline\">\r\n            <Form.Group controlId={`GrupForm.${id}.SelectGroupBy2`}>\r\n                {/* <Form.Label className=\"filterLable\"> {t('GroupBy')}:</Form.Label> */}\r\n                <Form.Control as=\"select\" value={groupBy2.text}\r\n                    onChange={onSelectChange}\r\n                    >\r\n                    { Object.entries(group2Dict).map(([key,x]:any[])=>{\r\n                         return (<option value={x.text} key={key}>{t(x.text)}</option>)\r\n                    })}\r\n                </Form.Control>\r\n            </Form.Group>\r\n        </Form>\r\n    )\r\n\r\n})\r\n","import React from 'react';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\r\n} from 'recharts';\r\nimport { observer } from \"mobx-react\"\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// const data = [\r\n//   { name: 'Page A', uv: 4000, pv: 2400, amt: 2400,},\r\n//   { name: 'Page B', uv: 3000, pv: 1398, amt: 2210,},\r\n//   { name: 'Page C', uv: 2000, pv: 9800, amt: 2290,},\r\n// ];\r\n\r\ninterface IProps {\r\n  data :readonly any[]\r\n  bars ?: any \r\n  width? : number\r\n  height? : number,\r\n  fill? : string, \r\n  legendType? : string\r\n}\r\n\r\nconst MyBarChart:React.FC<IProps>=  observer(({data,bars, width=390, height=350, fill=\"#8884d8\",legendType=\"null\"}) => {\r\n  const { t } = useTranslation();\r\n  let colName = t('Casualties');\r\n  if (bars === undefined){\r\n    bars = <Bar dataKey=\"count\" name={colName} fill={fill} />\r\n  }\r\n  else\r\n  {\r\n    bars = bars.map((x:any)=>{\r\n      let aName = t(x.key)\r\n      return(<Bar key={`bar-${x.key}`} dataKey={x.key} name={aName} fill={x.color}/>)\r\n    })\r\n  }\r\n  const maxLabelLangth = data.reduce(function(maxval,currentValue){\r\n    return (currentValue._id !== null && currentValue._id.length > maxval)? currentValue._id.length:maxval;\r\n  },0);\r\n  const xAxis = (data.length >5 || maxLabelLangth>9)? <XAxis dataKey=\"_id\" textAnchor=\"end\" interval={0} angle={-30} tick={{fontSize: 12}} />: <XAxis dataKey=\"_id\"/>\r\n  const legend = (legendType === \"null\" || width < 500) ? null :  <Legend layout=\"horizontal\" verticalAlign=\"top\" align=\"center\"/>\r\n  return (\r\n    <div style={{direction: \"ltr\"}}>\r\n    <BarChart\r\n      width={width}\r\n      height={height}\r\n      data={data}\r\n      margin={{\r\n        top: 5, right: 0, left: 0, bottom: 75,\r\n      }}\r\n    >\r\n      <CartesianGrid strokeDasharray=\"3 3\" />\r\n      {xAxis}\r\n      <YAxis />\r\n      <Tooltip />\r\n      {legend}\r\n      {bars}\r\n      {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\r\n    </BarChart>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default MyBarChart\r\n","import React, { useState} from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\nimport { SelectGroupBy2 } from '../atoms/SelectGroupBy2'\r\n// import { RangeSlider } from '../atoms/RangeSlider'\r\nimport MyBarChart from '../molecules/MyBarChart'\r\n\r\ninterface IProps { }\r\nconst getSize = (width: number) => {\r\n    let size: number = 500;\r\n    if (width <= 350)\r\n        size = 300;\r\n    else if (width <= 760)\r\n        size = width * 0.85;\r\n    else if (width <= 1500)\r\n        size = width * 0.75;\r\n    else\r\n        size = 1200;\r\n    return size;\r\n}\r\n\r\nexport const GroupByGraphsPanel: React.FC<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const [graphSize, setGraphSize] = useState(getSize(window.innerWidth));\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    const styleLable = {\r\n        fontWeight: 700,\r\n        marginTop: \"5px\",\r\n        marginLeft: \"20px\",\r\n        marginRight: \"20px\"\r\n    };\r\n    const divConstolsRow ={\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\" \r\n    }  as React.CSSProperties;\r\n    React.useEffect(() => {\r\n        function handleResize() {\r\n            const size = getSize(window.innerWidth)\r\n            setGraphSize(size)\r\n        }\r\n        window.addEventListener('resize', handleResize)\r\n        return (() => { window.removeEventListener('resize', handleResize) })\r\n    })\r\n    let graph1Size = Math.min(380, graphSize)\r\n    let graph2Size = Math.min(600, graphSize)\r\n    //let width = window.innerWidth|| document.documentElement.clientWidth|| document.body.clientWidth;  \r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    let barsGrp2 = store.groupBy2.getBars();\r\n    let reactDataGrp2 = toJS(store.dataGroupby2)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard styleType={2} title={t('CasualtiesByFilter')}>\r\n                    <MyBarChart data={reactData2} width={graph1Size}  fill=\"#FE9772\" />\r\n                </SmallCard>\r\n                <SmallCard styleType={3}>\r\n                    <SelectGroupBy id=\"Graphs.Main\" />\r\n                    <MyBarChart data={reactData3} width={graph2Size} height={graph2Size*0.65}></MyBarChart>\r\n                </SmallCard>\r\n                <SmallCard width={graphSize + 150}>\r\n                    <div style ={divConstolsRow}>\r\n                        <span style={styleLable}> {t('GroupBy')}:</span>\r\n                        <SelectGroupBy id=\"Graphs.Grp2\" labelText='' />\r\n                        <SelectGroupBy2 id=\"Graphs\" />\r\n                        {/* <RangeSlider id=\"Graphs\" label=\"resize\" value={80} onChange={onSizeSliderChange}/> */}\r\n                    </div>\r\n                    <MyBarChart data={reactDataGrp2} bars={barsGrp2} width={graphSize} height={graphSize * 0.62} legendType=\"top\"></MyBarChart>\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n    // const onSizeSliderChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    //     let size:number = parseInt(event.target.value)\r\n    //     switch(true) {\r\n    //         case (size <= 25):\r\n    //             size= 300;\r\n    //             break;\r\n    //         case (size <= 50):\r\n    //             size= 500;\r\n    //           break;\r\n    //         case (size <= 75):\r\n    //             size= 800;\r\n    //           break;\r\n    //         case (size <= 100):\r\n    //             size= 1200;\r\n    //           break;\r\n    //         default:\r\n    //             size= 500;\r\n    //       }\r\n    //     setGraphSize(size) \r\n    //   };\r\n\r\n// function debounce(fn:()=>void, ms:any ) {\r\n//     let timer :any\r\n//     return _ => {\r\n//       clearTimeout(timer)\r\n//       timer = setTimeout(_ => {\r\n//         timer = null\r\n//         fn.apply(this , arguments)\r\n//       }, ms)\r\n//     };\r\n//   }","\r\nimport React ,{ FunctionComponent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\n//import { observer } from \"mobx-react\"\r\n// @ts-ignore\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css'\r\n\r\ninterface IProps {\r\n    dataName?:string\r\n    data: any[]\r\n    columns? :any[]\r\n  }\r\n export const GroupByTable:FunctionComponent<IProps> = ({dataName='Year', columns ,data}) => {\r\n    const { t } = useTranslation();\r\n    if (columns === undefined)\r\n    {\r\n        columns = [{\r\n            dataField: '_id',\r\n            text: t(dataName),\r\n        }, {\r\n            dataField: 'count',\r\n            text: t('Casualties'),\r\n        }];\r\n    }\r\n    if (data!= null ){\r\n        return (<div className=\"groupByTable\">\r\n            <BootstrapTable keyField='_id' data={data} columns={columns} headerClasses=\"table-header\" />\r\n            </div>\r\n            )\r\n    }\r\n    else return null;\r\n}\r\n//export default GroupByTable;","import React ,{ FunctionComponent } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { toJS } from 'mobx'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport { GroupByTable } from '../molecules/GroupByTable'\r\nimport { SmallCard } from '../atoms/SmallCard'\r\nimport { SelectGroupBy } from '../atoms/SelectGroupBy'\r\nimport { SelectGroupBy2 } from '../atoms/SelectGroupBy2'\r\n\r\ninterface IProps { }\r\n\r\nexport const GroupByTablesPanel: FunctionComponent<IProps> = observer(() => {\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const style = {\r\n        marginLeft: \"0\",\r\n        marginRight: \"0\",\r\n        marginTop: \"20px\"\r\n    };\r\n    const divConstolsRow ={\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\" \r\n    }  as React.CSSProperties;\r\n    const styleLable = {\r\n        fontWeight: 700,\r\n        marginTop: \"5px\",\r\n        marginLeft: \"20px\",\r\n        marginRight: \"20px\"\r\n    }; \r\n    let reactData1 = toJS(store.dataByYears)\r\n    let reactData2 = toJS(store.dataFilterdByYears)\r\n    let reactData3 = toJS(store.dataFilterd)\r\n    let columnsGrp2 = store.groupBy2.getColumns().map((x) => { return ({ dataField: x, text: t(x) }) })\r\n    let reactDataGrp2 = toJS(store.dataGroupby2)\r\n    if (reactData1.length > 0) {\r\n        return (\r\n            <div className=\"row\" style={style}>\r\n                <SmallCard title={t('AllCasualtiesInRegion')}>\r\n                    <GroupByTable data={reactData1} />\r\n                </SmallCard>\r\n                <SmallCard title={t('CasualtiesByFilter')}>\r\n                    <GroupByTable data={reactData2} />\r\n                </SmallCard>\r\n                <SmallCard styleType={1}>\r\n                    <SelectGroupBy id=\"Tables.Main\"/>\r\n                    <GroupByTable data={reactData3} dataName={store.groupBy.text} />\r\n                </SmallCard>\r\n                <SmallCard styleType={4}>\r\n                    <div style ={divConstolsRow}>\r\n                        <span style={styleLable}> {t('GroupBy')}:</span>\r\n                        <SelectGroupBy  id=\"Tables.Grp2\"  labelText=''/>\r\n                        <SelectGroupBy2 id=\"Tables\"/></div>\r\n                    <GroupByTable data={reactDataGrp2} dataName={store.groupBy.text} columns={columnsGrp2} />\r\n                </SmallCard>\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n})\r\n","import React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport MapAccidents from '../organisms/MapAccidents'\r\nimport { AccidentsTable } from '../organisms/AccidentsTable'\r\nimport { GroupByGraphsPanel } from '../organisms/GroupByGraphsPanel'\r\nimport { GroupByTablesPanel } from '../organisms/GroupByTablesPanel'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { \r\n    defaultKey? :string\r\n}\r\n\r\nexport const TabsTemplate: React.FC<IProps> = observer(({defaultKey=\"charts\"}) => {\r\n    const style = {\r\n        marginTop: \"20px\"\r\n    }\r\n    const { t } = useTranslation();\r\n    const [activeKey] = useState(defaultKey);\r\n    const store = useStore();\r\n    return (\r\n        <Tabs defaultActiveKey={activeKey} id=\"main-tabs\"\r\n            onSelect={(activeKey: any) => {\r\n                if (activeKey === \"map\") {\r\n                    //map is renderd only when tab is shown to prevent leaflet bug\r\n                    store.isReadyToRenderMap = true;\r\n                }\r\n            }}\r\n        >\r\n            <Tab style={style} eventKey=\"charts\" title={t(\"Charts\")}>\r\n                <GroupByGraphsPanel />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"grouptables\" title={t(\"Groups\")}>\r\n                <GroupByTablesPanel />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"map\" title={t(\"Map\")}>\r\n                <MapAccidents />\r\n            </Tab>\r\n            <Tab style={style} eventKey=\"table\" title={t(\"Table\")}>\r\n                <div className=\"col-auto\"><AccidentsTable /></div>\r\n            </Tab>\r\n        </Tabs>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport {TabsTemplate} from './TabsTemplate'\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomeTemplate: React.FC<IProps> = observer(() => {\r\n  const { t } = useTranslation();\r\n  const store = useStore();\r\n  store.isMultipleCities = true;\r\n  store.isReadyToRenderMap = false;\r\n  store.updateCities([]);\r\n  store.initBounds();\r\n  store.submitFilter();\r\n  return (\r\n    <div className=\"App\">\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row \">\r\n        <div className=\"p-2 col-md-2\"><FilterPanel /></div>\r\n        <main className=\"col-md-10\">\r\n            <h4>{t(\"Israel\")}</h4>\r\n           <TabsTemplate/>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n})\r\n","import React from 'react'\r\nimport { HomeTemplate } from '../templates/HomeTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const HomePage: React.FC<IProps> = () => {\r\n  return (\r\n    <HomeTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n//import { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport {TabsTemplate} from './TabsTemplate'\r\nimport { FilterPanel } from '../organisms/FilterPanel'\r\nimport { useStore } from '../../stores/storeConfig'\r\nimport citisNamesHeb from \"../../assets/cities_names_heb.json\";\r\n\r\n\r\ninterface IProps { }\r\n\r\nexport const CityTemplate: React.FC<IProps> = observer(() => {\r\n  //const { t } = useTranslation();\r\n  const store = useStore();\r\n  store.isMultipleCities = false;\r\n  const { cityResult } = store;\r\n  if (cityResult === \"\") {\r\n    let cityName = useCityNamefromQuery();\r\n    store.updateCities(cityName);\r\n    store.submitFilter();\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row \">\r\n          <div className=\"p-2 col-md-2\"><FilterPanel activeCardKey={1}/></div>\r\n          <main className=\"col-md-10\">\r\n              <h4>{cityResult}</h4>\r\n              <TabsTemplate defaultKey=\"map\"/>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n//get city name by query by url\r\nfunction useCityNamefromQuery() {\r\n  let query = useQuery();\r\n  let res = [\"  -\"];\r\n  let name = query.get(\"name\")\r\n  let found = false;\r\n  if (name !== null)\r\n    found = citisNamesHeb.includes(name);\r\n  if (found) {\r\n    res = [citisNamesHeb.find(element => element === name!)!];\r\n  }\r\n  return res;\r\n}\r\n// A custom hook that builds on useLocation to parse\r\n// the query string for you.\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { CityTemplate } from '../templates/CityTemplate'\r\n\r\ninterface IProps { }\r\n\r\nexport const CityPage: React.FC<IProps> = () => {\r\n  return (\r\n    <CityTemplate />\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\ninterface IProps { }\r\n\r\nexport const AboutPage: React.FC<IProps> = () => {\r\n  const style = {\r\n    margin: \"20px\",\r\n  };\r\n  const styleDiv = {\r\n    marginBottom: \"10px\",\r\n  };\r\n  return (\r\n    <main>\r\n      <div className=\"heb\" style={style}>\r\n        <div style={styleDiv}> Safety Data     ,      .\r\n      ,      \"    \"        .\r\n</div>\r\n        <div style={styleDiv}>\r\n                 ,     ,         .\r\n</div>\r\n        <div style={styleDiv}>\r\n             \r\n</div>\r\n        <div style={styleDiv}>\r\n          <ul>\r\n            <li>     ,          .</li>\r\n            <li>               .</li>\r\n            <li>     ,       . </li>\r\n            <li>          ,        . </li>\r\n          </ul>\r\n        </div>\r\n        <div style={styleDiv}>\r\n               \" ,      <a href={'https://www.anyway.co.il'} target=\"_blank\" rel=\"noopener noreferrer\">Anyway</a>     .      <a href={'https://www.openstreetmap.org/'} target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a>.\r\n</div>\r\n\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React ,{FunctionComponent} from 'react';\r\nimport { Map, TileLayer } from 'react-leaflet';\r\nimport { observer } from \"mobx-react\"\r\nimport 'leaflet-css'\r\nimport AccidentHeatLayer from '../molecules/AccidentHeatLayer'\r\n \r\ninterface IProps {}\r\nconst INITIAL_ZOOM = 10;\r\nconst HeatMap: FunctionComponent<IProps> = observer(() => {\r\n  const WRAPPER_STYLES = { height: '80vh', width: '100vw', maxWidth: '100%' };\r\n  //const store = useStore(); \r\n  //let reactMarkers = toJS(store.dataAllInjuries);\r\n  return (\r\n    <div>\r\n      <Map center={[32.09, 34.7818]} zoom={INITIAL_ZOOM} style={WRAPPER_STYLES}>\r\n        <AccidentHeatLayer/>  \r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n      </Map>\r\n      {/* <button className=\"button\" onClick={() => this.setState({ layerHidden: !this.state.layerHidden })}>Toggle Layer</button>\r\n      <button className=\"button\" type=\"button\" onClick={this.getPoints} >Add Heat Points</button> */}\r\n    </div>\r\n)})\r\nexport default HeatMap\r\n\r\n\r\n\r\n","import React , {MouseEvent} from 'react'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\r\nimport ToggleButton from 'react-bootstrap/ToggleButton';\r\nimport { observer } from \"mobx-react\"\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\nexport const LanguageSelector = observer(() => {\r\n  const store = useStore();\r\n  const style:any = document.getElementById('style-direction')\r\n  if (style !== null)\r\n  {\r\n    if(store.language === 'he') {\r\n        style.href = './bootstrap.rtl.min.css';\r\n        //changeLanguage('he')\r\n        document.body.classList.remove('dir-ltr');\r\n        document.body.classList.add('dir-rtl');\r\n    } \r\n    else {\r\n        style.href = './bootstrap.min.css';\r\n        //changeLanguage('en')\r\n        document.body.classList.remove('dir-rtl');\r\n        document.body.classList.add('dir-ltr');\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <ButtonGroup toggle size=\"sm\" className=\"languageSelector\">\r\n    <ToggleButton type=\"radio\" name=\"radiolang\"  value=\"he\" defaultChecked onClick={(e:MouseEvent) => { store.updateLanguage('he'); }}>\r\n      Heb\r\n    </ToggleButton>\r\n    <ToggleButton type=\"radio\" name=\"radiolang\" value=\"en\" onClick={(e:MouseEvent) => { store.updateLanguage('en'); }}>\r\n      Eng\r\n    </ToggleButton>\r\n  </ButtonGroup>\r\n  </div>\r\n  );\r\n})\r\n\r\n\r\n","import React from 'react'\r\nimport { useTranslation } from 'react-i18next';\r\nimport { observer } from \"mobx-react\"\r\nimport { Link } from 'react-router-dom';\r\n//import Button from 'react-bootstrap/Button';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport menuIcon from '../../assets/menu_white.png';\r\nimport { useStore } from '../../stores/storeConfig'\r\n\r\n\r\ninterface IProps {\r\n}\r\n\r\nconst ButtonMenu: React.FC<IProps> = observer((() => {\r\n    const styleButton = {\r\n        backgroundColor: '#007bff'\r\n    }\r\n    const styleLink = {\r\n        color: '#004ba0'\r\n    }\r\n    const { t } = useTranslation();\r\n    const store = useStore();\r\n    const alignRight= (store.language === 'he') ? true: false;\r\n    return (\r\n        <div >\r\n            {/* <Button variant=\"primary\" size=\"sm\" onClick={() => { }}>\r\n                <img src={menuIcon} alt=\"menu\" height=\"25\" width=\"25\" />\r\n            </Button> */}\r\n            <Dropdown>\r\n                <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\" style={styleButton}>\r\n                    <img src={menuIcon} alt=\"menu\" height=\"25\" width=\"25\" />\r\n                </Dropdown.Toggle>\r\n                <Dropdown.Menu  alignRight={alignRight}>\r\n                    <Dropdown.Item as=\"button\" ><Link style={styleLink} to=\"/\">{t('Home')}</Link></Dropdown.Item>\r\n                    <Dropdown.Item as=\"button\" ><Link style={styleLink} to=\"/city\">{t('Cities')}</Link></Dropdown.Item>\r\n                    <Dropdown.Item as=\"button\" ><Link style={styleLink} to=\"/about\">{t('About')}</Link></Dropdown.Item>\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        </div>\r\n    )\r\n\r\n}))\r\nexport default ButtonMenu\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { LanguageSelector } from '../molecules/LanguageSelector';\r\nimport { Link } from 'react-router-dom';\r\nimport ButtonMenu from '../atoms/ButtonMenu'\r\nimport logo from '../../assets/safety-logo.png';\r\n\r\n\r\ninterface IProps {\r\n  title: string\r\n}\r\ninterface IProps { }\r\nexport const Header: React.FC<IProps> = ({ title }) => {\r\n  const divStyle = {\r\n    display: 'flex',\r\n    flexFlow: 'row wrap'\r\n  };\r\n  const { t } = useTranslation();\r\n  const [showNavMenu, setShowNavMenu] = useState(getShowNavMenu(window.innerWidth));\r\n  const navMenu = (showNavMenu) ? <div style={divStyle}>\r\n    <nav className=\"App-nav\">\r\n      <Link to=\"/\">{t('Home')}</Link>\r\n      <Link to=\"/city\">{t('Cities')}</Link>\r\n      <Link to=\"/about\">{t('About')}</Link>\r\n    </nav>\r\n  </div> : <ButtonMenu />;\r\n  React.useEffect(() => {\r\n        function handleResize() {\r\n            const show = getShowNavMenu(window.innerWidth)\r\n            setShowNavMenu(show)\r\n        }\r\n        window.addEventListener('resize', handleResize)\r\n        return (() => { window.removeEventListener('resize', handleResize) })\r\n    })\r\n  return (\r\n    <header className=\"App-header\">\r\n      <div style={divStyle}>\r\n      <img src={logo} alt=\"Safety-Data logo\" height=\"45\" width=\"188\" />\r\n      {navMenu}\r\n      </div>\r\n      <div className=\"languageSelector\">\r\n        <LanguageSelector />\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nconst getShowNavMenu = (width: number) => {\r\n  let res = true;\r\n  if (width <= 530)\r\n    res = false;\r\n  return res;\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Link } from 'react-router-dom';\r\n\r\n//export default class Footer extends React.Component {\r\ninterface IProps { }\r\nexport const Footer: React.FC<IProps> = () =>\r\n{\r\n    const divStyle = {\r\n      display: 'flex',\r\n      flexFlow: 'row wrap'\r\n    };\r\n    const { t } = useTranslation();\r\n    return (\r\n      <footer style={divStyle}>\r\n        <nav  className= \"App-nav\">\r\n          <Link to=\"/\">{t('Home')}</Link>\r\n          <Link to=\"/city\">{t('Cities')}</Link>\r\n          <Link to=\"/about\">{t('About')}</Link>\r\n        </nav>\r\n      </footer>\r\n    );\r\n}\r\nexport default Footer\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route} from 'react-router-dom'\r\nimport './i18n';\r\nimport './App.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport { HomePage } from './components/pages/HomePage'\r\nimport {CityPage} from './components/pages/CityPage'\r\nimport {AboutPage} from './components/pages/AboutPage'\r\nimport HeatMap from './components/pages/HeatMap';\r\nimport Header from './components/templates/Headr';\r\nimport Footer from './components/templates/Footer';\r\n//import mapStore from './stores/MapStore';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        {/* A <Switch> looks through its children <Route>s and\r\n          renders the first one that matches the current URL. */}\r\n        <Card display='flex' height='100%'>\r\n          <Header title=\"Safety Data\" />\r\n          <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/about\">\r\n              <AboutPage />\r\n            </Route>\r\n            <Route path=\"/heatmap\">\r\n                <HeatMap />\r\n            </Route>\r\n            <Route path=\"/city\">\r\n                <CityPage />\r\n            </Route>\r\n            <Route path=\"/\">\r\n                <HomePage />\r\n            </Route>\r\n          </Switch>\r\n          </div>\r\n          <Footer />\r\n        </Card>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}